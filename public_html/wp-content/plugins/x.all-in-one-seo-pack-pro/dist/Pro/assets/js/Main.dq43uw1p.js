import{u as pt,d as mt}from"./vue-router.kh6ggxxn.js";import{D as Mt,T as E,g as gt,c as ht,e as Bt}from"./index.ms17x8jb.js";import{a as $}from"./addons.b4tcn9l3.js";import{u as Ot,a as Ft}from"./RequiresUpdate.61z5nxgh.js";import{C as Vt}from"./Index.357n8h84.js";import{n as kt}from"./numbers.busvl4mt.js";import{u as W}from"./WpTable.cpvmueu1.js";import{C as st}from"./Table.mfhtc2w7.js";import{b as ft}from"./date.lf1kpfnj.js";import{u as ot}from"./PostTypes.pd67gy5m.js";import{C as bt}from"./Tooltip.i4ssodi5.js";import{L as nt,a as Nt,_ as _t,b as vt,c as St,d as wt,e as yt,u as It}from"./Index.l8xq9y8c.js";import{S as qt,e as Ut}from"./index.h6q9ey6x.js";import"./translations.b896ab1m.js";import{_ as Q}from"./_plugin-vue_export-helper.oebm7xum.js";import{f as z,x as f,o as p,c as M,l as P,m as c,a as i,t as u,y as T,C as k,G,E as J,g as O,k as it,n as Pt,v as at,u as y,b as A,N as Et,j as Kt,F as zt,J as Ht}from"./runtime-dom.esm-bundler.h3wlw8jh.js";import{_ as a,a as D}from"./default-i18n.hohxoesu.js";import{a as At,C as Yt}from"./Caret.mmz7e9vd.js";import{S as tt}from"./External.hqd7q0q0.js";import{C as Tt}from"./Tabs.olufoui4.js";import{a as lt,b as rt,S as ut}from"./Affiliate.hm1ohzvq.js";import{S as ct}from"./Suggestion.c51vk5fc.js";import{S as xt}from"./Refresh.n42desgp.js";import dt from"./Overview.o0drymn4.js";import{G as jt}from"./constants.d8cemsm4.js";import{u as Gt}from"./JsonValues.g6ep3o3z.js";import{B as Jt}from"./Checkbox.ksyjjc49.js";import{B as Wt}from"./Textarea.h27mw65u.js";import{C as Qt}from"./Card.iorx4a6j.js";import{C as Xt}from"./ExcludePosts.m0mwp9i3.js";import{B as Zt}from"./HighlightToggle.llk88jd3.js";import{G as $t,a as te}from"./Row.o2r9j8ur.js";import{C as ee}from"./PostTypeOptions.o7bciqbf.js";import{C as se}from"./SettingsRow.ea488ybt.js";import"./helpers.dyu2l85l.js";import"./upperFirst.oqo5qnuq.js";import"./_stringToArray.mpukyt2g.js";import"./toString.dd8wo7ge.js";import"./RequiresUpdate.boyn5jx7.js";import"./license.kld2zdxf.js";import"./allowed.dfbz6krv.js";import"./deburr.h0pzx1ve.js";/* empty css             */import"./params.k8e95b6q.js";import"./Header.45xwlfdh.js";import"./ScrollAndHighlight.n54dzrjh.js";import"./ScrollTo.ntqtkazp.js";import"./LicenseKeyBar.hbcs2hg4.js";import"./LogoGear.cppzhid7.js";import"./AnimatedNumber.bhnjafak.js";import"./Logo.hc2uc75u.js";import"./Support.d9rg0n6z.js";import"./Url.eb5t9tf7.js";import"./Exclamation.k8fogrns.js";import"./Gear.fv5bjmis.js";import"./Slide.bl4b075t.js";import"./Index.j0jgp0il.js";import"./Editor.k30kkf5m.js";import"./isEqual.36kb04be.js";import"./_baseIsEqual.hvlfp2dq.js";import"./_getTag.i5tbt0nk.js";import"./_baseClone.hjskggz2.js";import"./_arrayEach.n8ou32wp.js";import"./_getAllKeysIn.zqxbvqi0.js";import"./Plus.kxxpl2b6.js";import"./TruSeoScore.o5r0icxl.js";import"./postSlug.nfaf8ycs.js";import"./metabox.ejlpgbw1.js";import"./cleanForSlug.g19v7edy.js";import"./_baseTrim.ohbpllmu.js";import"./_baseSet.ifi8fiaf.js";import"./ProBadge.kqrqznog.js";import"./Information.b2910xzr.js";import"./Ellipse.e6z3whsw.js";import"./AddonConditions.ly9dklbb.js";import"./Index.ezxlh32q.js";import"./Blur.im8lkvwf.js";import"./SeoSiteScore.cnqtep2v.js";import"./DonutChartWithLegend.i08x2p7z.js";import"./Row.jrf2e4pb.js";import"./RequiredPlans.iq78lp87.js";import"./Checkmark.kpu6r7ix.js";import"./AddPlus.e4pukazt.js";import"./External.f5l8nu9j.js";import"./Radio.dgnkd9yh.js";const V="aioseo-pro",oe={emits:["updated"],setup(t,o){const{editPost:r,viewPost:e}=ot(),n=I=>(C.setDomainsReportInnerPaginatedPage({domain:t.domain,page:S}),C.fetchDomainsReportInner({...I,additionalFilters:{domainIndex:t.activeDomain,domain:t.domain}}).then(()=>{h.value++,o.emit("updated")})),s="aioseo-domains-report-inner-",g=z(()=>s+Mt.now().toFormat("x")),{pageNumber:S,processPagination:b,refreshTable:_,resultsPerPage:v,searchTerm:m,wpTableKey:h,wpTableLoading:x}=W({changeItemsPerPageSlug:"aioseo-domains-report-inner",fetchData:n,resultsPerPage:5,tableId:g}),C=E();return{dateSqlToLocal:ft,editPost:r,linkAssistantStore:C,pageNumber:S,processPagination:b,refreshTable:_,resultsPerPage:v,searchTerm:m,tableId:g,viewPost:e,wpTableKey:h,wpTableLoading:x}},components:{CoreTooltip:bt,CoreWpTable:st,LinkAssistantConfirmationModal:nt,LinkAssistantEditablePhrase:Nt,SvgTrash:qt},props:{domain:{type:String,required:!0},rows:{type:Array,required:!0},activeDomain:{type:Number}},data(){return{activePost:-1,showModal:!1,action:"",selectedRows:null,bulkOptions:[{label:a("Delete",V),value:"delete"}],strings:{delete:a("Delete",V)},modalStrings:{areYouSureSingle:a("Are you sure you want to delete these links for this domain?",V),areYouSureMultiple:a("Are you sure you want to delete these links for this domain?",V),areYouSureAll:a("Are you sure you want to delete all links for this domain?",V),actionCannotBeUndone:a("This action cannot be undone.",V),yesSingle:a("Yes, I want to delete these links",V),yesMultiple:a("Yes, I want to delete these links",V),yesAll:a("Yes, I want to delete all links",V),noChangedMind:a("No, I changed my mind",V)}}},computed:{columns(){return[{slug:"post_title",label:a("Post Title",V)},{slug:"phrases",label:a("Phrases with Links",V)},{slug:"publish_date",label:a("Publish Date",V),width:"160px"},{slug:"delete",width:"50px"}]},shouldShowPagination(){return 1<this.rows[0].totals.pages},initialPageNumber(){if(this.linkAssistantStore.domainsReport.innerPagination===void 0||this.linkAssistantStore.domainsReport.innerPagination[this.domain]===void 0)return 1;const t=this.linkAssistantStore.domainsReport.innerPagination[this.domain];return t||1}},methods:{toggleShowMorePhrases(t){if(this.activePost===t){this.activePost=-1;return}this.activePost=t},deleteLink({postIndex:t,linkIndex:o}){this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerLinkDelete({searchTerm:this.searchTerm,rows:this.rows,postIndex:t,linkIndex:o,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})},saveModifiedPhrase(t){if(!this.linkAssistantStore.domainsReport.rows[this.activeDomain])return;const o=Object.keys(this.linkAssistantStore.domainsReport.rows[this.activeDomain])[0];!o||!this.linkAssistantStore.domainsReport.rows[this.activeDomain][o][t.postIndex]||!this.linkAssistantStore.domainsReport.rows[this.activeDomain][o][t.postIndex].links[t.phraseIndex]||this.linkAssistantStore.domainsReport.rows[this.activeDomain][o][t.postIndex].links[t.phraseIndex].phrase_html!==t.phraseHtml&&(this.linkAssistantStore.domainsReport.rows[this.activeDomain][o][t.postIndex].links[t.phraseIndex].phrase=t.phrase,this.linkAssistantStore.domainsReport.rows[this.activeDomain][o][t.postIndex].links[t.phraseIndex].phrase_html=t.phraseHtml,this.linkAssistantStore.domainsReport.rows[this.activeDomain][o][t.postIndex].links[t.phraseIndex].anchor=t.anchor,this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerLinkUpdate({domain:o,link:this.linkAssistantStore.domainsReport.rows[this.activeDomain][o][t.postIndex].links[t.phraseIndex]}).then(this.refreshTable).then(()=>{this.wpTableKey++,this.$emit("updated")}).finally(()=>{this.wpTableLoading=!1}))},maybeDoBulkAction({action:t,selectedRows:o}){!t||!o.length||(this.action=t,this.selectedRows=o,this.showModal=!0)},doBulkAction(){if(this.showModal=!1,this.action==="delete")return this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerBulk({searchTerm:this.searchTerm,action:this.action,domainIndex:this.activeDomain,linkIndexes:this.selectedRows,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})}},created(){this.pageNumber=this.initialPageNumber}},ne={class:"domains-report-inner"},ie=["href"],ae={class:"row-actions"},le={class:"view"},re=["href"],ue={class:"edit"},ce=["href"],de={class:"date"};function pe(t,o,r,e,n,s){const g=f("link-assistant-editable-phrase"),S=f("svg-trash"),b=f("core-tooltip"),_=f("core-wp-table"),v=f("link-assistant-confirmation-modal");return p(),M("div",ne,[(p(),P(_,{class:"link-assistant-inner-table","bulk-options":n.bulkOptions,columns:s.columns,id:e.tableId,"initial-page-number":e.pageNumber,key:e.wpTableKey,loading:e.wpTableLoading,rows:r.rows,"show-pagination":s.shouldShowPagination,"show-search":!1,"show-table-footer":!1,totals:r.rows[0].totals,onPaginate:e.processPagination,onProcessBulkAction:s.maybeDoBulkAction},{post_title:c(({row:m})=>[i("strong",null,[i("a",{class:"edit-link",href:m.context.permalink,target:"_blank"},u(m.context.postTitle),9,ie)]),i("div",ae,[i("span",le,[i("a",{href:m.context.permalink,target:"_blank"},u(e.viewPost(m.context.postType.singular)),9,re),T(" | ")]),i("span",ue,[i("a",{href:m.context.editLink,target:"_blank"},u(e.editPost(m.context.postType.singular)),9,ce)])])]),phrases:c(({row:m,index:h})=>[k(g,{row:m,rowIndex:h,activeRow:n.activePost,domainsReport:"",onDelete:s.deleteLink,onToggleShowMorePhrases:s.toggleShowMorePhrases,onSaveModifiedPhrase:s.saveModifiedPhrase},null,8,["row","rowIndex","activeRow","onDelete","onToggleShowMorePhrases","onSaveModifiedPhrase"])]),publish_date:c(({row:m})=>[i("span",de,u(e.dateSqlToLocal(m.context.publishDate,"MMMM d, yyyy")),1)]),delete:c(({index:m})=>[k(b,{type:"action"},{tooltip:c(()=>[T(u(n.strings.delete),1)]),default:c(()=>[k(S,{onClick:h=>s.maybeDoBulkAction({action:"delete",selectedRows:[m]})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["bulk-options","columns","id","initial-page-number","loading","rows","show-pagination","totals","onPaginate","onProcessBulkAction"])),k(v,{show:n.showModal,strings:n.modalStrings,selectedRows:n.selectedRows,onDoBulkAction:s.doBulkAction,onCloseModal:o[0]||(o[0]=m=>n.showModal=!1)},null,8,["show","strings","selectedRows","onDoBulkAction"])])}const me=Q(oe,[["render",pe]]),B="aioseo-pro",ge={setup(){const t=E(),o="aioseo-link-assistant-domains-report-wp-table",{pageNumber:r,processChangeItemsPerPage:e,processFetchTableData:n,processPagination:s,processSearch:g,processSort:S,searchTerm:b,wpTableKey:_,wpTableLoading:v}=W({changeItemsPerPageSlug:"linkAssistantDomainsReport",fetchData:t.fetchDomainsReport,tableId:o});return{linkAssistantStore:t,pageNumber:r,processChangeItemsPerPage:e,processFetchTableData:n,processPagination:s,processSearch:g,processSort:S,searchTerm:b,settingsStore:gt(),tableId:o,wpTableKey:_,wpTableLoading:v}},components:{CoreWpTable:st,DomainsReportInner:me,LinkAssistantConfirmationModal:nt,SvgCaret:At,SvgFile:Ut,SvgLinkExternal:tt},data(){return{numbers:kt,innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,action:null,bulkOptions:[{label:a("Delete",B),value:"delete"}],strings:{view:a("View",B),deleteAllLinks:a("Delete All Links",B)},modalStrings:{areYouSureSingle:a("Are you sure you want to delete all links for this domain?",B),areYouSureMultiple:a("Are you sure you want to delete all links for these domains?",B),areYouSureAll:a("Are you sure you want to delete all links for all domains?",B),actionCannotBeUndone:a("This action cannot be undone.",B),yesSingle:a("Yes, I want to delete this link",B),yesMultiple:a("Yes, I want to delete these links",B),yesAll:a("Yes, I want to delete all links",B),noChangedMind:a("No, I changed my mind",B)}}},computed:{columns(){return[{slug:"domain",label:a("Domain",B)},{slug:"posts",label:a("Posts",B),width:"90px"},{slug:"links",label:a("Links",B),width:"90px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{postCount(t){const o=Object.keys(t)[0];return t[o][0].totals.total},linkCount(t){const o=Object.keys(t)[0];return t[o][0].totals.totalLinks},isRowActive(t){return t===this.activeRow},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDoBulkAction({action:t,selectedRows:o}){o===!1||!t||(this.action=t,this.selectedRows=o,this.showModal=!0)},doBulkAction(){return this.showModal=!1,this.wpTableLoading=!0,this.linkAssistantStore.domainsReportBulk({action:this.action,searchTerm:this.searchTerm,rowIndexes:this.selectedRows}).then(this.processFetchTableData).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.wpTableKey++})},getInnerDomain(t){return Object.keys(t)[0]},getInnerDomainRows(t){return t[this.getInnerDomain(t)]},doProcessPagination(t){this.processPagination(t),this.activeRow=-1},doProcessSearch(t){this.processSearch(t),this.activeRow=-1}},beforeMount(){this.$route.query&&(this.$route.query.hostname&&(this.searchTerm=this.$route.query.hostname,this.processSearch(this.$route.query.hostname)),this.$route.query.fullReport&&(this.searchTerm="",this.processPagination(1)))}},he={class:"aioseo-link-assistant-domains-report"},ke={class:"domain-name"},fe=["onClick"],be=["src"],_e={class:"row-actions"},ve=["href"],Se=["onClick"],we=["onClick"];function ye(t,o,r,e,n,s){const g=f("svg-file"),S=f("svg-link-external"),b=f("svg-caret"),_=f("domains-report-inner"),v=f("core-wp-table"),m=f("link-assistant-confirmation-modal");return p(),M("div",he,[(p(),P(v,{ref:"table","bulk-options":n.bulkOptions,columns:s.columns,id:e.tableId,"initial-items-per-page":e.settingsStore.settings.tablePagination.linkAssistantDomainsReport,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:e.linkAssistantStore.domainsReport.rows,totals:e.linkAssistantStore.domainsReport.totals,"show-items-per-page":"",onPaginate:s.doProcessPagination,onProcessBulkAction:s.maybeDoBulkAction,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:s.doProcessSearch,onSortColumn:e.processSort},{domain:c(({row:h,index:x,editRow:C})=>[i("div",ke,[i("a",{href:"#",class:G({active:s.isRowActive(x)}),onClick:J(I=>{C(x),s.toggleRow(x)},["prevent"])},[i("img",{alt:"Domain Favicon",class:"favicon",src:`https://www.google.com/s2/favicons?sz=32&domain=${Object.keys(h)[0]}`},null,8,be),i("span",null,u(Object.keys(h)[0]),1)],10,fe)]),i("div",_e,[i("span",null,[i("a",{class:"view",href:"https://"+Object.keys(h)[0],target:"_blank"},[i("span",null,u(n.strings.view),1)],8,ve),T(" | ")]),i("span",null,[i("a",{class:"delete-all-links",href:"#",onClick:J(I=>s.maybeDoBulkAction({action:"delete",selectedRows:x}),["prevent"])},[i("span",null,u(n.strings.deleteAllLinks),1)],8,Se)])])]),posts:c(({row:h})=>[i("div",null,[k(g),i("span",null,u(n.numbers.numberFormat(s.postCount(h))),1)])]),links:c(({row:h})=>[i("div",null,[k(S),i("span",null,u(n.numbers.numberFormat(s.linkCount(h))),1)])]),"toggle-button":c(({index:h,editRow:x})=>[i("button",{class:G(["toggle-row-button",{active:s.isRowActive(h)}]),onClick:C=>{x(h),s.toggleRow(h)}},[k(b)],10,we)]),"edit-row":c(({row:h})=>[(p(),P(_,{key:n.innerTableKey,domain:s.getInnerDomain(h),rows:s.getInnerDomainRows(h),activeDomain:n.activeRow,onUpdated:o[0]||(o[0]=x=>n.innerTableKey++)},null,8,["domain","rows","activeDomain"]))]),_:1},8,["bulk-options","columns","id","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),k(m,{show:n.showModal,strings:n.modalStrings,selectedRows:n.selectedRows,onDoBulkAction:s.doBulkAction,onCloseModal:o[1]||(o[1]=h=>n.showModal=!1)},null,8,["show","strings","selectedRows","onDoBulkAction"])])}const Ie=Q(ge,[["render",ye]]),Rt=(t={})=>{const{post:o,postIndex:r,refreshTable:e,requestType:n}=t,s=O(!1),g=z(()=>{let _=E().linksReport.prioritizedPosts;return Array.isArray(_)&&(_=_.map(Number)),_.includes(parseInt(o.ID))});return{doRefresh:()=>{s.value=!0,window.aioseoBus.$emit("updatingLinks",!0),E().linksRefresh({postIndex:r,postId:o.ID,[n]:!0}).finally(()=>{s.value=!1,window.aioseoBus.$emit("updatingLinks",!1),e()})},isPrioritizedPost:g,refreshLoading:s}},Pe={class:"links-report-inner"},Ae={__name:"LinksReportInner",props:{post:{type:Object,required:!0},postIndex:{type:Number,required:!0},postId:{type:Number,required:!0},initialActiveTab:String},setup(t){const o="aioseo-pro",r=E(),e=t,n=O("suggestions-inbound"),s=O("inbound-internal"),g=O(0),S={refresh:a("Refresh",o)},b=z(()=>[{slug:"inbound-internal",icon:lt,name:D("%1$s %2$s",r.linksReport.counts[e.postIndex].inboundInternal,a("Inbound Internal",o))},{slug:"outbound-internal",icon:rt,name:D("%1$s %2$s",r.linksReport.counts[e.postIndex].outboundInternal,a("Outbound Internal",o))},{slug:"affiliate",icon:ut,name:D("%1$s %2$s",r.linksReport.counts[e.postIndex].affiliate,a("Affiliate",o))},{slug:"external",icon:tt,name:D("%1$s %2$s",r.linksReport.counts[e.postIndex].external,a("External",o))},{slug:"link-suggestions",icon:ct,name:D("%1$s %2$s",r.linksReport.counts[e.postIndex].suggestionsOutbound+r.linksReport.counts[e.postIndex].suggestionsInbound,a("Link Suggestions",o))}]),_=d=>{window.aioseoBus.$emit("updatingLinks",!0);const l={...d,additionalFilters:{postId:e.post.ID,postIndex:e.postIndex}};return r.fetchLinksReportInner(l).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1)})},{refreshTable:v}=W({fetchData:_}),m=(d,l)=>{s.value=d,l&&(n.value=l)},{doRefresh:h,isPrioritizedPost:x,refreshLoading:C}=Rt({post:e.post,postIndex:e.postIndex,refreshTable:v,requestType:"linksReport"}),{filteredSuggestionsOutbound:I}=It();return it(()=>{e.initialActiveTab&&Pt(()=>{m(e.initialActiveTab)})}),(d,l)=>{const R=f("base-button");return p(),M("div",Pe,[(p(),P(y(Tt),{class:"link-tabs",internal:"",key:g.value,tabs:b.value,active:s.value,onChanged:l[0]||(l[0]=w=>m(w))},{"var-tab-icon":c(({tab:w})=>[(p(),P(at(w.icon),{class:G([{warning:w.warning}])},null,8,["class"]))]),button:c(()=>[k(R,{class:"button-refresh",type:"gray",size:"medium",loading:y(C),disabled:y(x),onClick:y(h)},{default:c(()=>[k(y(xt)),T(" "+u(S.refresh),1)]),_:1},8,["loading","disabled","onClick"])]),_:1},8,["tabs","active"])),s.value==="outbound-internal"?(p(),P(y(_t),{key:0,post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:"",onOpenSuggestions:l[1]||(l[1]=w=>m("link-suggestions","suggestions-outbound")),onLinksUpdated:l[2]||(l[2]=w=>g.value++)},null,8,["post","postIndex","postId"])):A("",!0),s.value==="inbound-internal"?(p(),P(y(vt),{key:1,post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:"",onOpenSuggestions:l[3]||(l[3]=w=>m("link-suggestions","suggestions-inbound")),onLinksUpdated:l[4]||(l[4]=w=>g.value++)},null,8,["post","postIndex","postId"])):A("",!0),s.value==="affiliate"?(p(),P(y(St),{key:2,post:t.post,postIndex:t.postIndex,postId:t.postId,onLinksUpdated:l[5]||(l[5]=w=>g.value++),linksReport:""},null,8,["post","postIndex","postId"])):A("",!0),s.value==="external"?(p(),P(y(wt),{key:3,post:t.post,postIndex:t.postIndex,postId:t.postId,onLinksUpdated:l[6]||(l[6]=w=>g.value++),linksReport:""},null,8,["post","postIndex","postId"])):A("",!0),s.value==="link-suggestions"?(p(),P(y(yt),{key:4,post:t.post,postIndex:t.postIndex,postId:t.postId,filteredSuggestionsOutbound:y(I)(t.post),initialTab:n.value,linksReport:"",onShowStandalone:l[7]||(l[7]=w=>d.showStandalone=!0),onSuggestionsTabChanged:l[8]||(l[8]=w=>n.value=w),onLinksUpdated:l[9]||(l[9]=w=>g.value++)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):A("",!0)])}}},N="aioseo-pro",Te={setup(){const t=E(),o=gt(),r="aioseo-link-assistant-links-report-wp-table",e=O(null),n=O({}),s=({name:H,selectedValue:Y})=>{H==="post-type"&&(n.value["post-type"]=Y,n.value.term="all"),e.value=t.linksReport.additionalFilters.filter(K=>K.name==="post-type"||K.dependsOn&&n.value["post-type"]===K.dependsOn.value)},g=()=>{n.value.term="all",n.value["post-type"]="",s({name:"post-type",selectedValue:""})},{editPost:S,viewPost:b}=ot(),{pageNumber:_,processAdditionalFilters:v,processChangeItemsPerPage:m,processFilterTable:h,processPagination:x,processSearch:C,processSort:I,refreshTable:d,searchTerm:l,wpTableKey:R,wpTableLoading:w}=W({changeItemsPerPageSlug:"linkAssistantLinksReport",fetchData:t.fetchLinksReport,resetSelectedFilters:g,selectedFilters:n,tableId:r});return{additionalFilters:e,dateSqlToLocal:ft,editPost:S,linkAssistantStore:t,pageNumber:_,processAdditionalFilterOptionSelected:s,processAdditionalFilters:v,processChangeItemsPerPage:m,processFilterTable:h,processPagination:x,processSearch:C,processSort:I,refreshTable:d,searchTerm:l,selectedFilters:n,settingsStore:o,tableId:r,viewPost:b,wpTableKey:R,wpTableLoading:w}},components:{CoreTooltip:bt,CoreWpTable:st,LinkAssistantConfirmationModal:nt,LinksReportInner:Ae,SvgCaret:At,SvgLinkAffiliate:ut,SvgLinkExternal:tt,SvgLinkInternalInbound:lt,SvgLinkInternalOutbound:rt,SvgLinkSuggestion:ct},data(){return{numbers:kt,initialActiveTab:"inbound-internal",innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,bulkAction:null,strings:{deleteAllLinks:a("Delete All Links",N),inboundInternal:D(a("%1$sInbound Internal Links%2$sLinks from other posts to this post",N),"<strong>","</strong><br />"),outboundInternal:D(a("%1$sOutbound Internal Links%2$sLinks from this post to other posts",N),"<strong>","</strong><br />")},modalStrings:{areYouSureSingle:a("Are you sure you want to delete all links for this post?",N),actionCannotBeUndone:a("This action cannot be undone.",N),yesSingle:a("Yes, I want to delete all links",N),noChangedMind:a("No, I changed my mind",N)}}},computed:{columns(){return[{slug:"post_title",label:a("Post Title",N),width:"100%"},{slug:"publish_date",label:a("Publish Date",N),width:"170px"},{slug:"internal",label:a("Internal",N),width:"150px"},{slug:"affiliate",label:a("Affiliate",N),width:"90px"},{slug:"external",label:a("External",N),width:"90px"},{slug:"suggestions",label:a("Suggestions",N),width:"110px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{getPostId(t){return parseInt(t)},isRowActive(t){return t===this.activeRow},maybeEditRow(t,o,r,e){if(!r){this.initialActiveTab=t,o(e),this.toggleRow(e);return}if(this.initialActiveTab===t){o(e),this.toggleRow(e);return}this.initialActiveTab=t,this.innerTableKey++},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDeleteAllLinks(t){t!==!1&&(this.selectedRows=t,this.showModal=!0)},deleteAllLinks(){this.showModal=!1;const t=this.linkAssistantStore.linksReport.rows[this.selectedRows].ID;if(t)return this.wpTableLoading=!0,this.linkAssistantStore.linksReportDeleteAll({postId:t}).finally(()=>{this.activeRow=-1,this.wpTableKey++,this.refreshTable()})},doProcessPagination(t){this.processPagination(t),this.activeRow=-1},doProcessSearch(t){this.processSearch(t),this.activeRow=-1},doProcessFilterTable(t){this.processFilterTable(t),this.activeRow=-1},doProcessAdditionalFilters(t){this.processAdditionalFilters(t),this.activeRow=-1}},beforeMount(){this.additionalFilters=this.linkAssistantStore.linksReport.additionalFilters.filter(t=>t.name==="post-type"||t.dependsOn&&this.selectedFilters["post-type"]===t.dependsOn.value),this.$route.query&&(Object.entries(this.$route.query).forEach(t=>{switch(t[0]){case"fullReport":this.processFilterTable({slug:"all"});break;case"postTitle":this.searchTerm=this.$route.query.postTitle,this.processSearch(this.searchTerm);break;case"linkingOpportunities":this.processFilterTable({slug:"linking-opportunities"});break;case"orphaned-posts":this.processFilterTable({slug:"orphaned-posts"});break}}),this.linkAssistantStore.setLinksReportCounts())}},xe={class:"aioseo-link-assistant-links-report"},Re={class:"post-title"},Le=["onClick"],Ce={key:0,class:"post-status-badge draft"},De={key:1,class:"post-status-badges"},Me={class:"post-status-badge future"},Be={class:"post-status-badge future"},Oe={class:"row-actions"},Fe=["href"],Ve=["href"],Ne=["onClick"],qe={key:0,class:"date"},Ue={class:"internal-links-count"},Ee=["onClick"],Ke={class:"aioseo-tooltip-wrapper"},ze=["innerHTML"],He=["onClick"],Ye={class:"aioseo-tooltip-wrapper"},je=["innerHTML"],Ge=["onClick"],Je=["onClick"],We=["onClick"],Qe=["onClick"];function Xe(t,o,r,e,n,s){const g=f("svg-link-internal-inbound"),S=f("core-tooltip"),b=f("svg-link-internal-outbound"),_=f("svg-link-suggestion"),v=f("svg-link-affiliate"),m=f("svg-link-external"),h=f("svg-caret"),x=f("LinksReportInner"),C=f("core-wp-table"),I=f("link-assistant-confirmation-modal");return p(),M("div",xe,[(p(),P(C,{ref:"table",class:"posts-table",id:e.tableId,"additional-filters":e.additionalFilters,columns:s.columns,filters:e.linkAssistantStore.linksReport.filters,"initial-items-per-page":e.settingsStore.settings.tablePagination.linkAssistantLinksReport,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:e.linkAssistantStore.linksReport.rows,"selected-filters":e.selectedFilters,"show-bulk-actions":!1,totals:e.linkAssistantStore.linksReport.totals,"show-items-per-page":"",onAdditionalFilterOptionSelected:e.processAdditionalFilterOptionSelected,onFilterTable:s.doProcessFilterTable,onPaginate:s.doProcessPagination,onProcessAdditionalFilters:s.doProcessAdditionalFilters,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:s.doProcessSearch,onSortColumn:e.processSort},{post_title:c(({row:d,index:l,editRow:R})=>{var w,H,Y,K,X,Z;return[i("div",Re,[i("a",{href:"#",class:G({active:s.isRowActive(l)}),onClick:J(et=>{R(l),s.toggleRow(l)},["prevent"])},[i("span",null,u(d.context.postTitle),1),["draft","private","pending"].includes(d.post_status)?(p(),M("span",Ce,u((Y=(H=(w=d.context)==null?void 0:w.postStatus)==null?void 0:H.label)==null?void 0:Y.toUpperCase()),1)):A("",!0),d.post_status==="future"?(p(),M("span",De,[i("span",Me,u((Z=(X=(K=d.context)==null?void 0:K.postStatus)==null?void 0:X.label)==null?void 0:Z.toUpperCase()),1),i("span",Be,u(e.dateSqlToLocal(d.post_date,"MMMM d, yyyy").toUpperCase()),1)])):A("",!0)],10,Le)]),i("div",Oe,[i("span",null,[i("a",{class:"view",href:d.context.permalink,target:"_blank"},[i("span",null,u(e.viewPost(d.context.postType.singular)),1)],8,Fe),T(" | ")]),i("span",null,[i("a",{class:"edit",href:d.context.editLink,target:"_blank"},[i("span",null,u(e.editPost(d.context.postType.singular)),1)],8,Ve),T(" | ")]),i("span",null,[i("a",{class:"delete-all-links",href:"#",onClick:J(et=>s.maybeDeleteAllLinks(l),["prevent"])},[i("span",null,u(n.strings.deleteAllLinks),1)],8,Ne)])])]}),publish_date:c(({row:d})=>[d.post_status==="publish"?(p(),M("span",qe,u(e.dateSqlToLocal(d.post_date,"MMMM d, yyyy")),1)):A("",!0)]),internal:c(({editRow:d,index:l,editRowActive:R})=>[i("div",Ue,[i("div",{onClick:w=>s.maybeEditRow("inbound-internal",d,R,l)},[i("div",Ke,[k(S,{class:"action"},{tooltip:c(()=>[i("span",{innerHTML:n.strings.inboundInternal},null,8,ze)]),default:c(()=>[k(g),i("span",null,u(n.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[l].inboundInternal)),1)]),_:2},1024)])],8,Ee),i("div",{onClick:w=>s.maybeEditRow("outbound-internal",d,R,l)},[i("div",Ye,[k(S,{class:"action"},{tooltip:c(()=>[i("span",{innerHTML:n.strings.outboundInternal},null,8,je)]),default:c(()=>[k(b),i("span",null,u(n.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[l].outboundInternal)),1)]),_:2},1024)])],8,He)])]),suggestions:c(({editRow:d,index:l,editRowActive:R})=>[i("div",{onClick:w=>s.maybeEditRow("link-suggestions",d,R,l)},[k(_),T(" "+u(n.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[l].suggestionsInbound+e.linkAssistantStore.linksReport.counts[l].suggestionsOutbound)),1)],8,Ge)]),affiliate:c(({editRow:d,index:l,editRowActive:R})=>[i("div",{onClick:w=>s.maybeEditRow("affiliate",d,R,l)},[k(v),T(" "+u(n.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[l].affiliate)),1)],8,Je)]),external:c(({editRow:d,index:l,editRowActive:R})=>[i("div",{onClick:w=>s.maybeEditRow("external",d,R,l)},[k(m),T(" "+u(n.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[l].external)),1)],8,We)]),"toggle-button":c(({index:d,editRow:l})=>[i("button",{class:G(["toggle-row-button",{active:s.isRowActive(d)}]),onClick:R=>{l(d),s.toggleRow(d)}},[k(h)],10,Qe)]),"edit-row":c(({row:d,index:l})=>[(p(),P(x,{key:n.innerTableKey,post:d,postIndex:l,postId:s.getPostId(d.ID),initialActiveTab:n.initialActiveTab},null,8,["post","postIndex","postId","initialActiveTab"]))]),_:1},8,["id","additional-filters","columns","filters","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","selected-filters","totals","onAdditionalFilterOptionSelected","onFilterTable","onPaginate","onProcessAdditionalFilters","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),k(I,{show:n.showModal,selectedRows:n.selectedRows,strings:n.modalStrings,onDoBulkAction:s.deleteAllLinks,onCloseModal:o[0]||(o[0]=d=>n.showModal=!1)},null,8,["show","selectedRows","strings","onDoBulkAction"])])}const Ze=Q(Te,[["render",Xe]]),$e={class:"aioseo-link-assistant-post-report"},ts={key:0,class:"header-container"},es={class:"first-row"},ss={class:"second-row"},os={class:"first-column"},ns={class:"header"},is={key:1,class:"load-progress"},as={key:2,class:"header-container"},ls={class:"first-row"},rs={class:"second-row"},us={class:"first-column"},cs={class:"header"},ds={class:"actions"},ps=["href"],ms=["href"],gs={class:"second-column"},hs={__name:"PostReport",setup(t){const o="aioseo-pro",r=E(),e=O(null),n=O(0),s=O({}),g=O("inbound-internal"),S=O("suggestions-inbound"),b=O(4),_=O(!1),v=O(!1),m={backToLinksReport:a("Back to Links Report",o),loadingHeader:a("Loading Link Suggestions. Please wait...",o),refresh:a("Refresh",o)},h=z(()=>({...s.value,links:r.postReport})),x=z(()=>D(a('Internal Links & Suggestions for "%1$s"',o),s.value.context.postTitle)),C=z(()=>[{slug:"inbound-internal",icon:lt,name:D("%1$s %2$s",s.value.links.inboundInternal.totals.total,a("Inbound Internal",o))},{slug:"outbound-internal",icon:rt,name:D("%1$s %2$s",s.value.links.outboundInternal.totals.total,a("Outbound Internal",o))},{slug:"affiliate",icon:ut,name:D("%1$s %2$s",s.value.links.affiliate.totals.total,a("Affiliate",o))},{slug:"external",icon:tt,name:D("%1$s %2$s",s.value.links.external.totals.total,a("External",o))},{slug:"link-suggestions",icon:ct,name:D("%1$s %2$s",s.value.links.suggestionsOutbound.totals.total+s.value.links.suggestionsInbound.totals.total,a("Link Suggestions",o))}]),I=pt(),d=()=>{I.push({name:"links-report"})},l=(L,F)=>{g.value=L,F&&(S.value=F)},R=()=>{_.value=!1,v.value&&Pt(()=>{_.value=!0,2>b.value&&(b.value=4),b.value=b.value/2,setTimeout(R,b.value*1e3)})},{filter:w,processFetchTableData:H,refreshTable:Y}=W({fetchData:r.fetchPostReport}),{editPost:K,viewPost:X}=ot(),{doRefresh:Z,isPrioritizedPost:et,refreshLoading:Lt}=Rt({post:s,postIndex:n,refreshTable:Y,requestType:"postReport"}),{filteredSuggestionsOutbound:Ct}=It();return Et(()=>{const L=mt();if(L.query){if(!L.query.postId){I.push({name:"links-report"});return}e.value=parseInt(L.query.postId),n.value=parseInt(L.query.postIndex),g.value=L.query.initialTab,S.value=L.query.initialSuggestionTab,s.value={ID:e.value,context:{postType:{singular:null}},links:{...r.postReport}}}}),it(()=>{r.resetPostReportState(),window.aioseoBus.$emit("updatingLinks",!0),_.value=!0,v.value=!0,setTimeout(R,b.value*1e3),w.value="all",H({postId:e.value}).then(L=>{L.body.links&&(s.value.links=L.body.links),L.body.context&&(s.value.context=L.body.context),r.postReport={...L.body.links}}).catch(L=>{console.error(L),I.push({name:"links-report"})}).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1),_.value=!1,v.value=!1})}),(L,F)=>{const Dt=f("base-button");return p(),M("div",$e,[v.value?(p(),M("div",ts,[i("div",es,[i("a",{href:"#",onClick:J(d,["stop","prevent"])},[T(" ← "),i("span",null,u(m.backToLinksReport),1)])]),i("div",ss,[i("div",os,[i("span",ns,u(m.loadingHeader),1)])])])):A("",!0),_.value?(p(),M("div",is,[i("div",{class:"load-progress-value",style:Kt({animationDuration:b.value+"s"})},null,4)])):A("",!0),v.value?A("",!0):(p(),M("div",as,[i("div",ls,[i("a",{href:"#",onClick:J(d,["prevent"])},[T(" ← "),i("span",null,u(m.backToLinksReport),1)])]),i("div",rs,[i("div",us,[i("span",cs,u(x.value),1),i("div",ds,[i("a",{class:"view-post-link",href:s.value.context.permalink,target:"_blank"},u(y(X)(s.value.context.postType.singular)),9,ps),T(" | "),i("a",{class:"edit-post-link",href:s.value.context.editLink,target:"_blank"},u(y(K)(s.value.context.postType.singular)),9,ms)])]),i("div",gs,[k(Dt,{type:"blue",tag:"button",loading:y(Lt),disabled:y(et),onClick:y(Z)},{default:c(()=>[k(y(xt)),T(" "+u(m.refresh),1)]),_:1},8,["loading","disabled","onClick"])])])])),k(y(Tt),{class:"link-tabs",internal:"",tabs:C.value,active:g.value,showSaveButton:!1,onChanged:F[0]||(F[0]=U=>l(U))},{"var-tab-icon":c(({tab:U})=>[(p(),P(at(U.icon),{class:G([{warning:U.warning}])},null,8,["class"]))]),_:1},8,["tabs","active"]),g.value==="outbound-internal"?(p(),P(y(_t),{key:3,post:h.value,postIndex:n.value,postId:e.value,"post-report":"",onOpenSuggestions:F[1]||(F[1]=U=>l("link-suggestions","suggestions-outbound"))},null,8,["post","postIndex","postId"])):A("",!0),g.value==="inbound-internal"?(p(),P(y(vt),{key:4,post:h.value,postIndex:n.value,postId:e.value,"post-report":"",onOpenSuggestions:F[2]||(F[2]=U=>l("link-suggestions","suggestions-inbound"))},null,8,["post","postIndex","postId"])):A("",!0),g.value==="affiliate"?(p(),P(y(St),{key:5,post:h.value,postIndex:n.value,postId:e.value,"post-report":""},null,8,["post","postIndex","postId"])):A("",!0),g.value==="external"?(p(),P(y(wt),{key:6,post:h.value,postIndex:n.value,postId:e.value,"post-report":""},null,8,["post","postIndex","postId"])):A("",!0),g.value==="link-suggestions"?(p(),P(y(yt),{key:7,post:h.value,postIndex:n.value,postId:e.value,filteredSuggestionsOutbound:y(Ct)(s.value),initialTab:S.value,"post-report":"",onShowStandalone:F[3]||(F[3]=U=>L.showStandalone=!0),onSuggestionsTabChanged:F[4]||(F[4]=U=>S.value=U)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):A("",!0)])}}},j="all-in-one-seo-pack",ks={setup(){return{rootStore:ht()}},components:{BaseHighlightToggle:Zt,CoreAlert:Yt,GridColumn:$t,GridRow:te},props:{type:{type:String,required:!0},options:{type:Object,required:!0},registeredPostStatuses:Object,excluded:{type:Array,default(){return[]}}},data(){return{strings:{label:a("Label:",j),name:a("Status:",j),noPostStatuses:a("No post statuses available.",j),noTaxonomies:a("No taxonomies available.",j),noPostStatusesDescription:a("All post statuses are set to noindex or your site does not have any post statuses registered that are supported by this feature.",j),noTaxonomiesDescription:a("All taxonomies are set to noindex or your site does not have any taxonomies registered that are supported by this feature.",j)}}},computed:{getRegisteredPostStatuses(){return this.registeredPostStatuses||this.rootStore.aioseo.postData},postStatuses(){return this.getRegisteredPostStatuses[this.type].filter(t=>!this.excluded.includes(t.status))}},methods:{emitInput(t){this.$emit("input",t)},updateValue(t,o){if(t){const e=this.options[this.type].included;e.push(o.status),this.options[this.type].included=e;return}const r=this.options[this.type].included.findIndex(e=>e===o.status);r!==-1&&this.options[this.type].included.splice(r,1)},getValue(t){return this.options[this.type].included.includes(t.status)},isActive(t){return this.options[this.type].included.findIndex(r=>r===t.status)!==-1}}},fs={class:"aioseo-post-status-options-toggle"},bs={class:"post-status-options-settings"};function _s(t,o,r,e,n,s){const g=f("core-alert"),S=f("base-highlight-toggle"),b=f("grid-column"),_=f("grid-row");return p(),M("div",fs,[i("div",bs,[s.postStatuses.length===0&&r.type==="postStatuses"?(p(),P(g,{key:0,type:"blue"},{default:c(()=>[i("strong",null,u(n.strings.noPostStatuses),1),T(" "+u(n.strings.noPostStatusesDescription),1)]),_:1})):A("",!0),s.postStatuses.length===0&&r.type==="taxonomies"?(p(),P(g,{key:1,type:"blue"},{default:c(()=>[i("strong",null,u(n.strings.noTaxonomies),1),T(" "+u(n.strings.noTaxonomiesDescription),1)]),_:1})):A("",!0),0<s.postStatuses.length?(p(),P(_,{key:2},{default:c(()=>[(p(!0),M(zt,null,Ht(s.postStatuses,(v,m)=>(p(),P(b,{md:"6",key:m},{default:c(()=>[k(S,{size:"medium",active:s.isActive(v),name:v.label,type:"checkbox",modelValue:s.getValue(v),"onUpdate:modelValue":h=>s.updateValue(h,v)},{default:c(()=>[T(u(v.label)+" ("+u(v.status)+") ",1)]),_:2},1032,["active","name","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})):A("",!0)])])}const vs=Q(ks,[["render",_s]]),q="aioseo-pro",Ss={setup(){const{getJsonValue:t,setJsonValue:o}=Gt();return{GLOBAL_STRINGS:jt,getJsonValue:t,linkAssistantStore:E(),links:Bt,setJsonValue:o}},components:{BaseCheckbox:Jt,BaseTextarea:Wt,CoreCard:Qt,CoreExcludePosts:Xt,CorePostStatusOptions:vs,CorePostTypeOptions:ee,CoreSettingsRow:se},data(){return{initialAffiliateLinkPrefixes:"",strings:{settings:a("Link Settings",q),postTypes:a("Post Types",q),includeAllPostTypes:a("Include All Post Types",q),selectPostTypes:a("Select which Post Types you want to enable Link Assistant for.",q),postStatuses:a("Post Statuses",q),includeAllPostStatuses:a("Include All Post Statuses",q),selectPostStatuses:a("Select which Post Statuses you want to enable Link Assistant for.",q),skipSentences:a("Number of Sentences to Skip at Beginning",q),skipSentencesDescription:D(a("The amount of sentences at the beginning of the article that %1$s should not suggest internal links for.",q),"AIOSEO"),affiliatePrefix:a("Affiliate Link Prefix",q),affiliatePrefixDescription:D(a('Enter one or multiple link prefixes that %1$s should consider as affiliate links, e.g. "/go/", "/refer/" or "https://amazn.to".',q),"AIOSEO"),excludePostsPages:a("Exclude Posts / Pages",q),wordsToIgnore:a("Words to Ignore",q)}}},methods:{validateSkipSentences(t){0>t.target.value&&(t.target.value=0)}},beforeMount(){this.initialAffiliateLinkPrefixes=this.linkAssistantStore.options.main.affiliatePrefix,window.aioseoBus.$on("changes-saved",()=>{this.initialAffiliateLinkPrefixes=this.linkAssistantStore.options.main.affiliatePrefix})}},ws={class:"aioseo-link-assistant-settings"},ys={class:"aioseo-description"},Is=["innerHTML"],Ps={class:"aioseo-description"},As=["innerHTML"],Ts={class:"aioseo-description"},xs={class:"aioseo-description"};function Rs(t,o,r,e,n,s){const g=f("base-checkbox"),S=f("core-post-type-options"),b=f("core-settings-row"),_=f("core-post-status-options"),v=f("base-input"),m=f("base-select"),h=f("core-exclude-posts"),x=f("base-textarea"),C=f("core-card");return p(),M("div",ws,[k(C,{slug:"linkAssistantSettings","header-text":n.strings.settings},{default:c(()=>[k(b,{name:n.strings.postTypes},{content:c(()=>[k(g,{size:"medium",modelValue:e.linkAssistantStore.options.main.postTypes.all,"onUpdate:modelValue":o[0]||(o[0]=I=>e.linkAssistantStore.options.main.postTypes.all=I)},{default:c(()=>[T(u(n.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"]),e.linkAssistantStore.options.main.postTypes.all?A("",!0):(p(),P(S,{key:0,id:"postTypes",options:e.linkAssistantStore.options.main,excluded:["attachment"],type:"postTypes"},null,8,["options"])),i("div",ys,[T(u(n.strings.selectPostTypes)+" ",1),i("span",{innerHTML:e.links.getDocLink(e.GLOBAL_STRINGS.learnMore,"linkAssistantPostTypes",!0)},null,8,Is)])]),_:1},8,["name"]),k(b,{name:n.strings.postStatuses},{content:c(()=>[k(g,{size:"medium",modelValue:e.linkAssistantStore.options.main.postStatuses.all,"onUpdate:modelValue":o[1]||(o[1]=I=>e.linkAssistantStore.options.main.postStatuses.all=I)},{default:c(()=>[T(u(n.strings.includeAllPostStatuses),1)]),_:1},8,["modelValue"]),e.linkAssistantStore.options.main.postStatuses.all?A("",!0):(p(),P(_,{key:0,id:"postStatuses",options:e.linkAssistantStore.options.main,type:"postStatuses"},null,8,["options"])),i("div",Ps,[T(u(n.strings.selectPostStatuses)+" ",1),i("span",{innerHTML:e.links.getDocLink(e.GLOBAL_STRINGS.learnMore,"linkAssistantPostStatuses",!0)},null,8,As)])]),_:1},8,["name"]),k(b,{name:n.strings.skipSentences,align:""},{content:c(()=>[k(v,{modelValue:e.linkAssistantStore.options.main.skipSentences,"onUpdate:modelValue":o[2]||(o[2]=I=>e.linkAssistantStore.options.main.skipSentences=I),class:"settings-skip-sentences",type:"number",size:"medium",min:0,onKeyup:o[3]||(o[3]=I=>s.validateSkipSentences(I))},null,8,["modelValue"]),i("div",Ts,u(n.strings.skipSentencesDescription),1)]),_:1},8,["name"]),k(b,{class:"affiliate-prefix",name:n.strings.affiliatePrefix,align:""},{content:c(()=>[k(m,{multiple:"",taggable:"",options:e.getJsonValue(e.linkAssistantStore.options.main.affiliatePrefix)||[],modelValue:e.getJsonValue(e.linkAssistantStore.options.main.affiliatePrefix)||[],"onUpdate:modelValue":o[4]||(o[4]=I=>e.linkAssistantStore.options.main.affiliatePrefix=e.setJsonValue(I))},null,8,["options","modelValue"]),i("div",xs,u(n.strings.affiliatePrefixDescription),1)]),_:1},8,["name"]),k(b,{name:n.strings.excludePostsPages,align:""},{content:c(()=>[k(h,{options:e.linkAssistantStore.options.main,type:"posts"},null,8,["options"])]),_:1},8,["name"]),k(b,{name:n.strings.wordsToIgnore},{content:c(()=>[k(x,{minHeight:200,autosize:!1,modelValue:e.linkAssistantStore.options.main.wordsToIgnore,"onUpdate:modelValue":o[5]||(o[5]=I=>e.linkAssistantStore.options.main.wordsToIgnore=I)},null,8,["modelValue"])]),_:1},8,["name"])]),_:1},8,["header-text"])])}const Ls=Q(Ss,[["render",Rs]]),Cs={class:"aioseo-link-assistant"},dn={__name:"Main",setup(t){const o="all-in-one-seo-pack",r=mt(),e=pt(),n=z(()=>r.name==="overview"?dt:r.name==="domains-report"?Ie:r.name==="links-report"?Ze:r.name==="post-report"?hs:r.name==="settings"?Ls:dt),{getExcludedActivationTabs:s}=Ot(),{getExcludedUpdateTabs:g}=Ft(),S={pageName:a("Link Assistant",o)},b=z(()=>{const m=($.isActive("aioseo-link-assistant")?g(e,"aioseo-link-assistant"):s(e,"aioseo-link-assistant"))||[];return m.push("post-report"),m}),_=E(),v=ht();return it(()=>{window.aioseoBus.$on("changes-saved",()=>{_.getMenuData()}),v.isPro&&_.suggestionsScan.percent!==100&&$.isActive("aioseo-link-assistant")&&!$.requiresUpgrade("aioseo-link-assistant")&&$.hasMinimumVersion("aioseo-link-assistant")&&_.pollSuggestionsScan()}),(m,h)=>(p(),M("div",Cs,[k(y(Vt),{"page-name":S.pageName,"exclude-tabs":b.value,showTabs:y(r).name!=="post-report"},{default:c(()=>[(p(),P(at(n.value)))]),_:1},8,["page-name","exclude-tabs","showTabs"])]))}};export{dn as default};
