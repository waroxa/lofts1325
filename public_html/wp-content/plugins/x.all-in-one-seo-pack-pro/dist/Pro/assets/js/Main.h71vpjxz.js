import{E as R,t as G,d as Q,q as T,Q as A,j as X}from"./index.ms17x8jb.js";import{o as J}from"./helpers.dyu2l85l.js";import{g as Y}from"./params.k8e95b6q.js";import{_ as S}from"./_plugin-vue_export-helper.oebm7xum.js";import{o as r,c,a as n,x as v,y as b,t as p,E as g,F as N,J as L,Q as U,R as Z,C as u,j as ee,q as M,b as h,S as te,H as C,G as se,K as P,L as O,l as $,m as y,$ as ie,u as I,z as oe}from"./runtime-dom.esm-bundler.h3wlw8jh.js";import"./translations.b896ab1m.js";import{_ as l}from"./default-i18n.hohxoesu.js";import{b as j,C as z}from"./Caret.mmz7e9vd.js";import{U as K,u as ne}from"./UserAvatar.guvlmdch.js";import{u as ae}from"./Image.o6sztqvi.js";import{u as re,S as de}from"./Upsell.ijg3rhjd.js";import{C as le}from"./Blur.im8lkvwf.js";import"./Profile.ckz1bcii.js";import"./postSlug.nfaf8ycs.js";import"./metabox.ejlpgbw1.js";import"./cleanForSlug.g19v7edy.js";import"./toString.dd8wo7ge.js";import"./_baseTrim.ohbpllmu.js";import"./_stringToArray.mpukyt2g.js";import"./deburr.h0pzx1ve.js";import"./_baseSet.ifi8fiaf.js";import"./constants.d8cemsm4.js";import"./Index.ezxlh32q.js";import"./Row.o2r9j8ur.js";import"./RequiredPlans.iq78lp87.js";import"./addons.b4tcn9l3.js";import"./upperFirst.oqo5qnuq.js";import"./license.kld2zdxf.js";const ce={},me={viewBox:"0 0 24 25",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-slider-handle",fill:"none"},pe=n("ellipse",{cx:"12.157",cy:"12.5",rx:"11.657",ry:"12",fill:"#B4B5B7"},null,-1),_e=n("circle",{cx:"12.157",cy:"12.157",r:"10.971",fill:"#F4F6F6"},null,-1),ve=n("path",{d:"m13.529 15.586v-7.2l4.68 3.6-4.68 3.6z",fill:"#33353A"},null,-1),ue=n("path",{d:"m11.009 8.3858v7.2l-4.68-3.6 4.68-3.6z",fill:"#33353A"},null,-1),he=[pe,_e,ve,ue];function fe(e,t){return r(),c("svg",me,he)}const W=S(ce,[["render",fe]]),B="aioseo-pro",be={setup(){return{seoRevisionsStore:R()}},components:{SvgSliderHandle:W},props:{itemFrom:Object,itemTo:{type:[Object],required:!0}},data(){return{activeSliderHandle:"to",isSliderHandleActive:!1,showSliderHandleFrom:!!Y().from,strings:{compareTwoRevisions:l("Compare any two revisions",B),next:l("Next",B),previous:l("Previous",B)}}},watch:{itemTo(e){let t=this.itemFrom;this.showSliderHandleFrom||(t=this.$parent.getPreviousItemById(e.id)||null),t!==this.itemFrom&&(this.$parent.itemFromId=(t==null?void 0:t.id)||0),this.abstractFetchDiff(t,e)},itemFrom(e){if(!this.showSliderHandleFrom)return!1;this.$parent.itemFromId=(e==null?void 0:e.id)||0,this.abstractFetchDiff(e,this.itemTo)},showSliderHandleFrom(e){e&&this.setHandlePositionByItem("from");const t=this.$parent.getPreviousItemById(this.itemTo.id);this.$parent.itemFromId=(t==null?void 0:t.id)||0,this.abstractFetchDiff(t,this.itemTo)}},computed:{activeSliderHandleNode(){return this.activeSliderHandle==="from"?this.$refs.sliderHandleFrom:this.$refs.sliderHandleTo},btnHandleDisabled(){return this.$parent.isFetchingDiff},btnNextDisabled(){return this.$parent.seoRevisionsStore.items[0].id===this.itemTo.id||this.$parent.isFetchingDiff},btnPreviousDisabled(){return this.$parent.seoRevisionsStore.items[this.$parent.seoRevisionsStore.items.length-1].id===this.itemTo.id||this.$parent.isFetchingDiff},checkboxCompareModeDisabled(){return this.$parent.seoRevisionsStore.items[this.$parent.seoRevisionsStore.items.length-1].id===this.itemTo.id||this.$parent.isFetchingDiff},sliderMaxWidth(){const e=Math.min(1e3,this.$parent.seoRevisionsStore.items.length);let t=100;return 1<e&&(t=Math.min(1920,e*49)),`${t}px`}},methods:{abstractFetchDiff(e,t){this.$parent.isFetchingDiff=!0,this.seoRevisionsStore.fetchDiff({fromId:(e==null?void 0:e.id)||0,toId:t.id}).finally(()=>{this.$parent.isFetchingDiff=!1}),this.setHandlePositionByItem(),this.replaceHistoryState()},getMarks(){const e=[];for(const t of this.$refs.marks.querySelectorAll("div"))e.push({left:t.offsetLeft,id:parseInt(t.dataset.id)});return e},onClickBtnNext(){const e=this.$parent.getNextItemById(this.itemTo.id);if(!e)return!1;this.$parent.itemToId=e.id},onClickBtnPrevious(){const e=this.$parent.getPreviousItemById(this.itemTo.id);if(!e)return!1;this.$parent.itemToId=e.id},onClickMarks(e){if(this.$parent.isFetchingDiff)return!1;this.setItemIdByHandlePosition(this.parseHandlePosition(e.offsetX))},onInputCompareMode(){this.showSliderHandleFrom=!this.showSliderHandleFrom,this.showSliderHandleFrom||(this.activeSliderHandle="to")},onMousedownSliderHandle(){this.isSliderHandleActive=!0,document.addEventListener("mousemove",this.onMousemoveSlider)},onMousemoveSlider(e){const t=this.$refs.slider,s=this.$refs.slider.getBoundingClientRect();let a=Math.max(0,e.clientX-s.left);a=this.parseHandlePosition(a>t.offsetWidth?t.offsetWidth:a),this.activeSliderHandleNode.style.left=`${a}px`},parseHandlePosition(e){if(this.showSliderHandleFrom){const t=this.activeSliderHandleNode.offsetWidth/2;if(this.activeSliderHandle==="from"){const s=this.$refs.sliderHandleTo.offsetLeft;s-t<e&&(e=s-t)}else if(this.activeSliderHandle==="to"){const s=this.$refs.sliderHandleFrom.offsetLeft;e<s+t&&(e=s+t)}}return e},replaceHistoryState(){var e;if(window!=null&&window.history.replaceState){const t=new URL(window.location.href),s=t.searchParams;s.delete("from"),s.delete("to"),this.showSliderHandleFrom&&s.append("from",((e=this.itemFrom)==null?void 0:e.id)||0),s.append("to",this.itemTo.id),t.search=s.toString(),window.history.replaceState({},"",t.toString())}},setItemIdByHandlePosition(e){var a,o,i;const s=this.getMarks().reduce((m,d)=>Math.abs(d.left-e)<Math.abs(m.left-e)?d:m);if(this.activeSliderHandle==="from")return s.id>=this.itemTo.id&&(s.id=((a=this.$parent.getPreviousItemById(s.id))==null?void 0:a.id)||0),s.id===(((o=this.itemFrom)==null?void 0:o.id)||0)&&this.setHandlePositionByItem("from"),this.$parent.itemFromId=s.id,!1;this.showSliderHandleFrom&&s.id<=(((i=this.itemFrom)==null?void 0:i.id)||0)&&(s.id=this.$parent.getNextItemById(s.id).id),s.id===this.itemTo.id&&this.setHandlePositionByItem("to"),this.$parent.itemToId=s.id},setHandlePositionByItem(e=null){var o,i;let t=this.activeSliderHandle==="from"?((o=this.itemFrom)==null?void 0:o.id)||0:this.itemTo.id,s=this.activeSliderHandleNode;e==="from"?(t=((i=this.itemFrom)==null?void 0:i.id)||0,s=this.$refs.sliderHandleFrom):e==="to"&&(t=this.itemTo.id,s=this.$refs.sliderHandleTo);const a=this.$refs[`mark-${t}`][0];s.style.left=`${a.offsetLeft}px`}},mounted(){this.setHandlePositionByItem("to"),this.showSliderHandleFrom&&this.setHandlePositionByItem("from"),document.addEventListener("mouseup",()=>{if(!this.isSliderHandleActive)return!1;this.isSliderHandleActive=!1,document.removeEventListener("mousemove",this.onMousemoveSlider),this.setItemIdByHandlePosition(this.activeSliderHandleNode.offsetLeft)})}},ge={class:"aioseo-seo-revisions-comparison__controls"},ye={class:"aioseo-seo-revisions-comparison__controls__compare-mode"},Se=["checked","disabled"],Ie={class:"aioseo-seo-revisions-comparison__controls__previous"},we=["disabled"],$e=["aria-disabled"],xe=["data-id"],Re=["disabled"],Te=["disabled"],Ne={class:"aioseo-seo-revisions-comparison__controls__next"},He=["disabled"];function ke(e,t,s,a,o,i){const m=v("svg-slider-handle");return r(),c("div",ge,[n("div",ye,[n("input",{type:"checkbox",checked:o.showSliderHandleFrom,disabled:i.checkboxCompareModeDisabled,onInput:t[0]||(t[0]=d=>i.onInputCompareMode())},null,40,Se),b(" "+p(o.strings.compareTwoRevisions),1)]),n("div",Ie,[n("button",{class:"button",type:"button",disabled:i.btnPreviousDisabled||o.showSliderHandleFrom,onClick:t[1]||(t[1]=g(d=>i.onClickBtnPrevious(),["stop","exact"]))},p(o.strings.previous),9,we)]),n("div",{ref:"slider",class:"aioseo-seo-revisions-comparison__controls__slider",style:ee({"max-width":i.sliderMaxWidth})},[n("div",{ref:"marks",class:"marks",role:"button","aria-disabled":i.btnHandleDisabled,onClick:t[2]||(t[2]=g(d=>i.onClickMarks(d),["stop","exact"]))},[(r(!0),c(N,null,L(e.$parent.seoRevisionsStore.items,d=>(r(),c("div",{"data-id":d.id,ref_for:!0,ref:`mark-${d.id}`,key:d.id},null,8,xe))),128))],8,$e),U(n("button",{ref:"sliderHandleFrom",class:"aioseo-seo-revisions-comparison__controls__slider__handle from",tabindex:"0",onMousedown:t[3]||(t[3]=g(d=>{o.activeSliderHandle="from",i.onMousedownSliderHandle()},["prevent"])),disabled:i.btnHandleDisabled},[u(m)],40,Re),[[Z,o.showSliderHandleFrom]]),n("button",{ref:"sliderHandleTo",class:"aioseo-seo-revisions-comparison__controls__slider__handle to",tabindex:"0",onMousedown:t[4]||(t[4]=g(d=>{o.activeSliderHandle="to",i.onMousedownSliderHandle()},["prevent"])),disabled:i.btnHandleDisabled},[u(m)],40,Te)],4),n("div",Ne,[n("button",{class:"button",type:"button",disabled:i.btnNextDisabled||o.showSliderHandleFrom,onClick:t[5]||(t[5]=g(d=>i.onClickBtnNext(),["stop","exact"]))},p(o.strings.next),9,He)])])}const Fe=S(be,[["render",ke],["__scopeId","data-v-3c08cfcb"]]),x="aioseo-pro",Ee={setup(){const{getAuthorEmailAndLogin:e}=ne();return{getAuthorEmailAndLogin:e,seoRevisionsStore:R()}},components:{CoreLoader:j,UtilUserAvatar:K},props:{revision:{type:Object,default(){return{}}},isCurrentVersion:Boolean},data(){return{isUpdating:!1,noteElements:{input:{maxlength:this.seoRevisionsStore.noteMaxlength,visible:!1,value:this.revision.note},btnAdd:{visible:!1},btnEdit:{visible:!1}},strings:{currentRevisionBy:l("Current Revision by",x),revisionBy:l("Revision by",x),addNote:l("Add Note",x),editNote:l("Edit Note",x),typeToAddNote:l("Type to add note",x)}}},watch:{revision(e){this.noteElements.input.value=e.note}},methods:{truncate:G,focusInputNote(){setTimeout(()=>{this.$refs.itemWrapper.querySelector("input").focus()},50)},onBlurInputNote(){this.noteElements.input.value!==this.revision.note?this.updateNote():this.onKeyUpEscInputNote()},onKeyUpEnterInputNote(){this.noteElements.input.value!==this.revision.note&&this.updateNote()},onKeyUpEscInputNote(){this.noteElements.input.value=this.revision.note,this.setNoteElementVisibility("input",!1)},onClickBtnAddNote(){this.setNoteElementVisibility("input",!0),this.setNoteElementVisibility("btnAdd",!1),this.focusInputNote()},onClickBtnEditNote(){this.setNoteElementVisibility("input",!0),this.setNoteElementVisibility("btnEdit",!1),this.focusInputNote()},onFocusItem(){this.onMouseEnterItem()},onMouseEnterItem(){this.isNoteElementVisible("input")||(this.revision.note?this.setNoteElementVisibility("btnEdit",!0):this.setNoteElementVisibility("btnAdd",!0))},onMouseLeaveItem(){this.setNoteElementVisibility("btnAdd",!1),this.setNoteElementVisibility("btnEdit",!1)},isNoteElementVisible(e){return this.noteElements[e].visible},setNoteElementVisibility(e,t){this.noteElements[e].visible=t},updateNote(){this.isUpdating=!0,this.seoRevisionsStore.update({id:this.revision.id,payload:{note:this.noteElements.input.value}}).then(e=>{const t=this.seoRevisionsStore.items.findIndex(s=>s.id===e.body.item.id);this.seoRevisionsStore.items.splice(t,1,e.body.item),this.setNoteElementVisibility("input",!1)}).finally(()=>{this.isUpdating=!1})}}},Ce=e=>(P("data-v-8277e3c6"),e=e(),O(),e),Be={key:0,class:"aioseo-seo-revisions-comparison__item-meta__col"},De={class:"aioseo-seo-revisions-comparison__item-meta__title"},Me={class:"aioseo-seo-revisions-comparison__item-meta__col"},Le={class:"aioseo-seo-revisions-comparison__item-meta__author-avatar"},Pe={class:"aioseo-seo-revisions-comparison__item-meta__col"},Oe={class:"aioseo-wrapper"},Ve=["title"],Ae=["textContent"],Ue=["textContent"],je=Ce(()=>n("span",null," ",-1)),ze=["textContent"],Ke={key:0,class:"aioseo-seo-revisions-comparison__item-meta__note"},We={class:"text-truncate"},qe=["maxlength","placeholder"],Ge={class:"aioseo-seo-revisions-comparison__item-meta__date"},Qe={key:1,class:"aioseo-seo-revisions-comparison__item-meta__col"},Xe={key:2,class:"loader"};function Je(e,t,s,a,o,i){const m=v("util-user-avatar"),d=v("core-loader");return s.revision?(r(),c("div",{key:0,class:se(["aioseo-seo-revisions-comparison__item-meta",{"aioseo-seo-revisions-comparison__item-meta--title-empty":!e.$slots.title}]),tabindex:"0",ref:"itemWrapper",onFocus:t[7]||(t[7]=_=>i.onFocusItem()),onMouseenter:t[8]||(t[8]=_=>i.onMouseEnterItem()),onMouseleave:t[9]||(t[9]=_=>i.onMouseLeaveItem())},[e.$slots.title?(r(),c("div",Be,[n("div",De,[M(e.$slots,"title",{},void 0,!0)])])):h("",!0),n("div",Me,[n("div",Le,[u(m,{src:s.revision.author.avatar.url,size:s.revision.author.avatar.size},null,8,["src","size"])])]),n("div",Pe,[n("div",Oe,[n("div",{title:a.getAuthorEmailAndLogin(s.revision),class:"aioseo-seo-revisions-comparison__item-meta__author"},[s.isCurrentVersion?(r(),c("span",{key:0,textContent:p(o.strings.currentRevisionBy)},null,8,Ae)):(r(),c("span",{key:1,textContent:p(o.strings.revisionBy)},null,8,Ue)),je,n("span",{textContent:p(i.truncate(s.revision.author.display_name,30))},null,8,ze)],8,Ve),s.revision.note&&!i.isNoteElementVisible("input")?(r(),c("div",Ke,[n("span",We,p(s.revision.note),1)])):h("",!0),i.isNoteElementVisible("input")?U((r(),c("input",{key:1,type:"text",maxlength:o.noteElements.input.maxlength,placeholder:o.strings.typeToAddNote,"onUpdate:modelValue":t[0]||(t[0]=_=>o.noteElements.input.value=_),onBlur:t[1]||(t[1]=g(_=>i.onBlurInputNote(),["prevent"])),onKeyup:[t[2]||(t[2]=C(g(_=>i.onKeyUpEnterInputNote(),["prevent"]),["enter"])),t[3]||(t[3]=C(g(_=>i.onKeyUpEscInputNote(),["prevent"]),["esc"]))],onKeydown:t[4]||(t[4]=C(g(()=>{},["prevent"]),["enter"]))},null,40,qe)),[[te,o.noteElements.input.value]]):h("",!0),i.isNoteElementVisible("btnEdit")?(r(),c("button",{key:2,class:"aioseo-seo-revisions-comparison__item-meta__btn-edit-note",onClick:t[5]||(t[5]=g(_=>i.onClickBtnEditNote(),["prevent"]))},p(o.strings.editNote),1)):h("",!0),i.isNoteElementVisible("btnAdd")?(r(),c("button",{key:3,class:"aioseo-seo-revisions-comparison__item-meta__btn-add-note",onClick:t[6]||(t[6]=g(_=>i.onClickBtnAddNote(),["prevent"]))},p(o.strings.addNote),1)):h("",!0)]),n("div",Ge,p(s.revision.date.created_formatted),1)]),e.$slots["btn-restore"]?(r(),c("div",Qe,[M(e.$slots,"btn-restore",{},void 0,!0)])):h("",!0),o.isUpdating?(r(),c("div",Xe,[u(d)])):h("",!0)],34)):h("",!0)}const Ye=S(Ee,[["render",Je],["__scopeId","data-v-8277e3c6"]]),f="aioseo-pro",Ze={setup(){const{getImageSourceOptionFiltered:e}=ae(),{getObjectTypeLabelByOption:t,getTwitterCardLabelByOption:s}=re();return{getImageSourceOptionFiltered:e,getObjectTypeLabelByOption:t,getTwitterCardLabelByOption:s,seoRevisionsStore:R(),tagsStore:Q()}},components:{CoreAlert:z},props:{itemFromId:Number,itemToId:Number},data(){return{globalSmartTags:this.tagsStore.tags,strings:{imgPreviewBasedOnSettings:l("Image preview based on your current settings",f),imgPreviewBasedOnUrl:l("Image URL preview",f),noDifference:l("There are no differences between these two revisions.",f),robotsdefault:l("Use Default Settings",f),robotsnoindex:l("No Index",f),robotsnofollow:l("No Follow",f),robotsnoarchive:l("No Archive",f),robotsnotranslate:l("No Translate",f),robotsnoimageindex:l("No Image Index",f),robotsnosnippet:l("No Snippet",f),robotsnoodp:l("No ODP",f),robotsmaxsnippet:l("Max Snippet",f),robotsmaxvideopreview:l("Max Video Preview",f),robotsmaximagepreview:l("Max Image Preview",f)}}},methods:{insertImageSourceLabel(e){const t=e.match(/\{optionValue\|[^}]+/g);return Object.values(t??{}).forEach(s=>{var m;const a=s.split("|")[1],o=T(a);let i=((m=this.getImageSourceOptionFiltered(o))==null?void 0:m.label)||"";i=a.indexOf("<ins>")!==-1?`<ins>${i}</ins>`:i,e=e.replace(`{optionValue|${a}}`,i)}),e},insertImagePreview(e,t=""){let s="img-preview--url",a=this.strings.imgPreviewBasedOnUrl;t.indexOf("twitter")!==-1?(s=" img-preview--twitter",a=this.strings.imgPreviewBasedOnSettings):t.indexOf("og")!==-1&&(s=" img-preview--facebook",a=this.strings.imgPreviewBasedOnSettings);const o=e.match(/\{imageUrl\|[^}]*/g);return Object.values(o??{}).forEach(i=>{const m=i.split("|")[1]||"",d=T(m),_=`<div class="img-preview ${s}"><img src="${d}" loading="lazy" alt="${a}" title="${a}" /></div>`;e=e.replace(`{imageUrl|${m}}`,m?_:"")}),e},insertObjectTypeLabel(e){const t=e.match(/\{optionValue\|[^}]+/g);return Object.values(t??{}).forEach(s=>{const a=s.split("|")[1],o=T(a),i=this.getObjectTypeLabelByOption(o);e=e.replace(`{optionValue|${a}}`,i)}),e},insertTwitterCardLabel(e){const t=e.match(/\{optionValue\|[^}]+/g);return Object.values(t??{}).forEach(s=>{const a=s.split("|")[1],o=T(a),i=this.getTwitterCardLabelByOption(o);e=e.replace(`{optionValue|${a}}`,i)}),e},buildCustomRobotsSetting(e){const t=e.match(/\{.[^}]+}/g);return Object.values(t??{}).forEach(s=>{const[a,o]=s.split("|"),i=a.replace("{",""),m=o.replace("}",""),d=this.strings[`robots${i}`];if(i.match(/maxsnippet|maxvideopreview|maximagepreview/)){e=e.replace(s,`${d}: ${m}`);return}const _=`<input style="opacity:1" type="checkbox" disabled="disabled" ${m?'checked="checked"':""} />`;e=e.replace(s,`<span>${d}:</span> ${_}`)}),e},replaceSmartTags(e){let t=e.match(/#[a-zA-Z0-9_-]{3,}/g);return t&&(t=[...new Set(t)],t.forEach(s=>{const a=this.globalSmartTags.find(o=>o.id===s.replace("#",""));a!=null&&a.name&&(e=e.replaceAll(s,`<span class="tag">${a.name}</span>`))})),e},parseFieldDiff(e,t){return e.indexOf("#")!==-1&&(e=this.replaceSmartTags(e)),(t==="og_image_type"||t==="twitter_image_type")&&(e=this.insertImageSourceLabel(e),e=this.insertImagePreview(e,t)),(t==="og_image_custom_url"||t==="twitter_image_custom_url")&&(e=this.insertImagePreview(e)),t==="og_object_type"&&(e=this.insertObjectTypeLabel(e)),t==="twitter_card"&&(e=this.insertTwitterCardLabel(e)),t==="robots_all_settings"&&(e=this.buildCustomRobotsSetting(e)),e}},mounted(){this.$parent.isFetchingDiff=!0,this.seoRevisionsStore.fetchDiff({fromId:this.itemFromId,toId:this.itemToId}).finally(()=>{this.$parent.isFetchingDiff=!1})}},et={class:"aioseo-seo-revisions-item-diff"},tt=["innerHTML"],st=["innerHTML"];function it(e,t,s,a,o,i){const m=v("core-alert");return r(),c("div",et,[a.seoRevisionsStore.hasDiff?h("",!0):(r(),$(m,{key:0,type:"yellow"},{default:y(()=>[b(p(o.strings.noDifference),1)]),_:1})),(r(!0),c(N,null,L(a.seoRevisionsStore.seoRevisionsDiff,(d,_)=>(r(),c(N,null,[d.diff||!a.seoRevisionsStore.hasDiff?(r(),c("h3",{key:"label-"+_},p(d.label),1)):h("",!0),a.seoRevisionsStore.hasDiff?(r(),c("div",{innerHTML:i.parseFieldDiff(d.diff,d.key),key:"diff-"+_},null,8,tt)):h("",!0),a.seoRevisionsStore.hasDiff?h("",!0):(r(),c("div",{innerHTML:i.parseFieldDiff(d.raw,d.key),key:"diff-"+_},null,8,st))],64))),256))])}const ot=S(Ze,[["render",it],["__scopeId","data-v-6c4a8cb7"]]),w="aioseo-pro",nt={setup(){return{seoRevisionsStore:R()}},components:{Controls:Fe,CoreAlert:z,CoreLoader:j,ItemMeta:Ye,ItemsDiff:ot},data(){var e,t;return{btnRestoreLoading:!1,isFetchingDiff:!1,itemFromId:((e=this.seoRevisionsStore.itemFrom)==null?void 0:e.id)||0,itemToId:(t=this.seoRevisionsStore.itemTo)==null?void 0:t.id,restoreFailed:!1,strings:{compareRevisionsOf:l("Compare Revisions of",w),from:l("From:",w),goToEditor:l("Go to editor",w),pleaseReload:l("Something went wrong. Please, reload the page and try again.",w),restoreRevision:l("Restore This Revision",w),to:l("To:",w)}}},computed:{btnRestoreDisabled(){return this.seoRevisionsStore.items[0].id===this.itemToId},itemIds(){return J(this.seoRevisionsStore.items,"id")},itemFrom(){return this.seoRevisionsStore.items.find(e=>e.id===this.itemFromId)},itemTo(){return this.seoRevisionsStore.items.find(e=>e.id===this.itemToId)}},methods:{getNextItemById(e){const t=this.itemIds.indexOf(e);return this.seoRevisionsStore.items[t-1]||null},getPreviousItemById(e){const t=this.itemIds.indexOf(e);return this.seoRevisionsStore.items[t+1]||null},initRestore(){this.btnRestoreLoading=!0,this.seoRevisionsStore.restore({id:this.itemToId}).then(()=>(window.location.href=this.itemTo.urls.edit_object+"&aioseo-tab=seoRevisions",!1)).catch(()=>{this.restoreFailed=!0,this.btnRestoreLoading=!1})}}},at={key:1,class:"aioseo-seo-revisions-comparison"},rt={class:"long-header"},dt={class:"text-truncate"},lt=["href"],ct=["href"],mt={class:"aioseo-seo-revisions-comparison__item-meta-wrapper"},pt={class:"aioseo-seo-revisions-comparison__diff"},_t={key:0,class:"loader"};function vt(e,t,s,a,o,i){const m=v("core-alert"),d=v("controls"),_=v("item-meta"),k=v("base-button"),F=v("items-diff"),E=v("core-loader");return a.seoRevisionsStore.error?(r(),$(m,{key:0,type:"red"},{default:y(()=>[b(p(a.seoRevisionsStore.error),1)]),_:1})):(r(),c("div",at,[n("h1",rt,[b(p(o.strings.compareRevisionsOf)+" ",1),n("span",dt,[b("  “"),n("a",{href:i.itemTo.urls.edit_object},p(i.itemTo.object.title),9,lt),b("” ")])]),n("a",{href:i.itemTo.urls.edit_object},"← "+p(o.strings.goToEditor),9,ct),u(d,{"item-to":i.itemTo,"item-from":i.itemFrom},null,8,["item-to","item-from"]),n("div",mt,[i.itemFrom?(r(),$(_,{key:0,revision:i.itemFrom},{title:y(()=>[b(p(o.strings.from),1)]),_:1},8,["revision"])):h("",!0),u(_,{"is-current-version":o.itemToId===a.seoRevisionsStore.items[0].id,revision:i.itemTo},ie({"btn-restore":y(()=>[u(k,{size:"small-table",type:"blue",disabled:i.btnRestoreDisabled,loading:o.btnRestoreLoading,onClick:t[0]||(t[0]=g(q=>i.initRestore(),["exact"]))},{default:y(()=>[b(p(o.strings.restoreRevision),1)]),_:1},8,["disabled","loading"])]),_:2},[i.itemFrom?{name:"title",fn:y(()=>[b(p(o.strings.to),1)]),key:"0"}:void 0]),1032,["is-current-version","revision"])]),o.restoreFailed?(r(),$(m,{key:0,type:"yellow","show-close":"",onCloseAlert:t[1]||(t[1]=q=>o.restoreFailed=!1)},{default:y(()=>[b(p(o.strings.pleaseReload),1)]),_:1})):h("",!0),n("div",pt,[u(F,{"item-from-id":o.itemFromId,"item-to-id":o.itemToId},null,8,["item-from-id","item-to-id"]),o.isFetchingDiff?(r(),c("div",_t,[u(E)])):h("",!0)])]))}const ut=S(nt,[["render",vt],["__scopeId","data-v-88939b15"]]),D="all-in-one-seo-pack",ht={components:{SvgSliderHandle:W},data(){return{strings:{compareTwoRevisions:l("Compare any two revisions",D),next:l("Next",D),previous:l("Previous",D)}}}},ft=e=>(P("data-v-3cd53777"),e=e(),O(),e),bt={class:"aioseo-seo-revisions-comparison__controls"},gt={class:"aioseo-seo-revisions-comparison__controls__compare-mode"},yt=ft(()=>n("input",{type:"checkbox"},null,-1)),St={class:"aioseo-seo-revisions-comparison__controls__previous"},It={class:"button",disabled:""},wt={class:"aioseo-seo-revisions-comparison__controls__slider"},$t={class:"marks"},xt={class:"aioseo-seo-revisions-comparison__controls__slider__handle to",disabled:""},Rt={class:"aioseo-seo-revisions-comparison__controls__next"},Tt={class:"button",disabled:""};function Nt(e,t,s,a,o,i){const m=v("svg-slider-handle");return r(),c("div",bt,[n("div",gt,[yt,b(" "+p(o.strings.compareTwoRevisions),1)]),n("div",St,[n("button",It,p(o.strings.previous),1)]),n("div",wt,[n("div",$t,[(r(),c(N,null,L(15,d=>n("div",{key:d})),64))]),n("button",xt,[u(m)])]),n("div",Rt,[n("button",Tt,p(o.strings.next),1)])])}const Ht=S(ht,[["render",Nt],["__scopeId","data-v-3cd53777"]]),H=e=>(P("data-v-2c5e7d56"),e=e(),O(),e),kt={class:"aioseo-seo-revisions-comparison__item-meta"},Ft={class:"aioseo-seo-revisions-comparison__item-meta__col"},Et={class:"aioseo-seo-revisions-comparison__item-meta__author-avatar"},Ct={class:"aioseo-seo-revisions-comparison__item-meta__col"},Bt={class:"aioseo-wrapper"},Dt={class:"aioseo-seo-revisions-comparison__item-meta__author"},Mt=H(()=>n("span",null," Revision by ",-1)),Lt=H(()=>n("div",{class:"aioseo-seo-revisions-comparison__item-meta__note"}," SEO Revision note ",-1)),Pt=H(()=>n("button",{class:"aioseo-seo-revisions-comparison__item-meta__btn-edit-note"}," Edit Note ",-1)),Ot=H(()=>n("div",{class:"aioseo-seo-revisions-comparison__item-meta__date"}," 1 week ago (2 Dec, 2022 @ 18:28:57) ",-1)),Vt={class:"aioseo-seo-revisions-comparison__item-meta__col"},At={__name:"ItemMeta",setup(e){const{currentUser:t}=A(R());return(s,a)=>(r(),c("div",kt,[n("div",Ft,[n("div",Et,[u(I(K),{src:I(t).avatar.url,size:I(t).avatar.size},null,8,["src","size"])])]),n("div",Ct,[n("div",Bt,[n("div",Dt,[Mt,n("span",null,p(I(t).display_name),1)]),Lt,Pt]),Ot]),n("div",Vt,[M(s.$slots,"btn-restore",{},void 0,!0)])]))}},Ut=S(At,[["__scopeId","data-v-2c5e7d56"]]),jt={},zt={class:"aioseo-seo-revisions-item-diff"},Kt=oe('<h3 data-v-3d55fc94>SEO Title</h3><div data-v-3d55fc94><table class="diff is-split-view" data-v-3d55fc94><tbody data-v-3d55fc94><tr data-v-3d55fc94><td class="diff-deletedline" data-v-3d55fc94><span aria-hidden="true" class="dashicons dashicons-minus" data-v-3d55fc94></span><span class="tag" data-v-3d55fc94>Post Title</span><span class="tag" data-v-3d55fc94>Separator</span><del data-v-3d55fc94><span class="tag" data-v-3d55fc94>Site Title</span></del></td><td class="diff-addedline" data-v-3d55fc94><span aria-hidden="true" class="dashicons dashicons-plus" data-v-3d55fc94></span><span class="tag" data-v-3d55fc94>Post Title</span><span class="tag" data-v-3d55fc94>Separator</span><ins data-v-3d55fc94><span class="tag" data-v-3d55fc94>Tagline</span></ins></td></tr></tbody></table></div><h3 data-v-3d55fc94>SEO Description</h3><div data-v-3d55fc94><table class="diff is-split-view" data-v-3d55fc94><tbody data-v-3d55fc94><tr data-v-3d55fc94><td class="diff-deletedline" data-v-3d55fc94><span aria-hidden="true" class="dashicons dashicons-minus" data-v-3d55fc94></span><del data-v-3d55fc94><span data-v-3d55fc94>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s.</span></del></td><td class="diff-addedline" data-v-3d55fc94><span aria-hidden="true" class="dashicons dashicons-plus" data-v-3d55fc94></span><ins data-v-3d55fc94><span data-v-3d55fc94>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s.</span></ins></td></tr></tbody></table></div><h3 data-v-3d55fc94>Focus Keyphrase</h3><div data-v-3d55fc94><table class="diff is-split-view" data-v-3d55fc94><tbody data-v-3d55fc94><tr data-v-3d55fc94><td class="diff-deletedline" data-v-3d55fc94><span aria-hidden="true" class="dashicons dashicons-minus" data-v-3d55fc94></span><del data-v-3d55fc94><span data-v-3d55fc94>Apple Pie</span></del></td><td class="diff-addedline" data-v-3d55fc94><span aria-hidden="true" class="dashicons dashicons-plus" data-v-3d55fc94></span><ins data-v-3d55fc94><span data-v-3d55fc94>Apple Pie</span></ins></td></tr></tbody></table></div><h3 data-v-3d55fc94>Additional Keyphrases</h3><div data-v-3d55fc94><table class="diff is-split-view" data-v-3d55fc94><tbody data-v-3d55fc94><tr data-v-3d55fc94><td class="diff-deletedline" data-v-3d55fc94><span aria-hidden="true" class="dashicons dashicons-minus" data-v-3d55fc94></span><del data-v-3d55fc94><span data-v-3d55fc94>Assistance</span></del><br data-v-3d55fc94><del data-v-3d55fc94><span data-v-3d55fc94>Explanation</span></del><br data-v-3d55fc94><del data-v-3d55fc94><span data-v-3d55fc94>Inspector</span></del><br data-v-3d55fc94><del data-v-3d55fc94><span data-v-3d55fc94>Championship</span></del><br data-v-3d55fc94><span data-v-3d55fc94>Smile</span></td><td class="diff-addedline" data-v-3d55fc94><span aria-hidden="true" class="dashicons dashicons-plus" data-v-3d55fc94></span><ins data-v-3d55fc94><span data-v-3d55fc94>Perspective</span></ins><br data-v-3d55fc94><ins data-v-3d55fc94><span data-v-3d55fc94>Family</span></ins><br data-v-3d55fc94><ins data-v-3d55fc94><span data-v-3d55fc94>Priority</span></ins><br data-v-3d55fc94><ins data-v-3d55fc94><span data-v-3d55fc94>Independence</span></ins><br data-v-3d55fc94><span data-v-3d55fc94>Smile</span></td></tr></tbody></table></div>',8),Wt=[Kt];function qt(e,t){return r(),c("div",zt,Wt)}const Gt=S(jt,[["render",qt],["__scopeId","data-v-3d55fc94"]]),V="all-in-one-seo-pack",Qt={components:{Controls:Ht,CoreBlur:le,ItemMeta:Ut,ItemsDiff:Gt,SeoRevisionsUpsell:de},data(){return{strings:{compareRevisionsOf:l("Compare Revisions of",V),goToEditor:l("Go to editor",V)}}}},Xt={class:"aioseo-seo-revisions-comparison"},Jt={class:"long-header"},Yt={class:"aioseo-seo-revisions-comparison__item-meta-wrapper"},Zt={class:"aioseo-seo-revisions-comparison__diff"};function es(e,t,s,a,o,i){const m=v("controls"),d=v("base-button"),_=v("item-meta"),k=v("items-diff"),F=v("core-blur"),E=v("seo-revisions-upsell");return r(),c("div",Xt,[n("h1",Jt,[b(p(o.strings.compareRevisionsOf)+" “ ",1),n("a",{href:"#",onClick:t[0]||(t[0]=g(()=>{},["prevent"]))}," 8 Link Building Strategies You Need to Know "),b(" ” ")]),n("a",{href:"#",onClick:t[1]||(t[1]=g(()=>{},["prevent"]))}," ← "+p(o.strings.goToEditor),1),u(m),u(F,null,{default:y(()=>[n("div",Yt,[u(_,null,{"btn-restore":y(()=>[u(d,{size:"small-table",disabled:!0},{default:y(()=>[b(" Restore This Revision ")]),_:1})]),_:1})]),n("div",Zt,[u(k)])]),_:1}),u(E,{"parent-component-context":"comparison-ui"})])}const ts=S(Qt,[["render",es],["__scopeId","data-v-5530d74a"]]),ss={class:"wrap"},Fs={__name:"Main",setup(e){const{isUnlicensed:t}=A(X());return(s,a)=>(r(),c("div",ss,[I(t)?(r(),$(I(ts),{key:1})):(r(),$(I(ut),{key:0}))]))}};export{Fs as default};
