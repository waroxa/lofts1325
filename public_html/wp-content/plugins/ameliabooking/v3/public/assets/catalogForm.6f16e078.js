var _a=Object.defineProperty;var Gt=Object.getOwnPropertySymbols;var va=Object.prototype.hasOwnProperty,fa=Object.prototype.propertyIsEnumerable;var Jt=(p,w,m)=>w in p?_a(p,w,{enumerable:!0,configurable:!0,writable:!0,value:m}):p[w]=m,tt=(p,w)=>{for(var m in w||(w={}))va.call(w,m)&&Jt(p,m,w[m]);if(Gt)for(var m of Gt(w))fa.call(w,m)&&Jt(p,m,w[m]);return p};import{o as t,c as i,n as M,d as Ct,u as at,a,b as e,e as he,w as O,f as de,t as l,_ as Ae,g as r,h as J,i as Mt,j as z,k as y,l as ae,F as K,r as ge,m as re,p as x,q as De,s as Re,v as bt,x as Yt,y as it,z as Ke,I as ga,A as _t,B as se,C as ot,D as $t,E as Se,G as ya,H as ha,J as ba,K as ka,L as Ca,M as $a,N as wa,O as Sa,P as xa,Q as Pa,R as Ia,S as Ea,T as Da,U as La,V as Je,W as Ft,X as Ta,Y as Et,Z as Ot,$ as pt,a0 as Qt,a1 as Ba,a2 as Fa,a3 as Zt,a4 as Ue,a5 as Ye,a6 as za,a7 as Aa,a8 as ue,a9 as Ra,aa as Nt,ab as Ma,ac as Kt,ad as Oa,ae as Na,af as ea,ag as Va,ah as Ua,ai as zt,aj as wt,ak as ut,al as At,am as Vt,an as vt,ao as St,ap as Oe,aq as xt,ar as Pt,as as Wa,at as ja,au as Ha,av as qa,aw as Ga,ax as Ja}from"./stepForm.0ca6d9cb.js";const Ya={name:"IconComponent"},It=Object.assign(Ya,{props:{icon:{type:String,required:!0}},setup(p){return(w,m)=>(t(),i("span",{class:M(`am-icon-${p.icon}`)},null,2))}});const Qa={class:"am-cat__header-inner"},Xa={class:"am-cat__back-btn"},Za={key:0,class:"am-cat__cart-btn"},Ka={class:"am-cat__cart-number"},ei={name:"MainHeader"},Ut=Object.assign(ei,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(p,{emit:w}){const m=p;let P=Ct({components:{IconComponent:It},template:'<IconComponent icon="arrow-left"></IconComponent>'}),$=Ct({components:{IconComponent:It},template:'<IconComponent icon="cart"/>'});function B(){w("goBack")}const u=at();function s(){Mt(u),w("goToCart")}return(d,h)=>(t(),i("div",Qa,[a("div",Xa,[e(m).backBtnVisibility?(t(),he(Ae,{key:0,prefix:e(P),category:"secondary",type:p.btnType,size:p.btnSize,onClick:B},{default:O(()=>[de(l(e(m).btnString),1)]),_:1},8,["prefix","type","size"])):r("",!0)]),e(m).cartBtnVisibility?(t(),i("div",Za,[a("span",Ka,l(e(m).cartItemsNumber),1),J(Ae,{category:"secondary",type:p.btnType,size:p.btnSize,round:!0,"icon-only":!0,icon:e($),onClick:s},null,8,["type","size","icon"])])):r("",!0)]))}});const ti={class:"am-cat__sidemenu-item__wrapper"},ai=["onClick"],ii={key:0,class:"am-cat__sidemenu-footer"},si={class:"am-cat__sidemenu-footer__text"},li=["href"],ni={name:"SideMenu"},oi=Object.assign(ni,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(p,{emit:w}){const m=p;function P(u){w("click",u)}let $=z("amColors"),B=y(()=>({"--am-c-csm-text-op10":ae($.value.colorSbText,.1),"--am-c-csm-primary-op10":ae($.value.colorPrimary,.1),"--am-c-csm-text-op60":ae($.value.colorSbText,.6),"--am-c-csm-text-op80":ae($.value.colorSbText,.8)}));return(u,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:re(e(B))},[a("div",ti,[(t(!0),i(K,null,ge(p.menuItems,(d,h)=>(t(),i("div",{key:h,class:M(["am-cat__sidemenu-item",{"am-active":e(m).initSelection===d[e(m).identifier]}]),onClick:()=>P(d)},l(d[e(m).nameIdentifier]),11,ai))),128))]),e(m).companyEmail?(t(),i("div",ii,[a("span",si,l(e(m).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(m).companyEmail}`},l(e(m).companyEmail),9,li)])):r("",!0)],4))}});const ci={name:"MainContent"},Wt=Object.assign(ci,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(p,{expose:w}){let m=x(null),P=x(0),$=x(null),B=x(0),u=x(null),s=x(0),d=x(null),h=x(null),L=x(0);window.addEventListener("resize",b);function b(){De(()=>{m.value&&(P.value=m.value.offsetWidth),$.value&&(B.value=$.value.offsetWidth),u.value&&(s.value=u.value.offsetWidth)})}Re(()=>{De(()=>{if(u.value&&d.value){let U=u.value.offsetHeight-d.value.offsetHeight-2;L.value=U<=656?656:U}b()})}),w({catHeaderWidth:P,catFormWidth:s,catContainerWidth:B});let I=z("amColors"),v=y(()=>({"--am-h-cat-content":`${L.value}px`,"--am-c-scroll-op30":ae(I.value.colorPrimary,.3),"--am-c-scroll-op10":ae(I.value.colorPrimary,.1)}));return(U,te)=>(t(),i("div",{class:M(["am-cat__wrapper",p.wrapperClass])},[a("div",{ref_key:"catHeader",ref:m,class:"am-cat__header"},[bt(U.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:$,class:"am-cat__main"},[bt(U.$slots,"side"),a("div",{ref_key:"catForm",ref:u,class:M(["am-cat__form",p.formClass]),style:re(e(v))},[a("div",{ref_key:"catHeading",ref:d,class:M(["am-cat__heading",p.headingClass])},[bt(U.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:h,class:M(["am-cat__content",p.contentClass])},[bt(U.$slots,"content")],2)],6)],512)],2))}}),ri={name:"AmImagePlaceholder"},ct=Object.assign(ri,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(p){const w=p;function m($){return $.pictureFullPath?{backgroundImage:`url(${$.pictureFullPath})`}:{backgroundColor:`${Yt.value[Math.floor(Math.random()*Yt.value.length)]}`}}function P($){return $.pictureFullPath?"":("firstName"in $?`${$.firstName} ${$.lastName}`:$.name).split(" ").map(u=>u.charAt(0)).join("").toUpperCase().substring(0,w.trimString).replace(/[^\w\s]/g,"")}return($,B)=>(t(),i("span",{class:M(e(w).itemClass),style:re(tt({},m(e(w).itemData)))},l(P(e(w).itemData)),7))}}),Rt=it(window.wpAmeliaSettings),Xt=it(window.wpAmeliaLabels);function ta(p,w,m,P=null,$=null){let B=[],u=p&&p.service?p.service.split(",").map(s=>parseInt(s)):null;return w&&w.serviceList.forEach(s=>{P?P in m.entitiesRelations&&s.id in m.entitiesRelations[P]&&($?m.entitiesRelations[P][s.id].find(d=>d===$):!0)&&s.status==="visible"&&s.show&&!B.filter(d=>d===s.id).length&&(!u||u.includes(s.id))&&B.push(s.id):m.employees.forEach(d=>{d.id in m.entitiesRelations&&s.id in m.entitiesRelations[d.id]&&($?m.entitiesRelations[d.id][s.id].find(h=>h===$):!0)&&s.status==="visible"&&s.show&&!B.filter(h=>h===s.id).length&&(!u||u.includes(s.id))&&B.push(s.id)})}),B}function aa(p,w){let m=[],P=[];p.employees.forEach(u=>{if(u.id in p.entitiesRelations&&w in p.entitiesRelations[u.id]){let s=u.serviceList.find(d=>d.id===w);m.push(s.maxCapacity),P.push(s.minCapacity)}});let $=P.reduce((u,s)=>s<u?s:u,P[0]),B=m.reduce((u,s)=>s>u?s:u,m[0]);return $!==B?`${$}/${B}`:$}function ia(p){let w=Math.floor(p/3600),m=p/60%60;return(w?w+Xt.h+" ":"")+" "+(m?m+Xt.min:"")}function rt(p,w){let m=[];p.employees.forEach(B=>{if(B.id in p.entitiesRelations&&w in p.entitiesRelations[B.id]){let u=B.serviceList.find(s=>s.id===w);m.push(u.price)}});let P=m.reduce((B,u)=>u<B?u:B,m[0]),$=m.reduce((B,u)=>u>B?u:B,m[0]);return P!==$?{price:`${Ke(P,!Rt.payments.hideCurrencySymbolFrontend)} - ${Ke($,!Rt.payments.hideCurrencySymbolFrontend)}`,min:P,max:$}:{price:Ke(P,Rt.payments.hideCurrencySymbolFrontend),min:P,max:$}}function ze(p,w){let m=[];return p.employees.forEach(P=>{P.id in p.entitiesRelations&&w in p.entitiesRelations[P.id]&&p.entitiesRelations[P.id][w].length&&p.locations.forEach($=>{p.entitiesRelations[P.id][w].some(B=>B===$.id)&&!m.find(B=>B===$.id)&&m.push($)})}),m}function ui(p,w){let m=[],P=Object.keys(p.entitiesRelations);return w.bookable.forEach($=>{let B=[];P.forEach(u=>{p.entitiesRelations[u]&&p.entitiesRelations[u][$.service.id]&&!B.find(s=>s?s.id===parseInt(u):!0)&&B.push(p.employees.find(s=>s.id===parseInt(u)))}),B.length||m.push(!1)}),m.filter($=>$===!1).length}function di(p,w,m){let P=[],$=Object.keys(p.entitiesRelations),B=m&&m.employee?m.employee.split(",").map(s=>parseInt(s)):null,u=x(B?p.unfilteredEmployees.filter(s=>B.map(d=>parseInt(d)).includes(s.id)):p.unfilteredEmployees);return w.bookable.forEach(s=>{let d=[];s.providers.length?s.providers.forEach(h=>{s.locations.length?s.locations.forEach(L=>{u.value.find(b=>b.id===h.id)&&p.entitiesRelations[h.id]&&p.entitiesRelations[h.id][s.service.id]&&p.entitiesRelations[h.id][s.service.id].indexOf(L.id)!==-1&&!d.find(b=>b.id===h.id)&&d.push(u.value.find(b=>b.id===h.id))}):u.value.find(L=>L.id===h.id)&&!d.find(L=>L.id===h.id)&&d.push(u.value.find(L=>L.id===h.id))}):$.forEach(h=>{s.locations.length?s.locations.forEach(L=>{p.entitiesRelations[h]&&p.entitiesRelations[h][s.service.id]&&p.entitiesRelations[h][s.service.id].indexOf(L.id)!==-1&&u.value.find(b=>b.id===parseInt(h))&&!d.find(b=>b.id===parseInt(h))&&d.push(u.value.find(b=>b.id===parseInt(h)))}):p.entitiesRelations[h]&&p.entitiesRelations[h][s.service.id]&&u.value.find(L=>L.id===parseInt(h))&&!d.find(L=>L.id===parseInt(h))&&d.push(u.value.find(L=>L.id===parseInt(h)))}),P.push(!!d.length)}),!P.filter(s=>s===!1).length}function sa(p,w,m){let P=[],$=Object.keys(p.entitiesRelations),B=m&&m.employee?m.employee.split(",").map(s=>parseInt(s)):null,u=x(B?p.unfilteredEmployees.filter(s=>B.map(d=>parseInt(d)).includes(s.id)):p.unfilteredEmployees);return w.bookable.forEach(s=>{s.providers.length?s.providers.forEach(d=>{s.locations.length?s.locations.forEach(h=>{u.value.find(L=>L.id===d.id)&&p.entitiesRelations[d.id]&&p.entitiesRelations[d.id][s.service.id]&&p.entitiesRelations[d.id][s.service.id].indexOf(h.id)!==-1&&!P.find(L=>L.id===d.id)&&P.push(u.value.find(L=>L.id===d.id))}):u.value.find(h=>h.id===d.id)&&!P.find(h=>h.id===d.id)&&P.push(u.value.find(h=>h.id===d.id))}):$.forEach(d=>{s.locations.length?s.locations.forEach(h=>{p.entitiesRelations[d]&&p.entitiesRelations[d][s.service.id]&&p.entitiesRelations[d][s.service.id].indexOf(h.id)!==-1&&u.value.find(L=>L.id===parseInt(d))&&!P.find(L=>L.id===parseInt(d))&&P.push(u.value.find(L=>L.id===parseInt(d)))}):p.entitiesRelations[d]&&p.entitiesRelations[d][s.service.id]&&u.value.find(h=>h.id===parseInt(d))&&!P.find(h=>h.id===parseInt(d))&&P.push(u.value.find(h=>h.id===parseInt(d)))})}),P}function nt(p,w,m){let P=[],$=Object.keys(p.entitiesRelations),B=m&&m.location?m.location.split(",").map(s=>parseInt(s)):null,u=x(B?p.unfilteredLocations.filter(s=>B.map(d=>parseInt(d)).includes(s.id)):p.unfilteredLocations);return w.bookable.forEach(s=>{s.locations.length?s.locations.forEach(d=>{u.value.find(h=>h.id===d.id)&&!P.find(h=>h.id===d.id)&&P.push(u.value.find(h=>h.id===d.id))}):$.forEach(d=>{u.value.forEach(h=>{d in p.entitiesRelations&&s.service.id in p.entitiesRelations[d]&&p.entitiesRelations[d][s.service.id].indexOf(h.id)!==-1&&u.value.find(L=>L.id===h.id)&&!P.find(L=>L.id===parseInt(h.id))&&P.push(u.value.find(L=>L.id===h.id))})})}),P}function kt(p,w,m=null,P=null){let $=[];return p.categories.forEach(B=>{let u=ta(w,B,p,m,P);B.serviceIdList=u,B.packageList=[],p.packages.forEach(s=>{u.forEach(d=>{s.bookable.filter(h=>h.service.id===d).length&&!B.packageList.filter(h=>h===s.id).length&&s.available&&s.status==="visible"&&!ui(p,s)&&di(p,s,w)&&B.packageList.push(s.id)})}),B.status==="visible"&&B.serviceList.length&&!!u.length&&(w.show==="packages"?!!B.packageList.length:!0)&&$.push(B)}),$}const mi={class:"am-fcl__item-inner"},pi={class:"am-fcl__item-name"},_i={class:"am-fcl__item-segments"},vi={key:0,class:"am-fcl__item-segments__item"},fi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),gi={class:"am-fcl__item-segments__item-count"},yi={key:1,class:"am-fcl__item-segments__item"},hi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),bi={class:"am-fcl__item-segments__item-count"},ki={class:"am-fcl__item-footer"},Ci=["src"],$i={class:"am-empty__heading"},wi={class:"am-empty__subheading"},Si={class:"am-empty__text"},xi={key:0},Pi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ii={key:1},Ei={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Di={name:"CategoriesList",key:"categoriesList"},Li=Object.assign(Di,{setup(p){const w=z("baseUrls");let m=x(null),P=x(0);window.addEventListener("resize",$);function $(){m.value&&(P.value=m.value.offsetWidth)}Re(()=>{m.value&&(P.value=m.value.offsetWidth)});let B=y(()=>P.value<=500?"am-w100":P.value<=600?"am-w50":P.value<=768?"am-w33":""),{nextPage:u}=z("changingPageFunctions",{nextPage:()=>{}});const s=z("settings");let d=at(),h=z("amEntities"),L=z("customizedDataForm"),b=y(()=>L.value.categoriesList.options);const I=z("shortcodeData"),v=y(()=>d.getters["entities/getPreselected"]);let U=z("availableCategories"),te=y(()=>U.value),D=z("categorySelected");function A(be){D.value=be,d.commit("booking/setCategoryId",parseInt(be)),_t(d,{},"SelectCategory","appointment",null,null),u()}let c=y(()=>te.value.length===0);const q=z("labels"),oe=z("localLanguage");let G=y(()=>s.general.usedLanguages.includes(oe.value)),pe=y(()=>{let be=it(tt({},q));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let ne=s.customizedData.cbf.categoriesList.translations;Object.keys(ne).forEach(_=>{ne[_][oe.value]&&G.value?be[_]=ne[_][oe.value]:ne[_].default&&(be[_]=ne[_].default)})}return be}),$e=z("amColors"),N=y(()=>({"--am-c-fcl-card-text-op80":ae($e.value.colorCardText,.8)}));return(be,ne)=>e(c)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:m,class:"am-empty"},[a("img",{src:e(w).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ci),a("div",$i,l(e(pe).oops),1),a("div",wi,l(e(v).show!=="packages"?e(pe).no_services_employees:e(pe).no_package_services),1),a("div",Si,[e(v).show!=="packages"?(t(),i("span",xi,l(e(pe).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",Pi,l(e(pe).add_services_url)+"\xA0 ",1),e(v).show!=="packages"?(t(),i("span",Ii,l(e(pe).and)+"\xA0 ",1)):r("",!0),e(v).show!=="packages"?(t(),i("a",Ei,l(e(pe).add_employees_url),1)):r("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:m,class:"am-fcl",style:re(e(N))},[(t(!0),i(K,null,ge(e(te),_=>(t(),i("div",{key:_.id,class:M(["am-fcl__item",e(B)])},[a("div",mi,[a("div",{class:"am-fcl__item-content",style:re(e(b).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:_.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e(b).cardColor&&e(b).cardColor.visibility?{backgroundColor:e(ae)(_.color,.1)}:{})},[_.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${_.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):r("",!0),a("div",pi,l(_.name),1),a("div",_i,[(!e(v).show||e(v).show==="services")&&e(b).services.visibility?(t(),i("div",vi,[fi,a("span",gi,l(e(ta)(e(I),_,e(h)).length),1)])):r("",!0),(!e(v).show||e(v).show==="packages")&&_.packageList.length&&e(b).packages.visibility?(t(),i("div",yi,[hi,a("span",bi,l(_.packageList.length),1)])):r("",!0)])],4),a("div",ki,[J(Ae,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(b).cardButton.buttonType,suffix:e(ga),onClick:fe=>A(_.id)},{default:O(()=>[de(l(e(pe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Ti=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Bi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Fi=["href"],zi={class:"am-fs-sb__step-wrapper"},Ai={class:"am-fs-sb__step-inner"},Ri={class:"am-fs-sb__step-icon"},Mi={key:0,class:"am-icon-check"},Oi={key:0},Ni={key:1},Vi={key:1},Ui={key:0,class:"am-fs-sb__step"},Wi={class:"am-fs-sb__step-inner"},ji={class:"am-fs-sb__step-icon"},Hi={key:0,class:"am-icon-check"},qi={key:0,class:"am-fs-sb__support"},Gi=["href"],Ji={key:1,class:"am-icon-phone"},Yi=["href"],Qi={key:1,class:"am-icon-email"},Xi={key:0,class:"am-fs-sb__menu-text"},Zi={key:2,class:"am-no-services"},Ki=["src"],es={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ts={style:{"font-size":"14px"}},as={href:"https://wpamelia.com/employees/",rel:"nofollow"},is={name:"CategoryBooking"},jt=Object.assign(is,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(p,{emit:w}){const m=p;let P=x(null),$=x();se("containerWidth",$);let B=x(!1);window.addEventListener("resize",u);function u(){P.value&&($.value=P.value.offsetWidth)}Re(()=>{De(()=>{P.value&&($.value=P.value.offsetWidth)}),_t(c,{containerWidth:$},"ContainerWidth","appointment",null,null)});const s=z("settings"),d=s.customizedData?s.customizedData.sbsNew:ot.sbsNew;d&&se("amCustomize",d);let h=y(()=>{let o={heading:!0,phone:!0,email:!0};return"supportHeading"in d.sidebar.options&&(o.heading=d.sidebar.options.supportHeading.visibility),"companyPhone"in d.sidebar.options&&(o.phone=d.sidebar.options.companyPhone.visibility),"companyEmail"in d.sidebar.options&&(o.email=d.sidebar.options.companyEmail.visibility),o});const L=x(s.customizedData?s.customizedData.fonts:ot.fonts);se("amFonts",L);let b=x(!1);se("sidebarCollapsed",b);let I=x(""),v=z("bookingDialogWidth");$t(b,o=>{o?setTimeout(()=>{I.value="am-collapsed",setTimeout(()=>{v.value="592px"},200)},1e3):(I.value="",v.value="760px")}),Re(()=>{d.sidebar.options.self.visibility||(v.value="520px")});let U=x(null),te=x(0);Re(()=>{setTimeout(()=>{De(()=>{U.value&&setTimeout(()=>{U.value&&(te.value=U.value.offsetHeight)},200)})},800)});let D=x(d.sidebar?d.sidebar.options.self.visibility:!0);const A=z("baseUrls"),c=at();let q=y(()=>{let o=c.getters["entities/getOriginalPreselected"],g={category:c.state.booking.appointment.categoryId?[c.state.booking.appointment.categoryId]:[],counter:c.state.entities.preselected.counter,employee:c.state.booking.appointment.providerId?[c.state.booking.appointment.providerId]:[],hasApiCall:c.state.entities.preselected.hasApiCall,location:c.state.booking.appointment.locationId?[c.state.booking.appointment.locationId]:[],service:c.state.booking.appointment.serviceId?[c.state.booking.appointment.serviceId]:[],package:c.state.booking.packageId?[c.state.booking.packageId]:[],show:c.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(o).forEach(E=>{E in g||(g[E]=o[E])}),g});c.commit("entities/setPreselected",q.value);let oe=z("restoreFormData");const G=Se(ya),pe=Se(ha),$e=Se(ba),N=Se(ka),be=Se(Ca),ne=Se($a),_=Se(wa),fe=Se(Sa),we=Se(xa),_e=Se(Pa),ve=Se(Ia),ee=Se(Ea),Le=Se(Da),Te=Se(La),f=x(Je(c)?[G,ne,_e,ve,we]:[G,ne,ve,we]);se("stepsArray",f);const Q=z("labels"),Y=z("localLanguage");let V=y(()=>s.general.usedLanguages.includes(Y.value)),Be=Ft(c),ie=y(()=>{let o=it(tt({},Q));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(g=>{if(g!=="colors"&&s.customizedData.sbsNew[g].translations){let E=s.customizedData.sbsNew[g].translations;Object.keys(E).forEach(X=>{E[X][Y.value]&&V.value?o[X]=E[X][Y.value]:E[X].default&&(o[X]=E[X].default)})}}),o});se("amLabels",ie);let We=y(()=>{let o={};if(s.customizedData){let g=s.customizedData.sbsNew[f.value[C.value].key]?s.customizedData.sbsNew[f.value[C.value].key].translations:null;s.customizedData&&g&&Object.keys(g).forEach(E=>{g[E][Y.value]&&V.value?o[E]=g[E][Y.value]:g[E].default&&(o[E]=g[E].default)})}return Object.keys(o).length?o:Q}),Fe=y(()=>{let o="filled";return s.customizedData&&s.customizedData.sbsNew[f.value[C.value].key]&&(o=s.customizedData.sbsNew[f.value[C.value].key].options.primaryFooterButton.buttonType),o});se("primFooterBtnType",Fe),se("primDescBtnType",Fe);let Z=y(()=>{let o="text";return s.customizedData&&s.customizedData.sbsNew[f.value[C.value].key]&&s.customizedData.sbsNew[f.value[C.value].key].options.secondaryFooterButton&&(o=s.customizedData.sbsNew[f.value[C.value].key].options.secondaryFooterButton.buttonType),o}),W=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),F=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function ce(o,g){let E="";if(s.customizedData){let X=s.customizedData.sbsNew[g]?s.customizedData.sbsNew[g].translations:null;s.customizedData&&X&&X[o]&&(E===""&&X[o][Y.value]&&V.value?E=X[o][Y.value]:E===""&&X[o].default&&(E=X[o].default))}return E||Q[o]}let Ie=y(()=>Ta(c.getters["entities/getEmployeeServices"](c.getters["booking/getSelection"])));function Ne(){let o=c.getters["entities/getPreselected"];if(o.show==="packages")o.package.length>0&&(f.value.splice(0,1),j.value.splice(0,1),Ee()),le();else{S();let g=c.getters["entities/filteredEmployees"](c.getters["booking/getSelection"]).length<=1,E=!d.initStep.options.employee.visibility,X=c.getters["entities/filteredLocations"](c.getters["booking/getSelection"]).length<=1,Pe=!d.initStep.options.location.visibility;o.service.length>0&&(o.employee.length>0||g||E)&&(o.location.length>0||X||Pe)&&(Ie.value.availability?(f.value.splice(0,1,Te),j.value.splice(0,1)):(f.value.splice(0,1),j.value.splice(0,1)),le())}}function xe(o,g,E,X){o.value.map((He,Ze)=>g.includes(He.name)?Ze:null).filter(He=>He!==null).reverse().forEach(He=>{o.value.splice(He,1)});let Ge={value:X};E.forEach(He=>{o.value.indexOf(He)===-1&&(c.getters["entities/getPreselected"].show==="packages"&&c.getters["entities/getPreselected"].package.length>0?o.value.splice(Ge.value,0,He):o.value.splice(Ge.value+1,0,He))})}se("goToPackageStep",{goToPackageStep:et});function et(o){c.commit("booking/setPackageId",o.id),c.commit("booking/setBookableType","package"),c.commit("booking/setMultipleAppointments",Et(0,o)),c.commit("booking/setMultipleAppointmentsIndex",0);let g=o.bookable.reduce((Pe,Ge)=>Pe+Ge.maximumScheduled,0),E=[],X=[];f.value[0]!==pe&&E.push("ExtrasStep"),f.value[0]!==ne&&E.push("DateTimeStep"),f.value[0]!==_e&&E.push("CartStep"),g>0?X=X.concat([fe,_,$e]):X.push($e),xe(f,E,X,C.value),xe(j,E,[],C.value),le(),lt()}function Ee(){let g=c.state.entities.packages.find(Pe=>Pe.id===c.getters["booking/getPackageId"]).bookable.reduce((Pe,Ge)=>Pe+Ge.maximumScheduled,0),E=[],X=[];f.value.find(Pe=>Pe.name==="ExtrasStep")&&E.push("ExtrasStep"),f.value.find(Pe=>Pe.name==="DateTimeStep")&&E.push("DateTimeStep"),g>0?X=X.concat([fe,_,$e]):X.push($e),xe(f,E,X,C.value),xe(j,E,[],C.value),le(),lt()}function st(){c.commit("booking/setBookableType","appointment"),c.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),c.commit("booking/setPackageId",null),c.commit("booking/setMultipleAppointmentsIndex",0),pt(c);let o=[];f.value[0]!==ne&&(Je(c)&&o.push(_e),o.push(ne)),f.value[0]!==pe&&T.value&&T.value.length&&o.push(pe),xe(f,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],o,C.value-1),xe(j,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],C.value),le()}se("goToRecurringStep",{goToRecurringStep:dt}),se("removeRecurringStep",{removeRecurringStep:H});function dt(){Je(c)&&na();let o=0;for(let g=0;g<f.value.length;g++)if(f.value[g].name==="DateTimeStep"){o=g;break}f.value.splice(o+1,0,N),f.value.splice(o+2,0,be),le(),lt()}function H(){for(let o=f.value.length-1;o>=0;o--)(f.value[o].name==="RecurringStep"||f.value[o].name==="RecurringSummary")&&f.value.splice(o+1,1);Je(c)&&la(C.value),le()}let T=y(()=>{let o=c.getters["entities/getService"](c.getters["booking/getServiceId"]);return o?o.extras:[]});function S(){T.value.length&&!f.value.find(o=>o.name==="ExtrasStep")&&(f.value.splice(C.value+1,0,pe),le()),j.value.find(o=>o.name==="ExtrasStep")&&!Object.keys(T.value).length&&(f.value.splice(1,1),j.value.splice(1,1)),m.showCart||pt(c)}se("initDataChanges",{changeInitStepDataService:S});const C=x(0);se("stepIndex",C);let Qe=z("stepName",x(""));$t(C,(o,g)=>{o<j.value.length&&(j.value[g].selected=!1,j.value[o].selected=!0),o===j.value.length&&(j.value[g].selected=!1),Qe.value=f.value[o].name});let Me=x(!1);se("goBackToPackageBooking",Me);function ft(){n(!1),ye.value||(f.value[C.value].name===$e.name&&st(),f.value[C.value].name===N.name&&(f.value.splice(C.value,2),j.value.splice(C.value,2),Je(c)&&(f.value.splice(C.value,0,_e),xe(j,[],[],C.value),le())),f.value[C.value].name===fe.name&&(Me.value=!0),C.value=C.value-1),ke.value=!ke.value}function lt(){ye.value||(j.value[C.value].finished=!0,C.value=C.value+1)}let gt=y(()=>c.getters["entities/getReady"]),yt=y(()=>c.getters["booking/getLoading"]),Xe=y(()=>c.getters["booking/getBooked"]),Dt=y(()=>c.getters["booking/getPaymentGateway"]),mt=x(!1),ht=x(!1),ke=x(!1);function Lt(){mt.value=!0}function Tt(){mt.value=!1}function R(){ke.value=!0}function k(){ke.value=!1}function n(o){ht.value=o}function me(){Xe.value&&(Xe.value.customerCabinetUrl?window.location.href=Xe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:me});let ye=x(!1);se("changingStepsFunctions",{nextStep:lt,previousStep:ft,footerButtonClick:Lt,footerButtonReset:Tt,footerBtnDisabledUpdater:n,headerButtonPreviousClick:R,headerButtonPreviousReset:k,footerBtnDisabled:ht,footerButtonClicked:mt,headerButtonPreviousClicked:ke,navigateInsideStep:ye});const j=x([]);se("sidebarSteps",j);function qe(o){j.value[C.value].stepSelectedData.filter(g=>g.reference===o.reference).length?j.value[C.value].stepSelectedData.forEach((g,E,X)=>{g.reference===o.reference&&o.value&&o.value!==g.value&&(g.value=o.value),g.reference===o.reference&&!o.value&&X.splice(E,1)}):o.value&&j.value[C.value].stepSelectedData.push(o),j.value[C.value].stepSelectedData.sort((g,E)=>g.position-E.position)}function je(){f.value.forEach((o,g)=>{if(o.name!=="CongratulationsStep"){let E=o.sidebarData.label,X={name:o.name,key:o.key,label:ie.value[E],labelKey:E,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:g===C.value};j.value.splice(g,0,X)}})}Ot(()=>{je(),Ne()}),Re(()=>{switch(c.getters["booking/getBookableType"]){case"appointment":m.showCart||pt(c);break}if(m.showCart&&Qt(f,C),oe.value){f.value.splice(0,f.value.length),j.value.splice(0,j.value.length),C.value=0,oe.value.steps.forEach(g=>{switch(g){case"packageStep":f.value.push(Le);break;case"bringingAnyone":f.value.push(Te);break;case"initStep":f.value.push(G);break;case"packageInfoStep":f.value.push($e);break;case"packageAppointmentsStep":f.value.push(_);break;case"packageAppointmentsListStep":f.value.push(fe);break;case"extrasStep":f.value.push(pe);break;case"dateTimeStep":f.value.push(ne);break;case"recurringStep":f.value.push(N);break;case"recurringSummary":f.value.push(be);break;case"cartStep":f.value.push(_e);break;case"infoStep":f.value.push(ve);break;case"paymentStep":f.value.push(ee);break;case"congratulations":f.value.push(we);break}let E=oe.value.sidebar.find(X=>X.key===g);le(),typeof E!="undefined"&&E.data&&E.data.forEach(X=>{qe({reference:X.reference,position:X.position,value:X.value})}),C.value++}),c.commit("booking/setLoading",!1);let o=-1;oe.value.result==="success"?o=f.value.length-1:(oe.value.result==="error"||oe.value.result==="canceled")&&(o=f.value.length-2);for(let g=0;g<=o;g++)f.value[g].finished=!0;for(let g=0;g<=o-1;g++)j.value[g].finished=!0,j.value[g].selected=!1;(oe.value.result==="error"||oe.value.result==="canceled")&&(j.value[o].finished=!1,j.value[o].selected=!0),C.value=o}});function le(){f.value.forEach((o,g)=>{if(o.name!=="CongratulationsStep"&&!j.value.find(E=>E.labelKey===o.sidebarData.label)){let E=o.sidebarData.label,X={name:o.name,key:o.key,label:ie.value[E],labelKey:E,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:g===C.value};j.value.splice(g,0,X)}})}se("sidebarStepsFunctions",{sidebarDataCollector:qe}),se("addPaymentsStep",{addPaymentsStep:Ht}),se("removePaymentsStep",{removePaymentsStep:qt});function Ht(){f.value.splice(f.value.length-1,0,ee),le()}function qt(){let o=["PaymentStep"];xe(f,o,[],C.value),xe(j,o,[],C.value)}function la(o){xe(f,[],[_e],o),xe(j,[],[],o)}function na(){xe(f,["CartStep"],[],C.value),xe(j,["CartStep"],[],C.value)}function oa(){if(c.getters["entities/getPreselected"].show==="packages"){let g=c.getters["booking/getPackageId"]?[c.getters["entities/getPackage"](c.getters["booking/getPackageId"])]:c.getters["entities/getPackages"];return g.length>0&&g.filter(E=>E.price>0).length===g.length}if(!c.getters["booking/getPackageId"]){let g=c.getters["booking/getServiceId"]?[c.getters["entities/getService"](c.getters["booking/getServiceId"])]:c.getters["entities/getServices"],E=0;for(let X of g){let Pe=c.getters["booking/getEmployeeId"]?c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])?[c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])]:[]:c.getters["entities/getEmployees"],Ge=c.getters["booking/getBookingDuration"];if(Pe.filter(Ze=>Ze.serviceList.find(Ve=>Ve.id===X.id&&(Ve.price>0||Ve.customPricing&&Ve.customPricing.enabled&&(Object.values(Ve.customPricing.durations).length===Object.values(Ve.customPricing.durations).filter(Bt=>Bt.price>0).length||Ge&&Ve.customPricing.durations[Ge].price>0)))).length===Pe.filter(Ze=>Ze.serviceList.find(Ve=>Ve.id===X.id)).length)E++;else{let Ze=c.getters["booking/getSelectedExtras"].length?c.getters["booking/getSelectedExtras"]:[];Ze.length>0&&Ze.reduce((Ve,Bt)=>Ve+Bt.price,0)>0&&E++}}return g.length>0&&E===g.length}return c.getters["entities/getPackage"](c.getters["booking/getPackageId"]).price>0}let ca=y(()=>Ft(c).length?Ba(c)!==0:oa());Fa(()=>{let o=Ft(c);!o[0].serviceId&&Object.keys(o[0].services).length===0&&w("emptiedCart"),!oe.value&&!ca.value?qt():oe.value||f.value.indexOf(ee)===-1&&Ht()},{flush:"post"});function ra(){j.value.forEach(o=>{o.finished=!1,o.selected=!1}),f.value.forEach(o=>{o.finished=!1,o.selected=!1}),C.value=0,ea(c,!0),Va(c),pt(c),w("addToCart")}function ua(){let o=c.getters["booking/getCurrentCartItem"],g=c.getters["booking/getAllMultipleAppointments"];o?(c.commit("booking/setCartItem",o),c.commit("booking/setCartItemIndex",g.length-1),c.commit("booking/setCurrentCartItem",null)):(g.pop(),c.commit("booking/setCartItemIndex",g.length-1),c.commit("booking/setServiceId",g[g.length-1].serviceId),c.commit("booking/setEmployeeId",g[g.length-1].services[g[g.length-1].serviceId].providerId),c.commit("booking/setLocationId",g[g.length-1].services[g[g.length-1].serviceId].locationId)),Qt(f,C)}let Ce=y(()=>s.customizedData?s.customizedData.sbsNew.colors:ot.sbsNew.colors);se("amColors",Ce);let da=y(()=>({"--am-c-primary":Ce.value.colorPrimary,"--am-c-success":Ce.value.colorSuccess,"--am-c-error":Ce.value.colorError,"--am-c-warning":Ce.value.colorWarning,"--am-c-main-bgr":Ce.value.colorMainBgr,"--am-c-main-heading-text":Ce.value.colorMainHeadingText,"--am-c-main-text":Ce.value.colorMainText,"--am-c-sb-bgr":Ce.value.colorSbBgr,"--am-c-sb-text":Ce.value.colorSbText,"--am-c-inp-bgr":Ce.value.colorInpBgr,"--am-c-inp-border":Ce.value.colorInpBorder,"--am-c-inp-text":Ce.value.colorInpText,"--am-c-inp-placeholder":Ce.value.colorInpPlaceHolder,"--am-c-drop-bgr":Ce.value.colorDropBgr,"--am-c-drop-text":Ce.value.colorDropText,"--am-c-btn-prim":Ce.value.colorBtnPrim,"--am-c-btn-prim-text":Ce.value.colorBtnPrimText,"--am-c-btn-sec":Ce.value.colorBtnSec,"--am-c-btn-sec-text":Ce.value.colorBtnSecText,"--am-c-skeleton-op20":ae(Ce.value.colorMainText,.2),"--am-c-skeleton-op60":ae(Ce.value.colorMainText,.6),"--am-font-family":L.value.fontFamily,"--am-mw-main":D.value?b.value?"592px":"760px":"520px","--am-brad-main":D.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ma(){let o=document.head||document.getElementsByTagName("head")[0];o.querySelector("#amCustomFont")&&o.querySelector("#amCustomFont").remove();let g=`@font-face {font-family: '${L.value.fontFamily}'; src: url(${L.value.fontUrl});}`,E=document.createElement("style");o.appendChild(E),E.setAttribute("type","text/css"),E.setAttribute("id","amCustomFont"),E.appendChild(document.createTextNode(g))}L.value.customFontSelected&&ma();let pa=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",pa),Re(()=>{Zt("renderForm",{ameliaContainer:P,containerWidth:$,empty:B,amCustomize:d,amFonts:L,sidebarCollapsed:b,sidebarCollapseItemsClass:I,sidebarFooterRef:U,sidebarFooterHeight:te,sidebarVisibility:D})}),(o,g)=>(t(),i(K,null,[L.value.customFontSelected?r("",!0):(t(),i(K,{key:0},[Ti,Bi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(A).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Fi)],64)),e(B)?(t(),i("div",Zi,[a("img",{src:e(A).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Ki),a("h1",null,l(e(ie).oops),1),a("h3",null,l(e(ie).no_services_employees),1),a("p",null,l(e(ie).add_services_employees),1),a("a",es,l(e(ie).add_services_url)+"\xA0 ",1),a("span",ts,l(e(ie).and)+"\xA0",1),a("a",as,l(e(ie).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:P,class:M(["am-fs__wrapper",{"am-collapsed":e(b)}]),style:re(e(da))},[e($)>560&&e(D)?(t(),he(Ra,{key:0,class:M(["am-fs-sb",{"am-collapsed":e(b)}]),style:re({width:e(b)?"72px":"240px",paddingBottom:`${e(te)+16}px`})},{"step-list":O(()=>[a("div",zi,[f.value[C.value]!==e(we)||!e(s).general.addToCalendar||e(Xe)&&e(Xe).data.length===0?(t(!0),i(K,{key:0},ge(j.value,E=>(t(),i("div",{key:E.key,class:"am-fs-sb__step"},[a("div",Ai,[a("div",Ri,[a("span",{class:M(`am-icon-${E.icon}`)},null,2),E.key==="cartStep"&&e(Ue)(e(c))!==0?(t(),i("span",{key:0,class:M(["am-fs-sb__step-icon__number",e(I)])},l(e(Ue)(e(c))),3)):r("",!0)]),J(Ye,{name:"fade"},{default:O(()=>[e(b)?r("",!0):(t(),i("p",{key:0,class:M(["am-fs-sb__step-heading",e(I)])},l(E.label),3))]),_:2},1024),a("div",{class:M(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":E.selected},e(I)]])},[J(Ye,{name:"fade"},{default:O(()=>[E.finished?(t(),i("span",Mi)):r("",!0)]),_:2},1024)],2)]),J(za,{tag:"span",name:"fade",appear:"",class:M(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":E.key===e(_).key&&E.stepSelectedData.length>3}])},{default:O(()=>[e(b)?r("",!0):(t(!0),i(K,{key:0},ge(E.stepSelectedData,(X,Pe)=>(t(),i("p",{key:X.position,class:"am-fs-sb__step-selection"},[E.key!==e(_).key||Pe<3?(t(),i("span",Oi,l(X.value),1)):(t(),i("span",Ni,l(e(ie).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Vi,[J(Ye,{name:"fade"},{default:O(()=>[e(b)?r("",!0):(t(),he(Aa,{key:0}))]),_:1}),e(b)?(t(),i("div",Ui,[a("div",Wi,[a("div",ji,[a("span",{class:M(`am-icon-${f.value[C.value].sidebarData.icon}`)},null,2)]),a("div",{class:M(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":f.value[C.value].sidebarData.selected},e(I)]])},[J(Ye,{name:"fade"},{default:O(()=>[f.value[C.value].sidebarData.finished?(t(),i("span",Hi)):r("",!0)]),_:1})],2)])])):r("",!0)]))])]),"support-info":O(()=>[a("div",{ref_key:"sidebarFooterRef",ref:U,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(h).heading||e(h).phone||e(h).email)?(t(),i("div",qi,[J(Ye,{name:"fade"},{default:O(()=>[!e(b)&&e(h).heading?(t(),i("div",{key:0,class:M(["am-fs-sb__support-heading",e(I)])},l(e(ie).get_in_touch),3)):r("",!0)]),_:1}),e(s).company.phone&&e(h).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(b)?(t(),i("span",Ji)):(t(),i(K,{key:0},[de(l(e(s).company.phone),1)],64))],8,Gi)):r("",!0),e(s).company.email&&e(h).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(b)?(t(),i("span",Qi)):(t(),i(K,{key:0},[de(l(e(s).company.email),1)],64))],8,Yi)):r("",!0)])):r("",!0),a("div",{class:M(["am-fs-sb__menu",e(I)]),onClick:g[0]||(g[0]=E=>ue(b)?b.value=!e(b):b=!e(b))},[J(Ye,{name:"fade"},{default:O(()=>[e(b)?r("",!0):(t(),i("span",Xi,l(e(ie).collapse_menu),1))]),_:1}),a("span",{class:M(`am-icon-arrow-circle-${e(b)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):r("",!0),J(Na,null,Nt({step:O(()=>[(t(),he(Kt(f.value[C.value]),{"global-class":"am-fs__main-content"}))]),footer:O(()=>[J(e(Oa),{"second-button-show":f.value[C.value]===e(we)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Je)(e(c))&&f.value[C.value]===e(_e),"back-to-cart-button-show":e(Je)(e(c))&&e(Be).length>1&&f.value[C.value]!==e(_e)&&f.value[C.value]!==e(ve)&&f.value[C.value]!==e(ee)&&f.value[C.value]!==e(we),booked:e(Xe),loading:e(yt),ready:e(gt),"payment-gateway":e(Dt),"customized-labels":e(We),"primary-footer-button-type":e(Fe),"secondary-footer-button-type":e(Z),"add-to-cart-button-type":e(W),"back-to-cart-button-type":e(F),"back-to-cart-label":ce("cancel","cartStep"),onAddToCart:ra,onBackToCart:ua},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[f.value[C.value]!==e(we)?{name:"header",fn:O(()=>[J(Ma,{"sidebar-visible":e(D),ready:e(gt)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const ss={class:"am-fcil__filter-buttons"},ls={class:"am-fcil__filter"},ns={class:"am-fcil__filter-item__btn-wrapper"},os={class:"am-fcil__heading"},cs={key:0,class:"am-fcil__item-badge__wrapper"},rs={class:"am-fcil__item-badge am-package"},us=a("span",{class:"am-icon-shipment"},null,-1),ds={class:"am-fcil__item-heading"},ms={class:"am-fcil__item-name"},ps={key:0,class:"am-fcil__item-cost"},_s={key:0,class:"am-fcil__item-discount"},vs={class:"am-fcil__item-price"},fs={key:1,class:"am-fcil__item-price"},gs={class:"am-fcil__item-info"},ys={key:0,class:"am-fcil__item-info__inner"},hs=a("span",{class:"am-icon-folder"},null,-1),bs={key:1,class:"am-fcil__item-info__inner"},ks=a("span",{class:"am-icon-clock"},null,-1),Cs={key:0},$s={key:1},ws={key:2},Ss={key:2,class:"am-fcil__item-info__inner"},xs=a("span",{class:"am-icon-user"},null,-1),Ps=a("span",null,"1/1",-1),Is=[xs,Ps],Es={key:3,class:"am-fcil__item-info__inner"},Ds=a("span",{class:"am-icon-locations"},null,-1),Ls={key:2,class:"am-fcil__item-services"},Ts={key:0,class:"am-fcil__item-badge__wrapper"},Bs={class:"am-fcil__item-badge am-service"},Fs=a("span",{class:"am-icon-service"},null,-1),zs={class:"am-fcil__item-heading"},As={class:"am-fcil__item-name"},Rs={key:0,class:"am-fcil__item-cost"},Ms={key:0,class:"am-fcil__item-price"},Os={key:1,class:"am-fcil__item-price"},Ns={class:"am-fcil__item-info"},Vs={key:0,class:"am-fcil__item-info__inner"},Us=a("span",{class:"am-icon-folder"},null,-1),Ws={key:1,class:"am-fcil__item-info__inner"},js=a("span",{class:"am-icon-clock"},null,-1),Hs={key:2,class:"am-fcil__item-info__inner"},qs=a("span",{class:"am-icon-user"},null,-1),Gs={key:3,class:"am-fcil__item-info__inner"},Js=a("span",{class:"am-icon-locations"},null,-1),Ys={class:"am-fcil-employee__header"},Qs={class:"am-fcil-employee__heading"},Xs={class:"am-fcil-employee__heading-left"},Zs={class:"am-fcil-employee__name"},Ks={key:0,class:"am-fcil-employee__heading-right"},el={class:"am-fcil-employee__price"},tl=["innerHTML"],al={key:1,ref:"ameliaContainer",class:"am-empty"},il=["src"],sl={class:"am-empty__heading"},ll={class:"am-empty__subheading"},nl={class:"am-empty__text"},ol={key:0},cl={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},rl={key:1},ul={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},dl={name:"CategoryItemsList",key:"categoryItemsList"},ml=Object.assign(dl,{setup(p){let w=z("licence"),{nextPage:m,previousPage:P}=z("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const $=z("baseUrls");let B=x(!1),u=x(!1),s=x("760px");se("bookingDialogWidth",s);function d(){s.value="760px"}let h=x(!1),L=x(),b=z("containerWidth"),I=z("customizedDataForm"),v=y(()=>I.value.categoryItemsList.options),U=y(()=>"pageScroll"in v.value?v.value.pageScroll.visibility:!0);const te=z("settings");let D=at();const A=z("shortcodeData"),c=y(()=>D.getters["entities/getPreselected"]);let q=y(()=>{let R=Array.isArray(A.value.category)?A.value.category:A.value.category.split(",");return R=R.filter(k=>k),R.length}),oe=y(()=>{let R=L.value&&L.value.catContainerWidth?L.value.catContainerWidth>768:!0;return q.value!==1&&v.value.sidebar.visibility&&R}),G=z("amEntities"),pe=y(()=>Je(D)&&Ue(D)>0),$e=y(()=>Ue(D));const N=z("labels"),be=z("localLanguage");let ne=y(()=>te.general.usedLanguages.includes(be.value)),_=y(()=>{let R=it(tt({},N));if(te.customizedData&&te.customizedData.cbf&&te.customizedData.cbf.categoryItemsList.translations){let k=te.customizedData.cbf.categoryItemsList.translations;Object.keys(k).forEach(n=>{k[n][be.value]&&ne.value?R[n]=k[n][be.value]:k[n].default&&(R[n]=k[n].default)})}return R}),fe=x(""),we=Ct({components:{IconComponent:It},template:'<IconComponent icon="search"/>'}),_e=x(!0),ve=Ct({components:{IconComponent:It},template:'<IconComponent icon="filter"/>'}),ee=y(()=>L.value&&L.value.catHeaderWidth?L.value.catHeaderWidth:0);window.addEventListener("resize",Le);function Le(){De(()=>{ee.value>480&&(_e.value=!0)})}Re(()=>{Le()});function Te(R){let k=[];return fe.value.toLowerCase().split(" ").forEach(n=>{k.push(R.toLowerCase().includes(n))}),k.filter(n=>n===!1).length<=0}let f=z("availableCategories"),Q=y(()=>{let R=[...f.value],k=[];return R.forEach(n=>{k.push({id:n.id,name:n.name})}),k.unshift({id:null,name:_.value.filter_all}),k}),Y=z("categorySelected"),V=y(()=>kt(G.value,A.value,We.value,Fe.value)),Be=y(()=>{let R=[];return V.value.find(k=>k.id===Y.value)?G.value.packages.forEach(k=>{V.value.find(n=>n.id===Y.value).packageList.forEach(n=>{k.id===n&&(fe.value?Te(k.name):!0)&&R.push(k)})}):G.value.packages.forEach(k=>{V.value.forEach(n=>{n.packageList.forEach(me=>{k.id===me&&!R.find(ye=>ye.id===me)&&(fe.value?Te(k.name):!0)&&R.push(k)})})}),R}),ie=y(()=>{let R=[];return Y.value&&V.value.find(k=>k.id===Y.value)?G.value.services.forEach(k=>{V.value.find(n=>n.id===Y.value).serviceIdList.forEach(n=>{k.id===n&&(fe.value?Te(k.name):!0)&&R.push(k)})}):G.value.services.forEach(k=>{V.value.forEach(n=>{n.serviceIdList.forEach(me=>{k.id===me&&(fe.value?Te(k.name):!0)&&R.push(k)})})}),R}),We=x(null),Fe=x(null),Z=x(!0),W=x(!0);function F(R){R==="all"&&(Z.value=!0,W.value=!0),R==="packages"&&(Z.value=!0,W.value=!1),R==="services"&&(Z.value=!1,W.value=!0)}Ot(()=>{c.value.show&&F(c.value.show)});let ce=y(()=>{let R=A.value.employee,k=G.value.employees.length,n=A.value.location,me=G.value.locations.length,ye=v.value.searchInput.visibility,j=v.value.filterEmployee.visibility&&R.length!==1&&k>1&&!w.isLite,qe=v.value.filterLocation.visibility&&n.length!==1&&me>1&&!w.isLite&&!w.isStarter,je=v.value.filterButtons.visibility&&c.value.show!=="packages"&&c.value.show!=="services"&&Be.value.length!==0&&ie.value.length!==0&&!Ue(D),le={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ee.value>992?!ye||!je?(le.employee=!ye&&!je?"am-w50":"am-w35",le.location=!ye&&!je?"am-w50":"am-w35",le.search=!je&&!qe&&!j?"am-w100":"am-w30",j||(le.location=!ye&&!je?"am-w100":"am-w70"),qe||(le.employee=!ye&&!je?"am-w100":"am-w70")):(j||(le.location="am-w40"),qe||(le.employee="am-w40"),!j&&!qe&&(le.search="am-w70")):ee.value>768||ee.value>480?(le.search=je?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",le.buttons=ye?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",le.employee=qe?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",le.location=j?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",le.category="am-w100 am-tablet am-order5"):(le.employee="am-w100 am-mobile",le.location="am-w100 am-mobile",le.search="am-w100 am-mobile",le.buttons="am-w100 am-mobile",le.category="am-w100 am-mobile"),le}),Ie=y(()=>L.value&&L.value.catContainerWidth?L.value.catContainerWidth:0),Ne=y(()=>{let R=Be.value.length&&!Ue(D)?Be.value.length:0,k=ie.value.length>1?_.value.heading_services:_.value.heading_service,n=R?R>1?_.value.packages:_.value.package:"";if(!ie.value.length&&!R)return _.value.no_search_data;if(W.value&&(!Z.value||!R))return`${_.value.available} - ${ie.value.length} ${k}`;if((!W.value||!ie.value.length)&&Z.value)return`${_.value.available} - ${R} ${n}`;let me=R?"/":"";return`${_.value.available} - ${ie.value.length} ${k} ${me} ${R} ${n}`});Re(()=>{De(()=>{B.value=Be.value.length===0&&ie.value.length===0})});function xe(R){Y.value=R.id,D.commit("booking/setCategoryId",parseInt(R.id))}let et=z("itemType");function Ee(R){D.commit("booking/setServiceId",parseInt(R)),D.commit("booking/setBookableType","appointment"),et.value="appointment",_t(D,{},"SelectService","appointment",null,null),De(()=>{m()})}function st(R){D.commit("booking/setServiceId",null),D.commit("booking/setPackageId",R.id),D.commit("booking/setBookableType","package"),D.commit("booking/setMultipleAppointments",Et(0,R)),D.commit("booking/setCartItemIndex",0),et.value="package",_t(D,{},"SelectPackage","package",null,null),De(()=>{m()})}function dt(){Y.value=null,D.commit("booking/setCategoryId",null),P()}function H(){Mt(D),h.value=!0,u.value=!0}let T=x(!1),S=x(""),C=x([]),Qe=x({}),Me=x(null);function ft(){S.value="",C.value=[],Qe.value={},Me.value=null}function lt(R){C.value=sa(G.value,R,A.value),Qe.value=R,T.value=!0}function gt(R){let k=[];Object.keys(G.value.entitiesRelations).forEach(me=>{me in G.value.entitiesRelations&&R in G.value.entitiesRelations[me]&&G.value.employees.find(ye=>ye.id===parseInt(me))&&k.push(G.value.employees.find(ye=>ye.id===parseInt(me)))}),C.value=k,S.value="service",T.value=!0,Me.value=R}function yt(R){let k=G.value.services.find(me=>me.id===Me.value).price,n=R.serviceList.find(me=>me.id===Me.value).price;return n!==k?`${n-k>0?k>0?"+":"":"-"} ${Ke(n-k)}`:0}function Xe(){S.value==="service"?Ee(Me.value):st(Qe.value),ft()}function Dt(R,k){let n="";return R>1?(k==="day"&&(n=_.value.expires_days),k==="week"&&(n=_.value.expires_weeks),k==="month"&&(n=_.value.expires_months)):(k==="day"&&(n=_.value.expires_day),k==="week"&&(n=_.value.expires_week),k==="month"&&(n=_.value.expires_month)),n}function mt(R,k){return ze(R,k).length===1?ze(R,k)[0].address?ze(R,k)[0].address:ze(R,k)[0].name:_.value.multiple_locations}let ht=z("amFonts",x({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),ke=z("amColors"),Lt=y(()=>({"--am-c-fcil-text-op-10":ae(ke.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ae(ke.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ae(ke.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ae(ke.value.colorCardText,.8),"--am-c-fcil-primary-op20":ae(ke.value.colorPrimary,.2),"--am-c-fcil-success-op20":ae(ke.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ae(ke.value.colorInpText,.1),"--am-w-fcil-main":q.value!==1&&v.value.sidebar.visibility&&oe.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":L.value&&L.value.catFormWidth<580?"100%":"50%"})),Tt=y(()=>({"--am-f-fcil-employee-f":ht.value.fontFamily,"--am-c-fcil-employee-bgr":ke.value.colorMainBgr,"--am-c-fcil-employee-heading":ke.value.colorMainHeadingText,"--am-c-fcil-employee-text":ke.value.colorMainText,"--am-c-fcil-employee-text-op80":ae(ke.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ae(ke.value.colorMainText,.15),"--am-c-fcil-employee-primary":ke.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ae(ke.value.colorPrimary,.1),"--am-c-inp-border":ke.value.colorInpBorder,"--am-c-main-text":ke.value.colorMainText}));return(R,k)=>e(B)?(t(),i("div",al,[a("img",{src:e($).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,il),a("div",sl,l(e(_).oops),1),a("div",ll,l(e(c).show!=="packages"?e(_).no_services_employees:e(_).no_package_services),1),a("div",nl,[e(c).show!=="packages"?(t(),i("span",ol,l(e(_).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",cl,l(e(_).add_services_url)+"\xA0 ",1),e(c).show!=="packages"?(t(),i("span",rl,l(e(_).and)+"\xA0 ",1)):r("",!0),e(c).show!=="packages"?(t(),i("a",ul,l(e(_).add_employees_url),1)):r("",!0)])],512)):(t(),he(Wt,{key:0,ref_key:"contentRef",ref:L,"wrapper-class":`am-fcil ${e(b)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(b)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(b)<481?"am-mobile":""} ${e(U)?"":"no-scroll"}`,style:re(e(Lt))},Nt({header:O(()=>[a("span",ss,[e(q)!==1&&!e(A).categories_hidden?(t(),he(Ut,{key:0,"btn-size":e(ee)<481?"medium":"mini","btn-string":e(_).back_btn,"btn-type":e(v).backBtn.buttonType,"cart-btn-visibility":e(pe),"cart-items-number":e($e),onGoBack:dt,onGoToCart:H},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):r("",!0),e(ee)<481?(t(),he(Ae,{key:1,size:"medium",category:"secondary",type:e(v).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(ve),onClick:k[0]||(k[0]=()=>ue(_e)?_e.value=!e(_e):_e=!e(_e))},null,8,["type","icon"])):r("",!0)]),a("div",ls,[e(v).searchInput.visibility?(t(),i("div",{key:0,class:M(["am-fcil__filter-item",e(ce).search])},[J(Ua,{modelValue:e(fe),"onUpdate:modelValue":k[1]||(k[1]=n=>ue(fe)?fe.value=n:fe=n),placeholder:e(_).filter_input,"icon-start":e(we)},null,8,["modelValue","placeholder","icon-start"])],2)):r("",!0),J(Ye,{name:"slide-fade"},{default:O(()=>[e(A).employee.length!==1&&e(G).employees.length>1&&e(v).filterEmployee.visibility&&e(_e)&&!e(w).isLite?(t(),i("div",{key:0,class:M(["am-fcil__filter-item",e(ce).employee])},[J(zt,{modelValue:e(We),"onUpdate:modelValue":k[2]||(k[2]=n=>ue(We)?We.value=n:We=n),clearable:"",filterable:"",placeholder:e(_).filter_employee,"fit-input-width":!0},{default:O(()=>[(t(!0),i(K,null,ge(e(G).employees,n=>(t(),he(At,{key:n.id,value:n.id,label:`${n.firstName} ${n.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(Ye,{name:"slide-fade"},{default:O(()=>[e(A).location.length!==1&&e(G).locations.length>1&&e(v).filterLocation.visibility&&e(_e)&&!e(w).isLite&&!e(w).isStarter?(t(),i("div",{key:0,class:M(["am-fcil__filter-item",e(ce).location])},[J(zt,{modelValue:e(Fe),"onUpdate:modelValue":k[3]||(k[3]=n=>ue(Fe)?Fe.value=n:Fe=n),clearable:"",filterable:"",placeholder:e(_).filter_location,"fit-input-width":!0},{default:O(()=>[(t(!0),i(K,null,ge(e(G).locations,n=>(t(),he(At,{key:n.id,value:n.id,label:n.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(Ye,{name:"slide-fade"},{default:O(()=>[e(q)!==1&&e(v).sidebar.visibility&&!e(oe)&&e(_e)?(t(),i("div",{key:0,class:M(["am-fcil__filter-item am-w100",e(ce).category])},[J(zt,{modelValue:e(Y),"onUpdate:modelValue":k[4]||(k[4]=n=>ue(Y)?Y.value=n:Y=n),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:O(()=>[(t(!0),i(K,null,ge(e(Q),n=>(t(),he(At,{key:n.id,value:n.id,label:n.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):r("",!0)]),_:1}),!e(c).show&&e(v).filterButtons.visibility&&e(Be).length!==0&&e(ie).length!==0&&!e(Ue)(e(D))?(t(),i("div",{key:1,class:M(["am-fcil__filter-item",e(ce).buttons])},[a("div",ns,[a("div",{class:M(["am-fcil__filter-item__btn",{"am-active":e(Z)&&e(W)}]),onClick:k[5]||(k[5]=n=>F("all"))},[a("span",null,l(e(_).filter_all),1)],2),a("div",{class:M(["am-fcil__filter-item__btn",{"am-active":e(Z)&&!e(W)}]),onClick:k[6]||(k[6]=n=>F("packages"))},[a("span",null,l(e(_).filter_packages),1)],2),a("div",{class:M(["am-fcil__filter-item__btn",{"am-active":!e(Z)&&e(W)}]),onClick:k[7]||(k[7]=n=>F("services"))},[a("span",null,l(e(_).filter_services),1)],2)])],2)):r("",!0)])]),heading:O(()=>[a("div",os,l(e(Ne)),1)]),content:O(()=>[e(Z)&&!e(Ue)(e(D))?(t(!0),i(K,{key:0},ge(e(Be),n=>{var me,ye;return t(),i("div",{key:n.id,class:M(["am-fcil__item",{"am-mobile":e(Ie)<481}])},[a("div",{class:M(["am-fcil__item-inner",{"am-mobile":e(Ie)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ae)(n.color,.1)}:{})},[e(v).packageBadge.visibility?(t(),i("div",cs,[a("div",rs,[us,a("span",null,l(e(_).package),1)])])):r("",!0),n.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${n.pictureFullPath})`})},null,4)):r("",!0),a("div",ds,[a("div",ms,l(n.name),1),e(v).packagePrice.visibility?(t(),i("div",ps,[n.discount?(t(),i("span",_s,l(`${e(_).save} ${n.discount}%`),1)):r("",!0),a("span",vs,l(n.price?e(Ke)(e(Vt)(n)):e(_).free),1),n.price&&((ye=(me=e(v).tax)==null?void 0:me.visibility)!=null?ye:!0)&&e(vt)(e(D),n.id,"package")?(t(),i("span",fs,[e(te).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(_).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(_).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",gs,[e(v).packageCategory.visibility&&e(Y)?(t(),i("div",ys,[hs,a("span",null,l(e(f).find(j=>j.id===e(Y)).name),1)])):r("",!0),e(v).packageDuration.visibility?(t(),i("div",bs,[ks,n.endDate?(t(),i("span",Cs,l(`${e(_).expires_at} ${n.endDate.split(" ")[0]}`),1)):n.durationCount?(t(),i("span",$s,l(`${e(_).expires_after} ${n.durationCount} ${Dt(n.durationCount,n.durationType)}`),1)):(t(),i("span",ws,l(e(_).without_expiration),1))])):r("",!0),e(v).packageCapacity.visibility?(t(),i("div",Ss,Is)):r("",!0),e(nt)(e(G),n,e(A)).length&&e(v).packageLocation.visibility?(t(),i("div",Es,[Ds,a("span",null,l(e(nt)(e(G),n,e(A)).length===1?e(nt)(e(G),n,e(A))[0].address?e(nt)(e(G),n,e(A))[0].address:e(nt)(e(G),n,e(A))[0].name:e(_).multiple_locations),1)])):r("",!0)]),e(v).packageServices.visibility?(t(),i("div",Ls,[a("span",null,l(`${e(_).in_package}:`),1),(t(!0),i(K,null,ge(n.bookable,j=>(t(),i("span",{key:j.id},l(j.service.name),1))),128))])):r("",!0)],4),a("div",{class:M(["am-fcil__item-footer",[{"am-mobile":e(Ie)<481},{"am-micro":e(Ie)<320}]])},[e(v).cardEmployeeBtn.visibility?(t(),he(Ae,{key:0,class:M({"am-w100":e(Ie)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:j=>lt(n)},{default:O(()=>[de(l(e(_).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(Ae,{class:M([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ie)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:j=>st(n)},{default:O(()=>[de(l(e(_).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):r("",!0),e(W)?(t(!0),i(K,{key:1},ge(e(ie),n=>{var me,ye;return t(),i("div",{key:n.id,class:M(["am-fcil__item",{"am-mobile":e(Ie)<481}])},[a("div",{class:M(["am-fcil__item-inner",{"am-mobile":e(Ie)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ae)(n.color,.1)}:{})},[e(v).serviceBadge.visibility?(t(),i("div",Ts,[a("div",Bs,[Fs,a("span",null,l(e(_).heading_service),1)])])):r("",!0),n.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${n.pictureFullPath})`})},null,4)):r("",!0),a("div",zs,[a("div",As,l(n.name),1),e(v).servicePrice.visibility?(t(),i("div",Rs,[e(rt)(e(G),n.id).min||e(rt)(e(G),n.id).max?(t(),i("span",Ms,l(e(rt)(e(G),n.id).price),1)):r("",!0),((ye=(me=e(v).tax)==null?void 0:me.visibility)!=null?ye:!0)&&e(vt)(e(D),n.id,"service")?(t(),i("span",Os,[e(te).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(_).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(_).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",Ns,[e(v).serviceCategory.visibility&&e(Y)?(t(),i("div",Vs,[Us,a("span",null,l(e(f).find(j=>j.id===e(Y)).name),1)])):r("",!0),e(v).serviceDuration.visibility?(t(),i("div",Ws,[js,a("span",null,l(e(ia)(n.duration)),1)])):r("",!0),e(v).serviceCapacity.visibility&&!e(w).isLite?(t(),i("div",Hs,[qs,a("span",null,l(e(aa)(e(G),n.id)),1)])):r("",!0),e(ze)(e(G),n.id).length&&e(v).serviceLocation.visibility?(t(),i("div",Gs,[Js,a("span",null,l(mt(e(G),n.id)),1)])):r("",!0)])],4),a("div",{class:M(["am-fcil__item-footer",[{"am-mobile":e(Ie)<481},{"am-micro":e(Ie)<320}]])},[e(v).cardEmployeeBtn.visibility&&!e(w).isLite?(t(),he(Ae,{key:0,class:M({"am-w100":e(Ie)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:j=>gt(n.id)},{default:O(()=>[de(l(e(_).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(Ae,{class:M([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ie)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:j=>Ee(n.id)},{default:O(()=>[de(l(e(_).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):r("",!0),J(ut,{modelValue:e(T),"onUpdate:modelValue":k[9]||(k[9]=n=>ue(T)?T.value=n:T=n),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Tt),width:"648px",onClose:ft},{title:O(()=>[a("div",Ys,l(e(_).employee_info),1)]),default:O(()=>[a("div",null,[J(wt,null,{default:O(()=>[(t(!0),i(K,null,ge(e(C),(n,me)=>(t(),he(St,{key:me,side:""},{heading:O(()=>[a("div",Qs,[a("div",Xs,[J(ct,{"item-class":"am-fcil-employee__img","item-data":n,"trim-string":2},null,8,["item-data"]),a("div",Zs,[de(l(`${n.firstName} ${n.lastName}`)+" ",1),n.badge?(t(),i("span",{key:0,style:re({background:n.badge.color}),class:"am-fcil-employee__badge"},l(n.badge.content),5)):r("",!0)])]),e(S)==="service"&&yt(n)!==0?(t(),i("div",Ks,[a("div",el,l(yt(n)),1)])):r("",!0)])]),default:O(()=>[e(Oe)(n.description)?(t(),i("div",{key:0,class:M(["am-fcil-employee__text",{"ql-description":n.description.includes("<!-- Content -->")}]),innerHTML:n.description},null,10,tl)):r("",!0)]),_:2},1024))),128))]),_:1})])]),footer:O(()=>[e(v).dialogEmployeeBtn.visibility?(t(),he(Ae,{key:0,type:e(v).dialogEmployeeBtn.buttonType,category:"primary",onClick:k[8]||(k[8]=n=>Xe())},{default:O(()=>[de(l(e(S)==="service"?e(_).book_service:e(_).book_package),1)]),_:1},8,["type"])):r("",!0)]),_:1},8,["modelValue","custom-styles"]),J(ut,{modelValue:e(u),"onUpdate:modelValue":k[10]||(k[10]=n=>ue(u)?u.value=n:u=n),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:d},{default:O(()=>[J(jt,{"show-cart":e(h)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(q)!==1&&e(v).sidebar.visibility&&e(oe)?{name:"side",fn:O(()=>[J(oi,{"menu-items":e(Q),"init-selection":e(Y),identifier:"id","name-identifier":"name","footer-string":e(_).get_in_touch,"company-email":e(te).company.email,onClick:xe},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const pl={class:"am-fcis__header-text"},_l={class:"am-fcis__header-name"},vl={key:0,class:"am-fcis__badge am-service"},fl=a("span",{class:"am-icon-service"},null,-1),gl={class:"am-fcis__header-action"},yl={key:0,class:"am-fcis__header-price"},hl={key:1,class:"am-fcis__header-tax"},bl={class:"am-fcis__header-btn"},kl={key:0,class:"am-fcis__header-bottom"},Cl={class:"am-fcis__mini-info"},$l={key:0,class:"am-fcis__mini-info__inner"},wl=a("span",{class:"am-icon-folder"},null,-1),Sl={key:1,class:"am-fcis__mini-info__inner"},xl=a("span",{class:"am-icon-clock"},null,-1),Pl={key:2,class:"am-fcis__mini-info__inner"},Il=a("span",{class:"am-icon-user"},null,-1),El={key:3,class:"am-fcis__mini-info__inner"},Dl=a("span",{class:"am-icon-locations"},null,-1),Ll={key:0,class:"am-fcis__gallery"},Tl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Bl={class:"am-gd__display-wrapper"},Fl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},zl=["src","alt"],Al={class:"am-gd__selection"},Rl={class:"am-gd__thumb-wrapper"},Ml=["onClick"],Ol={key:1,class:"am-fcis__info"},Nl={class:"am-fcis__info-tab__wrapper"},Vl={class:"am-fcis__info-content__wrapper"},Ul={key:0,class:"am-fcis__info-content"},Wl=["innerHTML"],jl={key:1,class:"am-fcis__info-content"},Hl={class:"am-fcis__info-employee__hero"},ql={class:"am-fcis__info-employee__heading"},Gl={class:"am-fcis__info-employee__name"},Jl={key:0,class:"am-fcis__info-employee__price"},Yl=["innerHTML"],Ql={key:2,class:"am-fcis__include-wrapper"},Xl={class:"am-fcis__include-heading"},Zl={class:"am-fcis__include-heading__text"},Kl=["onClick"],en={class:"am-fcis__include-hero"},tn={key:0,class:"am-fcis__include-cost"},an={key:0,class:"am-fcis__include-discount"},sn={class:"am-fcis__include-price"},ln={key:1,class:"am-fcis__include-price"},nn={class:"am-fcis__include-info"},on={key:0,class:"am-fcis__include-info__inner"},cn=a("span",{class:"am-icon-folder"},null,-1),rn={key:1,class:"am-fcis__include-info__inner"},un=a("span",{class:"am-icon-clock"},null,-1),dn={key:0},mn={key:1},pn={key:2},_n={key:2,class:"am-fcis__include-info__inner"},vn=a("span",{class:"am-icon-user"},null,-1),fn=a("span",null,"1/1",-1),gn=[vn,fn],yn={key:3,class:"am-fcis__include-info__inner"},hn=a("span",{class:"am-icon-locations"},null,-1),bn={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},kn={key:1,ref:"ameliaContainer",class:"am-empty"},Cn=["src"],$n={class:"am-empty__heading"},wn={class:"am-empty__subheading"},Sn={class:"am-empty__text"},xn={key:0},Pn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},In={key:1},En={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Dn={name:"CategoryService"},Ln=Object.assign(Dn,{setup(p){let w=z("licence"),{previousPage:m}=z("changingPageFunctions",{previousPage:()=>{}}),P=y(()=>U.getters["entities/getReady"]);const $=z("baseUrls");let B=x(),u=z("containerWidth");const s=z("settings");let d=z("amFonts");const h=z("labels"),L=z("localLanguage");let b=y(()=>s.general.usedLanguages.includes(L.value)),I=y(()=>{let H=it(tt({},h));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let T=s.customizedData.cbf.categoryService.translations;Object.keys(T).forEach(S=>{T[S][L.value]&&b.value?H[S]=T[S][L.value]:T[S].default&&(H[S]=T[S].default)})}return H}),v=x(0),U=at(),te=z("amEntities"),D=y(()=>Je(U)&&Ue(U)>0),A=y(()=>Ue(U)),c=z("customizedDataForm"),q=y(()=>c.value.categoryService.options),oe=y(()=>"pageScroll"in q.value?q.value.pageScroll.visibility:!0),G=z("itemType"),pe=z("categorySelected"),$e=y(()=>te.value.categories.find(H=>H.id===pe.value)),N=y(()=>{let H=te.value.services.find(T=>T.id===U.getters["booking/getServiceId"]);return H||{}});function be(H,T){return ze(H,T).length===1?ze(H,T)[0].address?ze(H,T)[0].address:ze(H,T)[0].name:I.value.multiple_locations}let ne=x("description"),_=y(()=>{let H=[];return Object.keys(te.value.entitiesRelations).forEach(S=>{te.value.entitiesRelations[S][N.value.id]&&te.value.employees.find(C=>C.id===parseInt(S))&&H.push(te.value.employees.find(C=>C.id===parseInt(S)))}),H});function fe(H){let T=H.serviceList.find(S=>S.id===N.value.id).price;return T-N.value.price!==0?`${T-N.value.price>0?N.value.price>0?"+":"":"-"} ${Ke(T-N.value.price)}`:""}Re(()=>{q.value.serviceDescription.visibility||(ne.value="employees"),Oe(N.value.description)||(ne.value="employees")});let we=y(()=>{let H=N.value.gallery.length?JSON.parse(JSON.stringify(N.value.gallery)):[];return N.value.gallery.length===1?[]:(H.shift(),H.length>2&&H.splice(2,H.length-2),H)}),_e=y(()=>{let H=[];return te.value.packages.forEach(T=>{T.bookable.filter(S=>S.service.id===N.value.id).length&&!H.filter(S=>S.id===T.id).length&&T.available&&T.status==="visible"&&H.push(T)}),H}),ve=x(!1),ee=y(()=>{let H=[..._e.value];return ve.value?H:H.slice(0,2)}),Le=y(()=>U.getters["entities/filteredLocations"](U.getters["booking/getSelection"]));function Te(){G.value="",De(()=>{m()})}let f=x(!1);function Q(){Mt(U),f.value=!0,V.value=!0}function Y(){V.value=!1,U.getters["entities/getPreselected"].service.length>1&&Te()}let V=x(!1),Be=x("760px");se("bookingDialogWidth",Be);function ie(){let H=U.getters["entities/getPreselected"];_.value.length===1&&(U.commit("booking/setEmployeeId",parseInt(_.value[0].id)),H.employee=[parseInt(_.value[0].id)],U.commit("entities/setPreselected",H)),f.value=!1,V.value=!1,Wa(U),ea(U,!1),pt(U);let T=ze(te.value,N.value.id);T.length===1&&(U.commit("booking/setLocationId",parseInt(T[0].id)),H.location=[parseInt(T[0].id)],U.commit("entities/setPreselected",H)),U.commit("booking/setBookableType","appointment"),V.value=!0}z("restoreFormData").value&&ie();function Fe(H){U.commit("booking/setPackageId",H.id),U.commit("booking/setBookableType","package"),U.commit("booking/setMultipleAppointments",Et(0,H)),U.commit("booking/setMultipleAppointmentsIndex",0),_.value.length===1&&U.commit("booking/setEmployeeId",parseInt(_.value[0].id)),ze(te.value,N.value.id).length===1&&U.commit("booking/setLocationId",parseInt(ze(te.value,N.value.id)[0].id)),De(()=>{V.value=!0})}const Z=y(()=>U.getters["entities/getPreselected"]);let W=y(()=>te.value.services.length!==1&&Z.value.service.length!==1),F=x("");se("stepName",F);function ce(){let H=U.getters["entities/getBookableFromBookableEntities"](U.getters["booking/getSelection"]),T=H.settings?JSON.parse(H.settings):s;"general"in T&&"redirectUrlAfterAppointment"in T.general&&T.general.redirectUrlAfterAppointment?window.location.href=T.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function Ie(){if(F.value&&F.value==="CongratulationsStep")ce();else{if(F.value&&F.value==="DateTimeStep"){let H=ja(U);H&&console.log(H)}U.commit("booking/setEmployeeId",null),U.commit("booking/setLocationId",null),U.commit("entities/setPreselected",U.getters["entities/getOriginalPreselected"])}Be.value="760px"}let Ne=x(!1);function xe(H,T){let S="";return H>1?(T==="day"&&(S=I.value.expires_days),T==="week"&&(S=I.value.expires_weeks),T==="month"&&(S=I.value.expires_months)):(T==="day"&&(S=I.value.expires_day),T==="week"&&(S=I.value.expires_week),T==="month"&&(S=I.value.expires_month)),S}let et=y(()=>Object.keys(N.value).length===0||_.value.length===0),Ee=z("amColors"),st=y(()=>({"--am-c-fcis-success-op20":ae(Ee.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ae(Ee.value.colorPrimary,.2),"--am-c-fcis-text-op80":ae(Ee.value.colorMainText,.8),"--am-c-fcis-text-op03":ae(Ee.value.colorMainText,.03),"--am-c-fcis-btn-op50":ae(Ee.value.colorBtnSec,.5)})),dt=y(()=>({"--am-c-fcis-bgr":Ee.value.colorMainBgr,"--am-c-fcis-text":Ee.value.colorMainText,"--am-c-fcis-success":Ee.value.colorSuccess,"--am-c-fcis-primary":Ee.value.colorPrimary,"--am-c-scroll-op30":ae(Ee.value.colorPrimary,.3),"--am-c-scroll-op10":ae(Ee.value.colorPrimary,.1),"--am-font-family":d.fontFamily}));return(H,T)=>e(P)?(t(),i(K,{key:0},[e(et)?r("",!0):(t(),he(Wt,{key:0,ref_key:"contentRef",ref:B,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(oe)?"":"no-scroll"}`,style:re(e(st))},{header:O(()=>[J(Ut,{"btn-string":e(I).back_btn,"btn-type":e(q).backBtn.buttonType,"back-btn-visibility":e(W),"cart-btn-visibility":e(D),"cart-items-number":e(A),onGoBack:Te,onGoToCart:Q},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:O(()=>{var S,C;return[a("div",{class:M([[{"am-tablet":e(u)<=678},{"am-mobile":e(u)<450}],"am-fcis__header-top"])},[a("div",pl,[a("span",_l,l(e(N).name),1),e(q).serviceBadge.visibility?(t(),i("div",vl,[fl,a("span",null,l(e(I).heading_service),1)])):r("",!0)]),a("div",gl,[e(q).servicePrice.visibility?(t(),i("span",yl,l(e(rt)(e(te),e(N).id).min||e(rt)(e(te),e(N).id).max?e(rt)(e(te),e(N).id).price:e(I).free),1)):r("",!0),((C=(S=e(q).tax)==null?void 0:S.visibility)!=null?C:!0)&&e(vt)(e(U),e(N).id,"service")?(t(),i("span",hl,[e(s).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(I).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(I).incl_tax),1)],64))])):r("",!0),a("span",bl,[J(Ae,{type:e(q).bookingBtn.buttonType,onClick:ie},{default:O(()=>[de(l(e(I).book_now),1)]),_:1},8,["type"])])])],2),e(q).serviceCategory.visibility||e(q).serviceDuration.visibility||e(q).serviceCapacity.visibility||e(q).serviceLocation.visibility?(t(),i("div",kl,[a("div",Cl,[e(q).serviceCategory.visibility&&e($e)?(t(),i("div",$l,[wl,a("span",null,l(e($e).name),1)])):r("",!0),e(q).serviceDuration.visibility?(t(),i("div",Sl,[xl,a("span",null,l(e(ia)(e(N).duration)),1)])):r("",!0),e(q).serviceCapacity.visibility&&!e(w).isLite?(t(),i("div",Pl,[Il,a("span",null,l(e(aa)(e(te),e(N).id)),1)])):r("",!0),e(ze)(e(te),e(N).id).length&&e(q).serviceLocation.visibility&&!e(w).isLite&&!e(w).isStarter?(t(),i("div",El,[Dl,a("span",null,l(be(e(te),e(N).id)),1)])):r("",!0)])])):r("",!0)]}),content:O(()=>[e(N).gallery.length?(t(),i("div",Ll,[a("div",{class:M(["am-fcis__gallery-hero",[{w100:e(N).gallery.length===1},{"am-mobile w100":e(u)<678}]]),style:re({backgroundImage:`url(${e(N).gallery[0].pictureFullPath})`})},null,6),e(we).length&&e(u)>677?(t(),i("div",Tl,[(t(!0),i(K,null,ge(e(we),(S,C)=>(t(),i("div",{key:C,class:M(["am-fcis__gallery-thumb",{"am-one-thumb":e(we).length===1}]),style:re({backgroundImage:`url(${S.pictureFullPath})`})},null,6))),128))])):r("",!0),J(Ae,{"custom-class":`am-fcis__gallery-btn${e(u)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:T[0]||(T[0]=()=>ue(Ne)?Ne.value=!0:Ne=!0)},{default:O(()=>[de(l(e(I).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(ut,{modelValue:e(Ne),"onUpdate:modelValue":T[4]||(T[4]=S=>ue(Ne)?Ne.value=S:Ne=S),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:O(()=>[a("div",{class:"am-gd",style:re(e(dt))},[a("div",Bl,[a("div",Fl,[a("span",{class:"am-icon-arrow-left",onClick:T[1]||(T[1]=()=>ue(v)?v.value=e(v)<=0?e(N).gallery.length-1:e(v)-1:v=e(v)<=0?e(N).gallery.length-1:e(v)-1)}),a("span",{class:"am-icon-arrow-right",onClick:T[2]||(T[2]=()=>ue(v)?v.value=e(N).gallery.length-1===e(v)?0:e(v)+1:v=e(N).gallery.length-1===e(v)?0:e(v)+1)})]),(t(!0),i(K,null,ge(e(N).gallery,(S,C)=>(t(),i("div",{key:C,class:"am-gd__display",style:re({display:C===e(v)?"flex":"none"}),onClick:T[3]||(T[3]=()=>ue(v)?v.value=e(N).gallery.length-1===e(v)?0:e(v)+1:v=e(N).gallery.length-1===e(v)?0:e(v)+1)},[a("img",{src:S.pictureFullPath,alt:C},null,8,zl)],4))),128))]),a("div",Al,l(`${e(v)+1}/${e(N).gallery.length}`),1),a("div",Rl,[(t(!0),i(K,null,ge(e(N).gallery,(S,C)=>(t(),i("div",{key:C,class:M(["am-gd__thumb",{"am-active":C===e(v)}]),style:re({backgroundImage:`url(${S.pictureFullPath})`}),onClick:()=>ue(v)?v.value=C:v=C},null,14,Ml))),128))])],4)]),_:1},8,["modelValue"]),e(q).serviceDescription.visibility&&e(Oe)(e(N).description)||e(q).serviceEmployees.visibility?(t(),i("div",Ol,[a("div",Nl,[e(Oe)(e(N).description)&&e(q).serviceDescription.visibility?(t(),i("div",{key:0,class:M(["am-fcis__info-tab",{"am-active":e(ne)==="description"}]),onClick:T[5]||(T[5]=()=>ue(ne)?ne.value="description":ne="description")},l(e(I).about_service),3)):r("",!0),e(q).serviceEmployees.visibility&&!e(w).isLite?(t(),i("div",{key:1,class:M([{"am-active":e(ne)==="employees"},"am-fcis__info-tab"]),onClick:T[6]||(T[6]=()=>ue(ne)?ne.value="employees":ne="employees")},l(e(I).tab_employees),3)):r("",!0)]),a("div",Vl,[e(Oe)(e(N).description)&&e(q).serviceDescription.visibility?xt((t(),i("div",Ul,[a("div",{class:M(["am-fcis__info-service__desc",{"ql-description":e(N).description.includes("<!-- Content -->")}]),innerHTML:e(N).description},null,10,Wl)],512)),[[Pt,e(ne)==="description"]]):r("",!0),e(q).serviceEmployees.visibility?xt((t(),i("div",jl,[J(wt,null,{default:O(()=>[(t(!0),i(K,null,ge(e(_),S=>(t(),he(St,{key:S.id,side:""},{heading:O(()=>[a("div",{class:M([{"am-mobile":e(u)<451},"am-fcis__info-employee"])},[a("div",Hl,[J(ct,{"item-class":"am-fcis__info-employee__img","item-data":S,"trim-string":3},null,8,["item-data"]),a("div",ql,[a("div",Gl,[de(l(S.firstName)+" "+l(S.lastName)+" ",1),S.badge?(t(),i("span",{key:0,style:re({background:S.badge.color}),class:"am-fcis__info-employee__badge"},l(S.badge.content),5)):r("",!0)]),fe(S)&&e(q).serviceEmployeePrice.visibility?(t(),i("div",Jl,l(fe(S)),1)):r("",!0)])])],2)]),default:O(()=>[e(Oe)(S.description)?(t(),i("div",{key:0,class:M(["am-fcis__info-employee__description",{"ql-description":S.description.includes("<!-- Content -->")}]),innerHTML:S.description},null,10,Yl)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Pt,e(ne)==="employees"]]):r("",!0)])])):r("",!0),e(_e).length&&e(Z).show!=="services"&&e(q).servicePackages.visibility&&!e(Ue)(e(U))?(t(),i("div",Ql,[a("div",Xl,[a("span",Zl,l(e(I).service_available_in_package),1),e(_e).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:T[7]||(T[7]=()=>ue(ve)?ve.value=!e(ve):ve=!e(ve))},[e(ve)?(t(),i(K,{key:1},[de(l(e(I).less_packages),1)],64)):(t(),i(K,{key:0},[de(l(e(I).more_packages),1)],64))])):r("",!0)]),(t(!0),i(K,null,ge(e(ee),S=>{var C,Qe;return t(),i("div",{key:S.id,class:"am-fcis__include",onClick:Me=>Fe(S)},[a("div",en,[e(u)>450?(t(),he(ct,{key:0,"item-class":"am-fcis__include-img","item-data":S,"trim-string":3},null,8,["item-data"])):r("",!0),a("div",{class:M([{"am-mobile":e(u)<451},"am-fcis__include-text"])},[a("div",{class:M(["am-fcis__include-header",{"am-mobile":e(u)<600}])},[a("div",{class:M(["am-fcis__include-name",{"am-mobile":e(u)<600}])},l(S.name),3),e(q).packagePrice.visibility?(t(),i("div",tn,[S.discount?(t(),i("span",an,l(`${e(I).save} ${S.discount}%`),1)):r("",!0),a("span",sn,l(S.price?e(Ke)(e(Vt)(S)):e(I).free),1),((Qe=(C=e(q).tax)==null?void 0:C.visibility)!=null?Qe:!0)&&e(vt)(e(U),S.id,"package")?(t(),i("span",ln,[e(s).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(I).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(I).incl_tax),1)],64))])):r("",!0)])):r("",!0)],2),a("div",nn,[e(q).packageCategory.visibility&&e($e)?(t(),i("div",on,[cn,a("span",null,l(e($e).name),1)])):r("",!0),e(q).packageDuration.visibility?(t(),i("div",rn,[un,S.endDate?(t(),i("span",dn,l(`${e(I).expires_at} ${S.endDate.split(" ")[0]}`),1)):S.durationCount?(t(),i("span",mn,l(`${e(I).expires_after} ${S.durationCount} ${xe(S.durationCount,S.durationType)}`),1)):(t(),i("span",pn,l(e(I).without_expiration),1))])):r("",!0),e(q).packageCapacity.visibility?(t(),i("div",_n,gn)):r("",!0),e(q).packageLocation.visibility&&e(Le).length?(t(),i("div",yn,[hn,a("span",null,l(e(Le).length===1?e(Le)[0].address?e(Le)[0].address:e(Le)[0].name:e(I).multiple_locations),1)])):r("",!0),e(q).packageServices.visibility?(t(),i("div",bn,[a("span",null,l(`${e(I).in_package}:`),1),(t(!0),i(K,null,ge(S.bookable,Me=>(t(),i("span",{key:Me.id},l(Me.service.name),1))),128))])):r("",!0)])],2)])],8,Kl)}),128))])):r("",!0),J(ut,{modelValue:e(V),"onUpdate:modelValue":T[9]||(T[9]=S=>ue(V)?V.value=S:V=S),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Be),onClosed:Ie},{default:O(()=>[J(jt,{"show-cart":e(f),onAddToCart:Y,onEmptiedCart:T[8]||(T[8]=S=>ue(V)?V.value=!1:V=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(et)?(t(),i("div",kn,[a("img",{src:e($).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Cn),a("div",$n,l(e(I).oops),1),a("div",wn,l(e(Z).show!=="packages"?e(I).no_services_employees:e(I).no_package_services),1),a("div",Sn,[e(Z).show!=="packages"?(t(),i("span",xn,l(e(I).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",Pn,l(e(I).add_services_url)+"\xA0 ",1),e(Z).show!=="packages"?(t(),i("span",In,l(e(I).and)+"\xA0 ",1)):r("",!0),e(Z).show!=="packages"?(t(),i("a",En,l(e(I).add_employees_url),1)):r("",!0)])],512)):r("",!0)],64)):r("",!0)}});const Tn={class:"am-fcip__header-text"},Bn={class:"am-fcip__header-name"},Fn={key:0,class:"am-fcip__badge am-package"},zn=a("span",{class:"am-icon-shipment"},null,-1),An={class:"am-fcip__header-action"},Rn={key:0,class:"am-fcip__header-discount"},Mn={key:1,class:"am-fcip__header-price"},On={key:2,class:"am-fcip__header-tax"},Nn={class:"am-fcip__header-btn"},Vn={key:0,class:"am-fcip__header-bottom"},Un={class:"am-fcip__mini-info"},Wn={key:0,class:"am-fcip__mini-info__inner"},jn=a("span",{class:"am-icon-folder"},null,-1),Hn={key:1,class:"am-fcip__mini-info__inner"},qn=a("span",{class:"am-icon-clock"},null,-1),Gn={key:0},Jn={key:1},Yn={key:2},Qn={key:2,class:"am-fcip__mini-info__inner"},Xn=a("span",{class:"am-icon-user"},null,-1),Zn=a("span",null,"1/1",-1),Kn=[Xn,Zn],eo={key:3,class:"am-fcip__mini-info__inner"},to=a("span",{class:"am-icon-locations"},null,-1),ao={key:0,class:"am-fcip__gallery"},io={key:0,class:"am-fcip__gallery-thumb__wrapper"},so=a("span",{class:"am-icon-gallery"},null,-1),lo={class:"am-gd__display-wrapper"},no={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},oo=["src","alt"],co={class:"am-gd__selection"},ro={class:"am-gd__thumb-wrapper"},uo=["onClick"],mo={key:1,class:"am-fcip__info"},po={class:"am-fcip__info-tab__wrapper"},_o={class:"am-fcip__info-content__wrapper"},vo={key:0,class:"am-fcip__info-content"},fo=["innerHTML"],go={key:1,class:"am-fcip__info-content"},yo={class:"am-fcip__info-employee"},ho={class:"am-fcip__info-employee__hero"},bo={class:"am-fcip__info-employee__name"},ko=["innerHTML"],Co={key:2,class:"am-fcip__include-wrapper"},$o={class:"am-fcip__include-heading"},wo={class:"am-fcip__include-heading__text"},So={class:"am-fcip__include-service"},xo={class:"am-fcip__include-service__info"},Po={key:0},Io=["innerHTML"],Eo={class:"am-fcip__include-footer"},Do={class:"am-fcip__include-footer__text"},Lo={key:1,ref:"ameliaContainer",class:"am-empty"},To=["src"],Bo={class:"am-empty__heading"},Fo={class:"am-empty__subheading"},zo={class:"am-empty__text"},Ao={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ro={name:"CategoryPackage"},Mo=Object.assign(Ro,{setup(p){let{previousPage:w}=z("changingPageFunctions",{previousPage:()=>{}}),m=x(),P=z("containerWidth");const $=z("settings"),B=z("baseUrls");let u=at();const s=z("shortcodeData"),d=y(()=>u.getters["entities/getPreselected"]);let h=z("amEntities"),L=z("customizedDataForm"),b=y(()=>L.value.categoryPackage.options),I=y(()=>"pageScroll"in b.value?b.value.pageScroll.visibility:!0),v=z("itemType"),U=z("categorySelected"),te=y(()=>h.value.categories.find(Z=>Z.id===U.value)),D=y(()=>h.value.packages.find(Z=>Z.id===u.getters["booking/getPackageId"])),A=x(0),c=x("description"),q=y(()=>sa(h.value,D.value,s.value)),oe=y(()=>nt(h.value,D.value,s.value)),G=x(d.value.employee.length>0?h.value.unfilteredEmployees.filter(Z=>d.value.employee.map(W=>parseInt(W)).includes(Z.id)):h.value.unfilteredEmployees);function pe(Z){let W=[];return Z.providers.length?Z.providers.forEach(F=>{G.value.find(ce=>ce.id===parseInt(F.id))&&W.push(G.value.find(ce=>ce.id===parseInt(F.id)))}):W=G.value.filter(F=>F.serviceList.find(ce=>ce.id===Z.service.id)),W}Re(()=>{b.value.packageDescription.visibility||(c.value="employees"),Oe(D.value.description)||(c.value="employees")});let $e=x(!1);Ot(()=>{$e.value=u.getters["entities/getEmployees"].length===0||q.value.length===0});let N=x(!1),be=y(()=>{let Z=D.value.gallery.length?JSON.parse(JSON.stringify(D.value.gallery)):[];return D.value.gallery.length===1?[]:(Z.shift(),Z.length>2&&Z.splice(2,Z.length-2),Z)});function ne(){v.value="",De(()=>{w()})}let _=x(!1),fe=x("760px");se("bookingDialogWidth",fe);function we(){u.commit("booking/setPackageId",D.value.id),u.commit("booking/setMultipleAppointments",Et(0,D.value)),u.commit("booking/setMultipleAppointmentsIndex",0),u.commit("booking/setBookableType","package"),De(()=>{_.value=!0})}z("restoreFormData").value&&we();let ve=x("");se("stepName",ve);function ee(){let Z=u.getters["entities/getBookableFromBookableEntities"](u.getters["booking/getSelection"]),W=Z.settings?JSON.parse(Z.settings):$;"general"in W&&"redirectUrlAfterAppointment"in W.general&&W.general.redirectUrlAfterAppointment?window.location.href=W.general.redirectUrlAfterAppointment:$.general.redirectUrlAfterAppointment?window.location.href=$.general.redirectUrlAfterAppointment:window.location.reload()}function Le(){ve.value&&ve.value==="CongratulationsStep"?ee():u.commit("entities/setPreselected",u.getters["entities/getOriginalPreselected"]),fe.value="760px"}let Te=z("amFonts");const f=z("labels"),Q=z("localLanguage");let Y=y(()=>$.general.usedLanguages.includes(Q.value)),V=y(()=>{let Z=it(tt({},f));if($.customizedData&&$.customizedData.cbf&&$.customizedData.cbf.categoryPackage.translations){let W=$.customizedData.cbf.categoryPackage.translations;Object.keys(W).forEach(F=>{W[F][Q.value]&&Y.value?Z[F]=W[F][Q.value]:W[F].default&&(Z[F]=W[F].default)})}return Z});function Be(Z,W){let F="";return Z>1?(W==="day"&&(F=V.value.expires_days),W==="week"&&(F=V.value.expires_weeks),W==="month"&&(F=V.value.expires_months)):(W==="day"&&(F=V.value.expires_day),W==="week"&&(F=V.value.expires_week),W==="month"&&(F=V.value.expires_month)),F}let ie=z("amColors"),We=y(()=>({"--am-c-fcip-success-op20":ae(ie.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ae(ie.value.colorPrimary,.2),"--am-c-fcip-text-op80":ae(ie.value.colorMainText,.8),"--am-c-fcip-text-op60":ae(ie.value.colorMainText,.6),"--am-c-fcip-text-op03":ae(ie.value.colorMainText,.03),"--am-c-fcip-btn-op50":ae(ie.value.colorBtnSec,.5)})),Fe=y(()=>({"--am-c-fcip-bgr":ie.value.colorMainBgr,"--am-c-fcip-text":ie.value.colorMainText,"--am-c-fcip-success":ie.value.colorSuccess,"--am-c-fcip-primary":ie.value.colorPrimary,"--am-c-scroll-op30":ae(ie.value.colorPrimary,.3),"--am-c-scroll-op10":ae(ie.value.colorPrimary,.1),"--am-font-family":Te.fontFamily}));return(Z,W)=>(t(),i(K,null,[e($e)?r("",!0):(t(),he(Wt,{key:0,ref_key:"contentRef",ref:m,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(I)?"":"no-scroll"}`,style:re(e(We))},Nt({heading:O(()=>{var F,ce;return[a("div",{class:M([[{"am-tablet":e(P)<=678},{"am-mobile":e(P)<450}],"am-fcip__header-top"])},[a("div",Tn,[a("span",Bn,[a("span",null,l(e(D).name),1)]),e(b).packageBadge.visibility?(t(),i("div",Fn,[zn,a("span",null,l(e(V).package),1)])):r("",!0)]),a("div",An,[e(D).discount&&e(b).packagePrice.visibility?(t(),i("span",Rn,l(`${e(V).save} ${e(D).discount}%`),1)):r("",!0),e(b).packagePrice.visibility?(t(),i("span",Mn,l(e(D).price?e(Ke)(e(Vt)(e(D))):e(V).free),1)):r("",!0),e(D).price&&((ce=(F=e(b).tax)==null?void 0:F.visibility)!=null?ce:!0)&&e(vt)(e(u),e(D).id,"package")?(t(),i("span",On,[e($).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(V).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(V).incl_tax),1)],64))])):r("",!0),a("span",Nn,[J(Ae,{type:e(b).bookingBtn.buttonType,onClick:we},{default:O(()=>[de(l(e(V).book_now),1)]),_:1},8,["type"])])])],2),e(b).packageCategory.visibility&&e(d).package.length!==1||e(b).packageDuration.visibility||e(b).packageCapacity.visibility||e(b).packageLocation.visibility&&e(oe).length?(t(),i("div",Vn,[a("div",Un,[e(d).package.length!==1&&e(b).packageCategory.visibility&&e(te)?(t(),i("div",Wn,[jn,a("span",null,l(e(te).name),1)])):r("",!0),e(b).packageDuration.visibility?(t(),i("div",Hn,[qn,e(D).endDate?(t(),i("span",Gn,l(`${e(V).expires_at} ${e(D).endDate.split(" ")[0]}`),1)):e(D).durationCount?(t(),i("span",Jn,l(`${e(V).expires_after} ${e(D).durationCount} ${Be(e(D).durationCount,e(D).durationType)}`),1)):(t(),i("span",Yn,l(e(V).without_expiration),1))])):r("",!0),e(b).packageCapacity.visibility?(t(),i("div",Qn,Kn)):r("",!0),e(oe).length&&e(b).packageLocation.visibility?(t(),i("div",eo,[to,a("span",null,l(e(oe).length===1?e(oe)[0].address?e(oe)[0].address:e(oe)[0].name:e(V).multiple_locations),1)])):r("",!0)])])):r("",!0)]}),content:O(()=>[e(D).gallery.length?(t(),i("div",ao,[a("div",{class:M(["am-fcip__gallery-hero",[{w100:e(D).gallery.length===1},{"am-mobile w100":e(P)<678}]]),style:re({backgroundImage:`url(${e(D).gallery[0].pictureFullPath})`})},null,6),e(be).length&&e(P)>677?(t(),i("div",io,[(t(!0),i(K,null,ge(e(be),(F,ce)=>(t(),i("div",{key:ce,class:M(["am-fcip__gallery-thumb",{"am-one-thumb":e(be).length===1}]),style:re({backgroundImage:`url(${F.pictureFullPath})`})},null,6))),128))])):r("",!0),J(Ae,{"custom-class":`am-fcip__gallery-btn${e(P)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:W[0]||(W[0]=()=>ue(N)?N.value=!0:N=!0)},{default:O(()=>[so,a("span",null,l(e(V).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(ut,{modelValue:e(N),"onUpdate:modelValue":W[4]||(W[4]=F=>ue(N)?N.value=F:N=F),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:O(()=>[a("div",{class:"am-gd",style:re(e(Fe))},[a("div",lo,[a("div",no,[a("span",{class:"am-icon-arrow-left",onClick:W[1]||(W[1]=()=>ue(A)?A.value=e(A)<=0?e(D).gallery.length-1:e(A)-1:A=e(A)<=0?e(D).gallery.length-1:e(A)-1)}),a("span",{class:"am-icon-arrow-right",onClick:W[2]||(W[2]=()=>ue(A)?A.value=e(D).gallery.length-1===e(A)?0:e(A)+1:A=e(D).gallery.length-1===e(A)?0:e(A)+1)})]),(t(!0),i(K,null,ge(e(D).gallery,(F,ce)=>(t(),i("div",{key:ce,class:"am-gd__display",style:re({display:ce===e(A)?"flex":"none"}),onClick:W[3]||(W[3]=()=>ue(A)?A.value=e(D).gallery.length-1===e(A)?0:e(A)+1:A=e(D).gallery.length-1===e(A)?0:e(A)+1)},[a("img",{src:F.pictureFullPath,alt:ce},null,8,oo)],4))),128))]),a("div",co,l(`${e(A)+1}/${e(D).gallery.length}`),1),a("div",ro,[(t(!0),i(K,null,ge(e(D).gallery,(F,ce)=>(t(),i("div",{key:ce,class:M(["am-gd__thumb",{"am-active":ce===e(A)}]),style:re({backgroundImage:`url(${F.pictureFullPath})`}),onClick:()=>ue(A)?A.value=ce:A=ce},null,14,uo))),128))])],4)]),_:1},8,["modelValue"]),e(b).packageDescription.visibility&&e(Oe)(e(D).description)||e(b).packageEmployees.visibility?(t(),i("div",mo,[a("div",po,[e(Oe)(e(D).description)&&e(b).packageDescription.visibility?(t(),i("div",{key:0,class:M(["am-fcip__info-tab",{"am-active":e(c)==="description"}]),onClick:W[5]||(W[5]=()=>ue(c)?c.value="description":c="description")},l(e(V).about_package),3)):r("",!0),e(b).packageEmployees.visibility?(t(),i("div",{key:1,class:M([{"am-active":e(c)==="employees"},"am-fcip__info-tab"]),onClick:W[6]||(W[6]=()=>ue(c)?c.value="employees":c="employees")},l(e(V).tab_employees),3)):r("",!0)]),a("div",_o,[e(Oe)(e(D).description)&&e(b).packageDescription.visibility?xt((t(),i("div",vo,[a("div",{class:M(["am-fcip__info-service__desc",{"ql-description":e(D).description.includes("<!-- Content -->")}]),innerHTML:e(D).description},null,10,fo)],512)),[[Pt,e(c)==="description"]]):r("",!0),e(b).packageEmployees.visibility?xt((t(),i("div",go,[J(wt,null,{default:O(()=>[(t(!0),i(K,null,ge(e(q),F=>(t(),he(St,{key:F.id,side:""},{heading:O(()=>[a("div",yo,[a("div",ho,[J(ct,{"item-class":"am-fcip__info-employee__img","item-data":F,"trim-string":3},null,8,["item-data"]),a("div",bo,[de(l(F.firstName)+" "+l(F.lastName)+" ",1),F.badge?(t(),i("span",{key:0,style:re({background:F.badge.color}),class:"am-fcip__info-employee__badge"},l(F.badge.content),5)):r("",!0)])])])]),default:O(()=>[e(Oe)(F.description)?(t(),i("div",{key:0,class:M(["am-fcip__info-employee__description",{"ql-description":F.description.includes("<!-- Content -->")}]),innerHTML:F.description},null,10,ko)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[Pt,e(c)==="employees"]]):r("",!0)])])):r("",!0),e(b).packageServices.visibility?(t(),i("div",Co,[a("div",$o,[a("span",wo,l(`${e(V).package_includes}:`),1)]),J(wt,null,{default:O(()=>[(t(!0),i(K,null,ge(e(D).bookable,F=>(t(),he(St,{key:F.id,side:!0},{heading:O(()=>[a("div",So,[J(ct,{"item-class":"am-fcip__include-service__img","item-data":F.service},null,8,["item-data"]),de(" "+l(F.service.name+(e(D).sharedCapacity?"":" x"+F.quantity)),1)])]),default:O(()=>[a("div",xo,[a("span",null,l(`${e(V).tab_employees}:`),1),(t(!0),i(K,null,ge(pe(F).slice(0,6),ce=>(t(),he(ct,{key:ce.id,"item-class":"am-fcip__include-service__info-name","item-data":ce,"trim-string":3},null,8,["item-data"]))),128)),pe(F).length>6?(t(),i("span",Po," + "+l(pe(F).length-6),1)):r("",!0),e(Oe)(F.service.description)?(t(),i("div",{key:1,class:M(["am-fcip__include-service__info-description",{"ql-description":F.service.description.includes("<!-- Content -->")}]),innerHTML:F.service.description},null,10,Io)):r("",!0)])]),_:2},1024))),128))]),_:1}),a("div",Eo,[a("span",Do,l(e(V).package_book_service),1)])])):r("",!0),J(ut,{modelValue:e(_),"onUpdate:modelValue":W[7]||(W[7]=F=>ue(_)?_.value=F:_=F),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(fe),onClosed:Le},{default:O(()=>[J(jt)]),_:1},8,["modelValue","width"])]),_:2},[e(d).package.length!==1?{name:"header",fn:O(()=>[J(Ut,{"btn-string":e(V).back_btn,"btn-type":e(b).backBtn.buttonType,onGoBack:ne},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e($e)?(t(),i("div",Lo,[a("img",{src:e(B).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,To),a("div",Bo,l(e(V).oops),1),a("div",Fo,l(e(V).no_package_services),1),a("div",zo,[a("a",Ao,l(e(V).add_services_url)+"\xA0 ",1)])],512)):r("",!0)],64))}});const Oo={name:"CatalogSkeleton"},No=Object.assign(Oo,{setup(p){let w=x(null),m=x(0);window.addEventListener("resize",P);function P(){w.value&&(m.value=w.value.offsetWidth)}Re(()=>{w.value&&(m.value=w.value.offsetWidth)});let $=y(()=>m.value<=500?"am-w100":m.value<=600?"am-w50":m.value<=768?"am-w33":"");return(B,u)=>{const s=qa,d=Ha;return t(),i("div",{ref_key:"amSkeletonContainer",ref:w,class:"am-skeleton-catalog__wrapper"},[J(d,{animated:"",class:"am-skeleton-catalog"},{template:O(()=>[(t(!0),i(K,null,ge(new Array(8),h=>(t(),i("div",{key:h,class:M(["am-skeleton-catalog__item",e($)])},[J(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Vo=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Uo=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Wo=["href"],jo={name:"CatalogFormWrapper"},Ho=Object.assign(jo,{emits:["isRestored"],setup(p,{emit:w}){let m=z("isMounted"),P=z("licence"),$=x(null),B=x(20);const u=z("baseUrls");let s=x(0);se("containerWidth",s),window.addEventListener("resize",d);function d(){$.value&&(s.value=$.value.offsetWidth)}Re(()=>{I.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+b.value.counter).classList.add("amelia-v2-booking-"+b.value.counter+"-loaded"),_t(I,{},"ViewContent","appointment",null,null),d(),m.value=!0,Zt("scrollForm",{offsetFromTop:B})});let h=x(!1);const L=z("settings"),b=z("shortcodeData"),I=at();I.commit("entities/setPreselected",b.value),I.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:P,loadEntities:b.value.trigger||window.ameliaShortcodeData.filter(Q=>!Q.hasApiCall).length===window.ameliaShortcodeData.length?!0:b.value.hasApiCall,showHidden:!1});const v=Se(Li),U=Se(ml),te=Se(Ln),D=Se(Mo);let A=x([v,U]),c=x(0),q=x(null);se("categorySelected",q);let oe=x([]);se("availableCategories",oe);let G=x("");se("itemType",G),$t(G,()=>{G.value==="appointment"&&A.value.push(te),G.value==="package"&&A.value.push(D),G.value===""&&A.value.forEach((Q,Y)=>{Q.name==="CategoryService"&&pe(A.value,Y),Q.name==="CategoryPackage"&&pe(A.value,Y)})});function pe(Q,Y){Q.splice(Y,1)}function $e(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function N(){if(c.value=c.value+1,$e())setTimeout(()=>{let Q=$.value.getBoundingClientRect().top+window.pageYOffset-B.value;window.scrollTo({top:Q,behavior:"smooth"})},500);else{let Q=$.value.getBoundingClientRect().top+window.pageYOffset-B.value;window.scrollTo({top:Q,behavior:"smooth"})}}function be(){c.value=c.value-1}se("changingPageFunctions",{nextPage:N,previousPage:be});let ne=y(()=>I.getters["entities/getReady"]),_=y(()=>I.state.entities);se("amEntities",_);function fe(){let Q=I.getters["entities/getPreselected"];if(Q.category.length!==1&&(b.value.categories_hidden&&(oe.value=JSON.parse(JSON.stringify(kt(_.value,b.value))),De(()=>{let Y=A.value.findIndex(V=>V.name==="CategoriesList");A.value.splice(Y,1)})),b.value.categories_hidden||(oe.value=JSON.parse(JSON.stringify(kt(_.value,b.value))))),Q.category.length===1&&(I.commit("booking/setCategoryId",parseInt(Q.category)),q.value=parseInt(Q.category[0]),oe.value=JSON.parse(JSON.stringify(kt(_.value,b.value).filter(Y=>Y.id===parseInt(Q.category[0])))),De(()=>{let Y=A.value.findIndex(V=>V.name==="CategoriesList");A.value.splice(Y,1)})),Q.service.length===1){I.commit("booking/setServiceId",parseInt(Q.service[0]));let Y=I.getters["entities/getService"](parseInt(Q.service[0]));q.value=Y?parseInt(Y.categoryId):null,I.commit("booking/setCategoryId",Y?parseInt(Y.categoryId):null),De(()=>{A.value=[],A.value.push(te)})}Q.employee.length===1&&I.commit("booking/setEmployeeId",parseInt(Q.employee[0])),Q.location.length===1&&I.commit("booking/setLocationId",parseInt(Q.location[0])),Q.package.length===1&&I.getters["entities/getPackages"].length&&(I.commit("booking/setPackageId",parseInt(Q.package[0])),A.value=[],A.value.push(D)),Q.show==="packages"?I.commit("booking/setBookableType","package"):I.commit("booking/setBookableType","appointment")}let we=y(()=>ne.value?Ja(I,b.value):null);se("restoreFormData",we),$t(ne,Q=>{Q&&(fe(),h.value=I.getters["entities/getServices"].length===0||I.getters["entities/getEmployees"].length===0,we.value&&(G.value=I.state.booking.appointment.type,De(()=>{c.value=A.value.length-1,q.value=I.state.booking.appointment.categoryId,w("isRestored",we.value)})))});let _e=y(()=>L.customizedData&&"cbf"in L.customizedData?L.customizedData.cbf:ot.cbf);se("customizedDataForm",_e);const ve=x(L.customizedData?L.customizedData.fonts:ot.fonts);se("amFonts",ve);let ee=y(()=>L.customizedData&&"cbf"in L.customizedData?L.customizedData.cbf.colors:ot.cbf.colors);se("amColors",ee);let Le=y(()=>({"--am-c-primary":ee.value.colorPrimary,"--am-c-success":ee.value.colorSuccess,"--am-c-error":ee.value.colorError,"--am-c-warning":ee.value.colorWarning,"--am-c-main-bgr":ee.value.colorMainBgr,"--am-c-main-heading-text":ee.value.colorMainHeadingText,"--am-c-main-text":ee.value.colorMainText,"--am-c-sb-bgr":ee.value.colorSbBgr,"--am-c-sb-text":ee.value.colorSbText,"--am-c-inp-bgr":ee.value.colorInpBgr,"--am-c-inp-border":ee.value.colorInpBorder,"--am-c-inp-text":ee.value.colorInpText,"--am-c-inp-placeholder":ee.value.colorInpPlaceHolder,"--am-c-drop-bgr":ee.value.colorDropBgr,"--am-c-drop-text":ee.value.colorDropText,"--am-c-card-bgr":ee.value.colorCardBgr,"--am-c-card-text":ee.value.colorCardText,"--am-c-card-border":ee.value.colorCardBorder,"--am-c-btn-prim":ee.value.colorBtnPrim,"--am-c-btn-prim-text":ee.value.colorBtnPrimText,"--am-c-btn-sec":ee.value.colorBtnSec,"--am-c-btn-sec-text":ee.value.colorBtnSecText,"--am-c-skeleton-op20":ae(ee.value.colorMainText,.2),"--am-c-skeleton-op60":ae(ee.value.colorMainText,.6),"--am-font-family":ve.value.fontFamily}));function Te(){let Q=document.head||document.getElementsByTagName("head")[0];Q.querySelector("#amCustomFont")&&Q.querySelector("#amCustomFont").remove();let Y=`@font-face {font-family: '${ve.value.fontFamily}'; src: url(${ve.value.fontUrl});}`,V=document.createElement("style");Q.appendChild(V),V.setAttribute("type","text/css"),V.setAttribute("id","amCustomFont"),V.appendChild(document.createTextNode(Y))}ve.value.customFontSelected&&Te();let f=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",f),(Q,Y)=>(t(),i(K,null,[ve.value.customFontSelected?r("",!0):(t(),i(K,{key:0},[Vo,Uo,a("link",{rel:"stylesheet",type:"text/css",href:`${e(u).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Wo)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:$,class:"am-fc__wrapper",style:re(e(Le))},[e(ne)&&e(A).length?(t(),he(Kt(e(A)[e(c)]),{key:0})):(t(),he(No,{key:1}))],4),J(e(Ga))],64))}});var Jo=Object.freeze(Object.defineProperty({__proto__:null,default:Ho},Symbol.toStringTag,{value:"Module"}));export{Jo as C,It as _,oi as a,Ut as b,ct as c,Wt as d,Ho as e};
