(()=>{"use strict";var e,t={475:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(196),o=n(441),i=n(501);function s({attributes:e,id:t}){const{adobeEmbedder:n,adobeOptions:s,file:d,title:a,height:l,width:c,align:u,protect:p,popupBtnText:f}=e,w=(0,r.useRef)(),m=(0,r.useMemo)((()=>({showPrintPDF:!1,showDownloadPDF:!1,showAnnotationTools:!1,embedMode:s.embedMode})),[]);(0,r.useEffect)((()=>{!n&&w.current&&(w.current.innerHTML=""),w?.current&&"LIGHT_BOX"!=s.embedMode&&h(p?m:s)}),[s,n,d,p]),(0,r.useEffect)((()=>{document.getElementById(t)&&(document.getElementById(t).style.height=l)}),[s.embedMode]);const h=e=>{"undefined"!=typeof AdobeDC&&new AdobeDC.View({clientId:(0,o.Z)("decode",pdfp?.adobeClientKey),divId:t}).previewFile({content:{location:{url:d}},metaData:{fileName:a||" "}},e)};return pdfp?.adobeClientKey?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{ref:w,style:{width:`${"LIGHT_BOX"===s?.embedMode?"fit-content":c} `},"data-align":u,className:"iframe_wrapper",children:"LIGHT_BOX"===s?.embedMode?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("button",{className:`${t}btn`,onClick:()=>{h(p?m:s)},children:f||d?.split(".").slice(0,-1).join(".")})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{id:t,style:{height:l}}),(0,i.jsx)("span",{className:"close",onClick:()=>{document.exitFullscreen()},children:"×"})]})})}):(0,i.jsx)(i.Fragment,{children:"adobe client key missing"})}},682:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(196),o=n(937),i=n(501);function s({attributes:e,source:t,RichText:n,setAttributes:s,__,wrapper:d,previewSrc:a}){const{downloadButton:l,protect:c,downloadButtonText:u,fullscreenButton:p,fullscreenButtonText:f,showName:w,titleFontSize:m,title:h,adobeEmbedder:b,newWindow:v}=e;return(0,r.useEffect)((()=>{}),[]),(0,i.jsx)(i.Fragment,{children:!b&&(0,i.jsxs)(i.Fragment,{children:[w&&(0,i.jsx)(n,{tagName:"p",value:h,allowedFormats:[],style:{fontSize:m,margin:"20px"},onChange:e=>s({title:e}),placeholder:__("Title","pdfp")}),(0,i.jsxs)("div",{className:"cta_wrapper",children:[l&&!c&&(0,i.jsx)("a",{className:"pdfp_download",download:!0,target:"blank",href:t,rel:"noreferrer",children:(0,i.jsx)("button",{className:"pdfp_download_btn",children:u})}),p&&!c&&(0,i.jsx)("a",{href:a,rel:"noreferrer",onClick:e=>{"_self"===e.target.parentElement.target&&((0,o.Z)()?e.target="blank":(e.preventDefault(),d?.querySelector(".iframe_wrapper")?.requestFullscreen()))},target:v?"blank":"_self",children:(0,i.jsx)("button",{children:f})})]})]})})}},551:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(196),o=n(501);const i=function({__,attributes:e,source:t=pdfp?.placeholder||"http://localhost/freemius/wp-content/uploads/2022/02/temp.pdf"}){const{height:n}=e;return(0,o.jsx)(o.Fragment,{children:t.includes("dropbox.com")?(0,o.jsx)("div",{style:{border:"2px solid #ddd"},children:(0,o.jsx)("p",{children:__("Preview is not available for dropbox","pdfp")})}):(0,o.jsx)(r.Fragment,{children:(0,o.jsxs)("div",{className:"iframe_wrapper",children:[(0,o.jsx)("div",{className:"pdfp_frame_overlay"}),(0,o.jsx)("iframe",{className:"pdfp_iframe",height:n,style:{height:n,width:"100%"},src:t}),(0,o.jsx)("span",{className:"close",onClick:()=>{document.exitFullscreen()},children:"×"})]})})})}},843:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(196),o=n(65),i=n(501);function s({attributes:e,id:t}){const[n,s]=(0,r.useState)(null),{height:d,popupBtnStyle:a,popupOptions:l}=e,{btnStyle:c}=l;return(0,r.useEffect)((()=>{let e=`.${t}btn {background: ${a?.background}; color: ${a?.color}; padding: ${(0,o.Z)(a.padding)}} .${t} .popup-btn {padding: ${(0,o.Z)(c.padding)}; color: ${c.color}; background: ${c.background}; border-radius: 3px;border:0;cursor: pointer;font-size: ${c.fontSize}`;s(e)}),[a,t,d,c]),(0,i.jsx)("style",{children:n})}},10:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(196),o=n(586),i=n(552),s=n(684),d=n(441),a=n(475),l=n(682),c=n(551),u=n(843),p=n(131),f=n(365),w=n(501);const m=({attributes:e,RichText:t,setAttributes:n,__,id:m})=>{const{adobeEmbedder:h,file:b,protect:v,alert:x,additional:g,width:j,align:_,print:y,onlyPDF:k,downloadButton:E,thumbMenu:$,hrScroll:S,initialPage:Z,zoomLevel:F,sidebarOpen:N,defaultBrowser:O=!1,popupOptions:P}=e,{enabled:D,text:C}=P||{},[L,R]=(0,r.useState)(""),T=(0,r.useRef)();(0,r.useEffect)((()=>{(async()=>{if(v){let e=(0,p.Z)((0,d.Z)("decode",b));e=await(0,i.Z)(e),R(e),(0,s.ZP)(e,T.current?.querySelector("iframe")),(0,o.Z)(x,T.current?.querySelector("iframe"))}else R((0,p.Z)(b))})()}),[b]);const[A,B]=(0,r.useState)(null);return(0,r.useEffect)((()=>{let e="";if(L.includes(window.location.origin))if((0,f.Z)()&&O)e=`//docs.google.com/gview?embedded=true&url=${L}`;else{let t="&z=auto";F&&(t="&z="+F/100),e=`${pdfp?.dir}pdfjs-new/web/viewer.html?file=${L}${t}&raw=${k?"1":""}&nobaki=${!v&&E?"vera":"false"}&stdono=${y&&!v?"vera":"false"}&open=${N}&onlypdf=${k?"vera":"false"}&hrscroll=${S?"vera":"false"}&side=${$}#page=${Z}`}else L.includes(".google.com")&&(e=L);B(e)}),[k,$,Z,v,S,L,F]),(0,w.jsxs)("div",{ref:T,className:`pdfp_wrapper ${g?.Class} ${m} align-${_} ${D?"pdfp_popup_enabled":""}`,style:{width:j,maxWidth:"100%",display:"inline-block"},children:[(0,w.jsx)("div",{className:"pdfp_fullscreen_overlay"}),(0,w.jsx)("div",{className:"pdfp_fullscreen_close",onClick:()=>{T.current?.classList.remove("pdfp_fullscreen_opened")},children:"×"}),(0,w.jsx)(u.Z,{attributes:e,id:m}),L&&(0,w.jsxs)(w.Fragment,{children:[D&&(0,w.jsx)("button",{onClick:()=>{"function"==typeof T.current?.querySelector(".iframe_wrapper").requestFullscreen?T.current?.querySelector(".iframe_wrapper").requestFullscreen():T.current?.classList.add("pdfp_fullscreen_opened")},className:"popup-btn",children:C}),(0,w.jsxs)(w.Fragment,{children:[!D&&(0,w.jsx)(l.Z,{attributes:e,source:L,previewSrc:A,RichText:t,setAttributes:n,__,wrapper:T.current}),h&&(0,w.jsx)(a.Z,{attributes:e,source:L,id:m}),!h&&(0,w.jsx)(c.Z,{source:A,attributes:e,setAttributes:n,__,wrapper:T.current})]})]})]})}},87:(e,t,n)=>{n.d(t,{H:()=>d});const r=window.ReactDOM;var o=n(10),i=n(501);function s({attributes:e,id:t}){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Z,{RichText:d,attributes:e,setAttributes:()=>{},__,id:t})})}function d({tag:e="p",value:t=""}){return(0,i.jsx)(e,{children:t})}function __(e,t){return e}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".wp-block-pdfp-pdf-poster").forEach((e=>{const t=JSON.parse(e.dataset.attributes);e.removeAttribute("data-attributes"),(0,r.createRoot)(e).render((0,i.jsx)(s,{attributes:t,id:e.id}))}))}))},306:(e,t,n)=>{var r=n(196);const o=window.wp.i18n,i=window.wp.components,s=window.wp.blockEditor,d=window.wp.data,a=window.wp.compose;var l=n(501);const c=(0,a.compose)([(0,d.withSelect)((e=>({docs:e("core").getEntityRecords("postType","pdfposter",{per_page:100})})))])((e=>{const{props:{attributes:t,setAttributes:n},docs:r}=e,{data:o}=t;let d;return r&&(d=r.map((e=>({label:e?.title?.rendered||"No title",value:e?.id}))),d=[{label:"Select",value:null},...d]),(0,l.jsx)(s.InspectorControls,{style:{marginBottom:"40px"},children:(0,l.jsx)(i.Panel,{children:(0,l.jsx)(i.PanelBody,{children:(0,l.jsx)(i.SelectControl,{label:"PDF Poster",value:o?.tringle_text,options:d,onChange:e=>n({data:{tringle_text:e}})})})})})}));var u=n(10),p=n(87);(0,window.wp.blocks.registerBlockType)("meta-box/document-embedder",{title:(0,o.__)("PDF Poster Selector","pdfp"),icon:"pdf",category:"design",keywords:[(0,o.__)("PDF Poster","pdfp"),(0,o.__)("PDF Viewer","pdfp")],supports:{html:!1},attributes:{data:{type:"object",default:{tringle_text:""}}},getEditWrapperProps:()=>{},edit:function(e){const{attributes:t,setAttributes:n}=e,{data:{tringle_text:i}}=t,[s,d]=(0,r.useState)({}),[a,f]=(0,r.useState)(null);return(0,r.useEffect)((()=>{f(!0),jQuery.get(pdfp?.siteUrl+"/wp-json/pdfposter/v1/single/"+i,(function(e){d(e),f(!1)}))}),[t]),(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(c,{props:e}),a?(0,l.jsx)("h2",{children:"Loading..."}):(0,l.jsx)(u.Z,{attributes:s,RichText:p.H,__:o.__,setAttributes:n,editor:!0})]})},save:()=>null,example:{attributes:!0}})},586:(e,t,n)=>{function r(e,t){e?(setTimeout((()=>{t&&(t.contentWindow.document.oncontextmenu=function(e){alert("Right Click Disabled"),e.preventDefault()})}),1e3),document.oncontextmenu=function(e){alert("Right Click Disabled"),e.preventDefault()}):(document.oncontextmenu=function(e){e.preventDefault()},t&&(t.contentWindow.document.oncontextmenu=function(e){e.preventDefault()}))}n.d(t,{Z:()=>r})},552:(e,t,n)=>{async function r(e){const t=await fetch(e),n=await t.blob();return URL.createObjectURL(n)}n.d(t,{Z:()=>r})},65:(e,t,n)=>{function r(e){return e?`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px;`:null}n.d(t,{Z:()=>r})},365:(e,t,n)=>{function r(){return window.navigator.userAgent.includes("Edg")}n.d(t,{Z:()=>r})},937:(e,t,n)=>{function r(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}n.d(t,{Z:()=>r})},131:(e,t,n)=>{function r(e){return e.replace(/https?:/,window.location.protocol)}n.d(t,{Z:()=>r})},684:(e,t,n)=>{function r(e,t){function n(t){isNaN(+t)&&(t=100);var n=+new Date;o()&&i();var r=+new Date;(isNaN(n)||isNaN(r)||r-n>t)&&(URL.revokeObjectURL(e),alert("please close developer tools"))}window.attachEvent?"complete"===document.readyState||"interactive"===document.readyState?(n(),window.attachEvent("onresize",n),window.attachEvent("onmousemove",n),window.attachEvent("onfocus",n),window.attachEvent("onblur",n)):setTimeout(argument.callee,0):(window.addEventListener("load",n),window.addEventListener("resize",n),window.addEventListener("mousemove",n),window.addEventListener("focus",n),window.addEventListener("blur",n)),o()&&i()}function o(){return window.outerWidth-window.innerWidth>160||window.outerHeight-window.innerHeight>160}function i(){const e=document.querySelectorAll(".wp-block-pdfp-pdf-poster");e?e.forEach((e=>e.remove())):document.body.remove(),alert("I am sorry, you can't open developer tools. Please close the developer tools!")}n.d(t,{ZP:()=>r})},441:(e,t,n)=>{function r(e="encode",t=""){const n="abcdefghijklmnopqrstuvwxyz1234567890",r="z1ntg4ihmwj5cr09byx8spl7ak6vo2q3eduf";let o="";if("encode"==e&&""!=t){const e=t.length;for(let i=0;i<e;i++){const e=n.indexOf(t[i]);o+=-1!==e?r[e]:t[i]}}if("decode"==e&&""!=t){const e=t.length;for(let i=0;i<e;i++){const e=t[i],s=r.indexOf(e);o+=-1!==s?n[s]:e}}return o}n.d(t,{Z:()=>r})},196:e=>{e.exports=window.React},501:e=>{e.exports=window.ReactJSXRuntime}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],i=e[c][2];for(var d=!0,a=0;a<n.length;a++)(!1&i||s>=i)&&Object.keys(r.O).every((e=>r.O[e](n[a])))?n.splice(a--,1):(d=!1,i<s&&(s=i));if(d){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={220:0,450:0,722:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,s=n[0],d=n[1],a=n[2],l=0;if(s.some((t=>0!==e[t]))){for(o in d)r.o(d,o)&&(r.m[o]=d[o]);if(a)var c=a(r)}for(t&&t(n);l<s.length;l++)i=s[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},n=self.webpackChunkpdf_poster=self.webpackChunkpdf_poster||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[722],(()=>r(306)));o=r.O(o)})();