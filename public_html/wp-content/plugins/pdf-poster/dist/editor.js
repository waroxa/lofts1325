(()=>{var e={293:e=>{var t=function(e){"use strict";var t,l=Object.prototype,n=l.hasOwnProperty,a=Object.defineProperty||function(e,t,l){e[t]=l.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",p=o.asyncIterator||"@@asyncIterator",m=o.toStringTag||"@@toStringTag";function i(e,t,l){return Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,l){return e[t]=l}}function c(e,t,l,n){var o=t&&t.prototype instanceof b?t:b,r=Object.create(o.prototype),p=new k(n||[]);return a(r,"_invoke",{value:S(e,l,p)}),r}function s(e,t,l){try{return{type:"normal",arg:e.call(t,l)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",u="suspendedYield",w="executing",h="completed",f={};function b(){}function g(){}function E(){}var _={};i(_,r,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(B([])));y&&y!==l&&n.call(y,r)&&(_=y);var C=E.prototype=b.prototype=Object.create(_);function P(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function F(e,t){function l(a,o,r,p){var m=s(e[a],e,o);if("throw"!==m.type){var i=m.arg,c=i.value;return c&&"object"==typeof c&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){l("next",e,r,p)}),(function(e){l("throw",e,r,p)})):t.resolve(c).then((function(e){i.value=e,r(i)}),(function(e){return l("throw",e,r,p)}))}p(m.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){l(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function S(e,l,n){var a=d;return function(o,r){if(a===w)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw r;return{value:t,done:!0}}for(n.method=o,n.arg=r;;){var p=n.delegate;if(p){var m=N(p,n);if(m){if(m===f)continue;return m}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=w;var i=s(e,l,n);if("normal"===i.type){if(a=n.done?h:u,i.arg===f)continue;return{value:i.arg,done:n.done}}"throw"===i.type&&(a=h,n.method="throw",n.arg=i.arg)}}}function N(e,l){var n=l.method,a=e.iterator[n];if(a===t)return l.delegate=null,"throw"===n&&e.iterator.return&&(l.method="return",l.arg=t,N(e,l),"throw"===l.method)||"return"!==n&&(l.method="throw",l.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=s(a,e.iterator,l.arg);if("throw"===o.type)return l.method="throw",l.arg=o.arg,l.delegate=null,f;var r=o.arg;return r?r.done?(l[e.resultName]=r.value,l.next=e.nextLoc,"return"!==l.method&&(l.method="next",l.arg=t),l.delegate=null,f):r:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function B(e){if(e||""===e){var l=e[r];if(l)return l.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function l(){for(;++a<e.length;)if(n.call(e,a))return l.value=e[a],l.done=!1,l;return l.value=t,l.done=!0,l};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=E,a(C,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:g,configurable:!0}),g.displayName=i(E,m,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,i(e,m,"GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},P(F.prototype),i(F.prototype,p,(function(){return this})),e.AsyncIterator=F,e.async=function(t,l,n,a,o){void 0===o&&(o=Promise);var r=new F(c(t,l,n,a),o);return e.isGeneratorFunction(l)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},P(C),i(C,m,"Generator"),i(C,r,(function(){return this})),i(C,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),l=[];for(var n in t)l.push(n);return l.reverse(),function e(){for(;l.length;){var n=l.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=B,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var l in this)"t"===l.charAt(0)&&n.call(this,l)&&!isNaN(+l.slice(1))&&(this[l]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var l=this;function a(n,a){return p.type="throw",p.arg=e,l.next=n,a&&(l.method="next",l.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],p=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var m=n.call(r,"catchLoc"),i=n.call(r,"finallyLoc");if(m&&i){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(m){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var l=this.tryEntries.length-1;l>=0;--l){var a=this.tryEntries[l];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var l=this.tryEntries[t];if(l.finallyLoc===e)return this.complete(l.completion,l.afterLoc),x(l),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var l=this.tryEntries[t];if(l.tryLoc===e){var n=l.completion;if("throw"===n.type){var a=n.arg;x(l)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,l,n){return this.delegate={iterator:B(e),resultName:l,nextLoc:n},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,l),o.exports}(()=>{"use strict";l(293);const e=wp.i18n,t=wp.components,{useState:n,Fragment:a}=wp.element,{Dropdown:o,ColorPicker:r,Button:p}=wp.components,{__:m}=wp.i18n,i=e=>{const{value:t,title:l="",defaultColor:m,onChange:i,className:c,disableAlpha:s,boxPosition:d="top left",globalColors:u=[]}=e,[w,h]=n(t);return wp.element.createElement(o,{position:d,renderToggle:({isOpen:e,onToggle:n})=>wp.element.createElement("div",{style:{display:"flex"}},m&&m!=w&&wp.element.createElement(p,{icon:"image-rotate",className:"bColorReset",onClick:()=>{i(m),h(m)}}),wp.element.createElement("div",{className:"BColorButtonContainer"},wp.element.createElement("button",{className:"BColorButton",title:l,onClick:n,"aria-expanded":e,style:t?{backgroundColor:t}:{backgroundColor:"transparent"}}))),renderContent:({isOpen:e,onToggle:l,onClose:n})=>wp.element.createElement(a,null,wp.element.createElement(r,{color:t||"",onChangeComplete:e=>{i(`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`),h(e.hex)},disableAlpha:s||!1}),u.length>0&&wp.element.createElement("div",{style:{display:"flex"},className:"globalColors"},u.map((l=>wp.element.createElement("div",{className:"BColorButtonContainer"},wp.element.createElement("button",{className:"BColorButton",onClick:()=>{i(l.color),h(l)},"aria-expanded":e,style:t?{backgroundColor:l.color}:{backgroundColor:"transparent"}}))))))})},{Component:c,Fragment:s,useState:d}=wp.element,{PanelRow:u,__experimentalNumberControl:w}=wp.components,h=w,{__:f}=wp.i18n,b=e=>{const[t,l]=d(!1),{enable:{top:n=!0,right:a=!0,bottom:o=!0,left:r=!0},onChange:p,value:m,title:i,label:c,isShiftStepEnabled:w=!0,isDragEnabled:b=!1,shiftStep:g=10,className:E=" ",width:_="250px",device:v="desktop",onChangeDevice:y}=e,C=(e,l)=>{if(t){const e={...m};e.top=l,e.left=l,e.right=l,e.bottom=l,p(e)}else p({...m,[e]:l})};return wp.element.createElement(s,null,wp.element.createElement(u,null,wp.element.createElement("label",null,i)),wp.element.createElement(u,null,wp.element.createElement("div",{className:E,style:{width:_,maxWidth:"100%",display:"flex"}},n&&wp.element.createElement(h,{label:c.top||f("Top","bsection"),isShiftStepEnabled:w,isDragEnabled:b,onChange:e=>{C("top",parseInt(e))},shiftStep:g,value:m.top}),a&&wp.element.createElement(h,{label:c.right||f("Right","bsection"),isShiftStepEnabled:w,isDragEnabled:b,onChange:e=>C("right",parseInt(e)),shiftStep:g,value:m.right}),o&&wp.element.createElement(h,{label:c.bottom||f("Bottom","bsection"),isShiftStepEnabled:w,isDragEnabled:b,onChange:e=>C("bottom",parseInt(e)),shiftStep:g,value:m.bottom}),r&&wp.element.createElement(h,{label:c.left||f("Left","bsection"),isShiftStepEnabled:w,isDragEnabled:b,onChange:e=>C("left",parseInt(e)),shiftStep:g,value:m.left}))))};b.defaultProps={enable:{},value:{top:0,right:0,bottom:0,left:0},label:{}};const g=b,E=l=>{const{attributes:n,setAttributes:a}=l,{titleFontSize:o,height:r,width:p,showName:m,print:c,onlyPDF:s,defaultBrowser:d,adobeEmbedder:u,downloadButton:w,downloadButtonText:h,fullscreenButton:f,fullscreenButtonText:b,newWindow:E,protect:_,thumbMenu:v,sidebarOpen:y,initialPage:C,zoomLevel:P,alert:F,lastVersion:S,hrScroll:N,adobeOptions:T,popupBtnStyle:x,popupBtnText:k}=n;return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t.PanelBody,{title:(0,e.__)("Settings","pdfp"),initialOpen:!1},wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"adobeEmbedder",className:"label"},(0,e.__)("use adobe PDF embedder","pdfp")),wp.element.createElement(t.FormToggle,{id:"adobeEmbedder",checked:u,onChange:()=>a({adobeEmbedder:!u})})),u&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"embedMode",className:"label"},(0,e.__)("Embed Mode","pdfp")),wp.element.createElement(t.SelectControl,{options:[{label:"Sized Container",value:"SIZED_CONTAINER"},{label:"Full Window",value:"FULL_WINDOW"},{label:"In-Line",value:"IN_LINE"},{label:"Lightbox",value:"LIGHT_BOX"}],value:T?.embedMode,onChange:e=>a({adobeOptions:{...T,embedMode:e}})})),"LIGHT_BOX"===T?.embedMode&&wp.element.createElement(t.PanelRow,null,wp.element.createElement(t.TextControl,{label:(0,e.__)("Button Text","pdfp"),value:k,onChange:e=>a({popupBtnText:e})})),["SIZED_CONTAINER","IN_LINE","LIGHT_BOX","FULL_WINDOW"].includes(T?.embedMode)&&wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"showPrintPDF",className:"label"},(0,e.__)("Show Print Button","pdfp")),wp.element.createElement(t.FormToggle,{id:"showPrintPDF",checked:T?.showPrintPDF,onChange:()=>a({adobeOptions:{...T,showPrintPDF:!T?.showPrintPDF}})})),["SIZED_CONTAINER","IN_LINE","LIGHT_BOX","FULL_WINDOW"].includes(T?.embedMode)&&wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"showDownloadPDF",className:"label"},(0,e.__)("Show Download Button","pdfp")),wp.element.createElement(t.FormToggle,{id:"showDownloadPDF",checked:T?.showDownloadPDF,onChange:()=>a({adobeOptions:{...T,showDownloadPDF:!T?.showDownloadPDF}})})),["SIZED_CONTAINER"].includes(T.embedMode)&&wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"showFullScreen",className:"label"},(0,e.__)("Show Fullscreen Button","pdfp")),wp.element.createElement(t.FormToggle,{id:"showFullScreen",checked:T?.showFullScreen,onChange:()=>a({adobeOptions:{...T,showFullScreen:!T?.showFullScreen}})})),["FULL_WINDOW"].includes(T?.embedMode)&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"showAnnotationTools",className:"label"},(0,e.__)("Show Annotation Tools","pdfp")),wp.element.createElement(t.FormToggle,{id:"showAnnotationTools",checked:T?.showAnnotationTools,onChange:()=>a({adobeOptions:{...T,showAnnotationTools:!T?.showAnnotationTools}})})))),!u&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"protect",className:"label"},(0,e.__)("Protect my content","pdfp")),wp.element.createElement(t.FormToggle,{id:"protect",checked:_,onChange:()=>a({protect:!_})})),_&&wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"alert",className:"label"},(0,e.__)("Enable Alert","pdfp")),wp.element.createElement(t.FormToggle,{id:"alert",checked:F,onChange:()=>a({alert:!F})})),!_&&wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"print",className:"label"},(0,e.__)("Allow print","pdfp")),wp.element.createElement(t.FormToggle,{id:"print",checked:c,onChange:()=>a({print:!c})})),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"showName",className:"label"},(0,e.__)("Show title on top","pdfp")),wp.element.createElement(t.FormToggle,{id:"showName",checked:m,onChange:()=>a({showName:!m})})),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"onlyPDF",className:"label"},(0,e.__)("Raw PDF","pdfp")),wp.element.createElement(t.FormToggle,{id:"onlyPDF",checked:s,onChange:()=>a({onlyPDF:!s})})),!_&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"defaultBrowser",className:"label"},(0,e.__)("Use browser pdf viewer","pdfp")),wp.element.createElement(t.FormToggle,{id:"defaultBrowser",checked:d,onChange:()=>a({defaultBrowser:!d})})),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"downloadButton",className:"label"},(0,e.__)("Show download button","pdfp")),wp.element.createElement(t.FormToggle,{id:"downloadButton",checked:w,onChange:()=>a({downloadButton:!w})})),w&&wp.element.createElement(t.TextControl,{label:"",value:h,onChange:e=>a({downloadButtonText:e})})),!_&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"fullscreenButton",className:"label"},(0,e.__)("Show fullscreen button","pdfp")),wp.element.createElement(t.FormToggle,{id:"fullscreenButton",checked:f,onChange:()=>a({fullscreenButton:!f})})),f&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t.TextControl,{label:"",value:b,onChange:e=>a({fullscreenButtonText:e})}),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"newWindow",className:"label"},(0,e.__)("Open in new window","pdfp")),wp.element.createElement(t.FormToggle,{id:"newWindow",checked:E,onChange:()=>a({newWindow:!E})})))),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"thumbMenu",className:"label"},(0,e.__)("Enable thumbnails toggle menu","pdfp")),wp.element.createElement(t.FormToggle,{id:"thumbMenu",checked:v,onChange:()=>a({thumbMenu:!v})})),v&&wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"sidebarOpen",className:"label"},(0,e.__)("Show Thumb by Default","pdfp")),wp.element.createElement(t.FormToggle,{id:"sidebarOpen",checked:y,onChange:()=>a({sidebarOpen:!y})})),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"lastVersion",className:"label"},(0,e.__)("Load the last version of the PDF","pdfp")),wp.element.createElement(t.FormToggle,{id:"lastVersion",checked:S,onChange:()=>a({lastVersion:!S})})),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"hrScroll",className:"label"},(0,e.__)("Horizontal Scrollbar","pdfp")),wp.element.createElement(t.FormToggle,{id:"hrScroll",checked:N,onChange:()=>a({hrScroll:!N})})),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{className:"label"},(0,e.__)("Initail page","pdfp")),wp.element.createElement(t.__experimentalNumberControl,{isShiftStepEnabled:!0,onChange:e=>a({initialPage:e}),shiftStep:1,value:C})),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{className:"label"},(0,e.__)("Zoom Level (%)","pdfp")),wp.element.createElement(t.__experimentalNumberControl,{help:(0,e.__)("leave empty to set auto","pdfp"),isShiftStepEnabled:!0,onChange:e=>a({zoomLevel:e}),shiftStep:1,value:P})))),wp.element.createElement(t.PanelBody,{title:(0,e.__)("Style","pdfp"),initialOpen:!1},wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"Height",className:"label"},(0,e.__)("Height","pdfp")),wp.element.createElement(t.__experimentalUnitControl,{onChange:e=>a({height:e}),value:r,units:[{value:"px",label:"px",default:500},{value:"%",label:"%",default:100},{value:"vh",label:"vh",default:100}],isResetValueOnUnitChange:!0})),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"width",className:"label"},(0,e.__)("Width","pdfp")),wp.element.createElement(t.__experimentalUnitControl,{onChange:e=>a({width:e}),value:p,units:[{value:"px",label:"px",default:500},{value:"%",label:"%",default:100},{value:"vw",label:"vw",default:100}],isResetValueOnUnitChange:!0})),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",{htmlFor:"titleFontSize",className:"label"},(0,e.__)("Title Font Size","pdfp")),wp.element.createElement(t.__experimentalUnitControl,{onChange:e=>a({titleFontSize:e}),value:o,units:[{value:"px",label:"px",default:16},{value:"em",label:"em",default:1},{value:"rem",label:"rem",default:1}],isResetValueOnUnitChange:!0}))),"LIGHT_BOX"===T?.embedMode&&u&&wp.element.createElement(t.PanelBody,{title:(0,e.__)("Adobe Lightbox Button Style","pdfp")},wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",null,(0,e.__)("Background","bpm")),wp.element.createElement(i,{value:x?.background,onChange:e=>a({popupBtnStyle:{...x,background:e}})})),wp.element.createElement(t.PanelRow,null,wp.element.createElement("label",null,(0,e.__)("Text Color","bpm")),wp.element.createElement(i,{value:x?.color,onChange:e=>a({popupBtnStyle:{...x,color:e}})})),wp.element.createElement(g,{title:(0,e.__)("Padding","pdfp"),value:x?.padding||{},onChange:e=>a({popupBtnStyle:{...x,padding:e}})})))},{Fragment:_,useMemo:v,useEffect:y,useRef:C,useState:P}=wp.element,{RichText:F}=wp.blockEditor,S=({attributes:t,clientId:l,setAttributes:n,isSelected:a,isPreset:o=!1})=>{const r="http://localhost/freemius/wp-content/uploads/2022/02/temp.pdf",{uniqueId:p="pdfpnewId",file:m=pdfp?.placeholder||r,title:i,titleFontSize:c,height:s,width:d,showName:u,print:w,onlyPDF:h,downloadButton:f,downloadButtonText:b,fullscreenButton:g,fullscreenButtonText:E,protect:S,thumbMenu:N,hrScroll:T,initialPage:x,zoomLevel:k,additional:B,adobeEmbedder:D,adobeOptions:O,align:I,popupBtnStyle:L,CSS:R,popupBtnText:A}=t,M=C(),[U,j]=P(null),$=v((()=>({showPrintPDF:!1,showDownloadPDF:!1,showAnnotationTools:!1,embedMode:O.embedMode})),[]);y((()=>{!D&&M.current&&(M.current.innerHTML=""),M?.current&&"LIGHT_BOX"!=O.embedMode&&W(S?$:O)}),[O,D,m,S]),y((()=>{document.getElementById(p)&&(document.getElementById(p).style.height=s)}),[O.embedMode]);const W=e=>{"undefined"!=typeof AdobeDC&&new AdobeDC.View({clientId:fpdfAdmin?.adobeClientKey,divId:p}).previewFile({content:{location:{url:m}},metaData:{fileName:i||" "}},e)};return y((()=>{let e="";if(m.includes(window.location.origin)){let t="&z=auto";k&&(t="&z="+k/100),e=`${pdfp?.dir}pdfjs-new/web/viewer.html?file=${m}${t}&raw=${h?"1":""}&nobaki=${!S&&f?"vera":"false"}&stdono=${w&&!S?"vera":"false"}&open=false&onlypdf=${h?"vera":"false"}&hrscroll=${T?"vera":"false"}&side=${N}#page=${x}`}else m.includes(".google.com")&&(e=m);j(e)}),[h,N,x,S,T,m,k]),y((()=>{n({CSS:`.${p}btn {background: ${L?.background}; color: ${L?.color}; padding: ${L?.padding?.top}px ${L?.padding?.right}px ${L?.padding?.bottom}px ${L?.padding?.left}px}`})}),[L,p,s]),wp.element.createElement("div",null,D?wp.element.createElement(wp.element.Fragment,null,fpdfAdmin?.adobeClientKey?wp.element.createElement("div",{className:"pdfp_editor_wrapper pdfp_wrapper",ref:M,style:{width:`${"LIGHT_BOX"===O?.embedMode?"fit-content":d} `},"data-align":I},a?"":wp.element.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,minHeight:"400px"}}),"LIGHT_BOX"===O?.embedMode?wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("style",null,R),wp.element.createElement("button",{className:`${p}btn`,onClick:()=>{!o&&W(S?$:O)}},A||m?.split(".").slice(0,-1).join("."))):wp.element.createElement("div",{id:p,style:{height:s}})):wp.element.createElement("div",{style:{padding:"20px",border:"1px solid #ddd"}},wp.element.createElement("h2",null,(0,e.__)("Adobe Client Key Required to use Adobe Embedder","pdfp")),wp.element.createElement("a",{className:"button button-primary",target:"_blank",href:`${pdfp?.siteUrl}/wp-admin/edit.php?post_type=pdfposter&page=fpdf-settings#tab=cloud-api`},(0,e.__)("Generate Client key","pdfp")))):wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("div",{className:`pdfp_wrapper ${a&&"pdfp_editor_wrapper"} ${B.Class}`,style:{width:d}},u&&!o&&wp.element.createElement(F,{tagName:"p",value:i,allowedFormats:[],style:{fontSize:c,margin:"20px"},onChange:e=>n({title:e}),placeholder:(0,e.__)("Title","pdfp")}),m.includes("dropbox.com")?wp.element.createElement("div",{style:{border:"2px solid #ddd"}},wp.element.createElement("p",null,m),wp.element.createElement("p",null,(0,e.__)("Preview is not available for dropbox","pdfp"))):wp.element.createElement(_,null,wp.element.createElement("div",{className:"cta_wrapper"},f&&!S&&wp.element.createElement("a",{className:"pdfp_download",onClick:e=>e.preventDefault(),download:!0,href:m},wp.element.createElement("button",{className:"pdfp_download_btn"},b)),g&&!S&&wp.element.createElement("a",{href:U,onClick:e=>e.preventDefault(),target:"_blank"},wp.element.createElement("button",null,E))),wp.element.createElement("div",{className:"iframe_wrapper"},wp.element.createElement("div",{className:"pdfp_frame_overlay"}),wp.element.createElement("iframe",{className:"pdfp_iframe",height:s,style:{height:s},src:U}))))))},N=async(e="GET",t={})=>await jQuery.ajax({method:e,url:pdfp?.ajax_url,dataType:"json",data:{action:"pdf_poster_ajax",nonce:pdfp?.nonce,...t}}).then((e=>e)).catch((e=>console.log({error:e})));function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)({}).hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},T.apply(null,arguments)}const{useEffect:x,useState:k}=wp.element,B=l=>{const{attributes:n,setAttributes:a,preset:o,setPreset:r,setModalOpen:p}=l,{statePresets:m=[]}=n,[i,c]=k(!1),s=e=>{r({...o,preset:{...o.preset,...e}})};return wp.element.createElement("div",null,wp.element.createElement(t.Modal,{shouldCloseOnClickOutside:!1,title:(0,e.__)("Preset","pdfp"),onRequestClose:()=>{p(!1),r(null)},className:"pdfpPresetModal"},wp.element.createElement(t.TextControl,{value:o.name,onChange:e=>r({...o,name:e})}),wp.element.createElement("div",{className:"pdfpPreset"},wp.element.createElement("div",{className:"options"},wp.element.createElement(E,{attributes:o.preset||{},setAttributes:s})),wp.element.createElement("div",{className:"preview"},wp.element.createElement(S,T({isPreset:!0},l,{attributes:o.preset,setAttributes:s})))),wp.element.createElement("div",{className:"actionsWrapper"},wp.element.createElement("div",{className:"actions"},wp.element.createElement("div",null),wp.element.createElement("div",null,i&&wp.element.createElement("div",{class:"pdfp_loader"}),wp.element.createElement(t.Button,{disabled:i,variant:"primary",onClick:async e=>{c(!0);const{addional:t,file:l,uniqueId:n,title:i,CSS:s,...d}=o.preset,{data:u}=await N("POST",{model:"Presets",method:"create",name:o.name,preset:d,id:o.id});if(c(!1),u){if(o.id)a({statePresets:m.map((e=>e.id===o.id?o:e))});else{const e=[...m,{...o,id:u.id}];a({statePresets:e})}r({...o,id:u.id})}p(!1)}},o?.id?(0,e.__)("Update","pdfp"):(0,e.__)("Create","pdfp")))))))},{Fragment:D}=wp.element,{MediaUpload:O,MediaUploadCheck:I}=wp.blockEditor,{Button:L,PanelRow:R,TextControl:A}=wp.components;const M=function({value:e,type:t=[],onSelect:l}){return wp.element.createElement("div",{className:"bMediaUpload"},wp.element.createElement(D,null,wp.element.createElement(I,null,wp.element.createElement(O,{allowedTypes:t,onSelect:e=>l(e.url),render:({open:e})=>wp.element.createElement(L,{className:"button button-primary",onClick:e,icon:"upload"})})),wp.element.createElement(R,{className:"width-100"},wp.element.createElement(A,{id:"picker_field",value:e,onChange:e=>l(e)}))))},U=({setAttributes:e,clientId:l,appId:n,developerKey:a})=>{var o=["https://www.googleapis.com/auth/drive.file"];if(!l||!n||!a)return wp.element.createElement(wp.element.Fragment,null);var r,p=!1;function m(){window.gapi.auth.authorize({client_id:l,scope:o,immediate:!1},c)}function i(){p=!0,s()}function c(e){e&&!e.error&&(r=e.access_token,s())}function s(){if(p&&r){var e=new google.picker.View(google.picker.ViewId.DOCS);(new google.picker.PickerBuilder).setAppId(n).setOAuthToken(r).addView(e).addView(new google.picker.DocsUploadView).setDeveloperKey(a).setCallback(d).build().setVisible(!0)}}function d(t){t.action==google.picker.Action.PICKED&&(t.docs?.[0]?.embedUrl?e({file:t.docs[0]?.embedUrl}):s())}return wp.element.createElement(t.PanelRow,null,wp.element.createElement("button",{onClick:function(){gapi.load("auth",{callback:m}),gapi.load("picker",{callback:i})},className:"drive-picker-button"},"Choose From Google Drive"))};function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)({}).hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},j.apply(null,arguments)}const $=({label:t,className:l,onChange:n,isPremium:a=!1,Component:o,setOpen:r=(()=>{}),...p})=>wp.element.createElement(o,j({className:`${l} ${a?"":"bplProIdentifier"}`,label:(t=>a?t:wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("span",{className:"bplOpacity75"},t)," ",wp.element.createElement("span",{className:"labelPro"},(0,e.__)("Pro","text-domain"))))(t),onChange:e=>{a?n(e):r(!0)},isPremium:a},p)),{Fragment:W,useEffect:z,useRef:G,useState:V}=wp.element,{Panel:H,PanelBody:X,PanelRow:Z,FormToggle:q,TextControl:K,__experimentalNumberControl:Q,__experimentalUnitControl:Y}=wp.components,{InspectorControls:J}=wp.blockEditor,{select:ee}=wp.data,te=l=>{const{getCurrentPostId:n}=ee("core/editor"),a=G(null),[o,r]=(G(null),V(!1)),[p,m]=V(!1),[c,s]=V(!1),[d,u]=V(pdfp?.pipe),{attributes:w,preset:h,setPreset:f,setAttributes:b,setModalOpen:E}=l,{uniqueId:_,file:v,title:y,titleFontSize:C,height:P,width:F,showName:S,print:T,onlyPDF:x,defaultBrowser:k,adobeEmbedder:B,downloadButton:D,downloadButtonText:O,fullscreenButton:I,fullscreenButtonText:L,newWindow:R}=w,{protect:A,thumbMenu:j,sidebarOpen:te,initialPage:le,zoomLevel:ne,alert:ae,lastVersion:oe,hrScroll:re,additional:pe,adobeOptions:me,popupBtnStyle:ie,popupBtnText:ce,statePresets:se=[]}=w;z((()=>{if("undefined"!=typeof Dropbox){options={success:function(e){b({file:e?.[0]?.link})},cancel:function(){},linkType:"preview",multiselect:!1,folderselect:!1};var e=Dropbox.createChooseButton(options);setTimeout((()=>{a.current&&!a.current?.hasChildNodes()&&a.current.appendChild(e)}),1e3)}(async()=>{const{data:e}=await N("GET",{model:"Presets",method:"all"});b({statePresets:e})})()}),[]);const de=async e=>{s(!0);const{data:t}=await(async e=>await jQuery.ajax({method:"POST",url:pdfp?.ajax_url,dataType:"json",data:{action:"pdf_poster_ajax",nonce:pdfp?.nonce,model:"Presets",method:"delete",id:e}}).then((e=>e)).catch((e=>console.log({err:e}))))(e);t&&b({statePresets:se.filter((t=>t.id!==e))}),m(!1),s(!1)},ue=ee("core/editor").getCurrentPostType(),we=n();return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(J,{style:{marginBottom:"40px"}},wp.element.createElement(W,null,wp.element.createElement(H,null,"pdfposter"===ue&&wp.element.createElement(X,null,wp.element.createElement(Z,null,wp.element.createElement("div",{className:"pdfp_front_shortcode"},wp.element.createElement("input",{value:`[pdf id=${we}]`}),wp.element.createElement("span",{className:"htooltip"},(0,e.__)("Copy To Clipboard","pdfp"))))),wp.element.createElement(X,null,d&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(Z,null,wp.element.createElement("div",{id:"picker_container",ref:a})),wp.element.createElement(U,{setAttributes:b,clientId:fpdfAdmin?.gClientId,appId:fpdfAdmin?.gAppId,developerKey:fpdfAdmin?.gDeveloperKey})),wp.element.createElement(Z,null,wp.element.createElement("label",{className:"label"},(0,e.__)("Upload PDF","pdfp"))),wp.element.createElement(M,{type:["application/pdf"],onSelect:e=>b({file:e}),value:v,placeholder:"Audio URL"}),d&&wp.element.createElement(K,{disabled:!d,label:(0,e.__)("Title","pdfp"),value:y,onChange:e=>b({title:e})}),!d&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(t.ToggleControl,{label:(0,e.__)("Allow print","pdfp"),id:"print",checked:T,onChange:()=>b({print:!T})}),wp.element.createElement(t.ToggleControl,{label:(0,e.__)("Show title on top","pdfp"),id:"showName",checked:S,onChange:()=>b({showName:!S})}),wp.element.createElement(K,{label:(0,e.__)("Fullscreen Button Text","pdfp"),value:L,onChange:e=>b({fullscreenButtonText:e})}))),d&&wp.element.createElement(X,{title:(0,e.__)("Presets","pdfp")},wp.element.createElement("div",{className:"pdfp-presets"},se.map((l=>wp.element.createElement(wp.element.Fragment,null,wp.element.createElement("div",{className:"pdfp-preset-item"},wp.element.createElement("div",{className:"box",onClick:()=>{b({...l.preset})}},wp.element.createElement("span",null,l.name?.[0]?.toUpperCase())),wp.element.createElement("div",{className:"actions"},wp.element.createElement(t.Dashicon,{icon:"edit",title:(0,e.__)("Edit","pdfp"),onClick:()=>{f(l),E(!0)}}),wp.element.createElement(t.Dashicon,{icon:"trash",title:(0,e.__)("Delete","pdfp"),onClick:e=>{e.preventDefault(),m(l.id)}})),wp.element.createElement("p",null,l?.name||(0,e.__)("Unknown Name","pdfp"))))))),wp.element.createElement(t.Button,{variant:"primary",onClick:()=>{E(!0);const{uniqueId:e,statePresets:t,...l}=w;f({preset:l})}},(0,e.__)("Add New Preset","pdfp"))),wp.element.createElement(X,{title:(0,e.__)("Settings","pdfp"),initialOpen:!1},wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("use adobe PDF embedder","pdfp"),id:"adobeEmbedder",checked:B,onChange:()=>b({adobeEmbedder:!B})}),wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Protect my content","pdfp"),id:"protect",checked:A,onChange:()=>b({protect:!A})}),B&&d&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(Z,null,wp.element.createElement("label",{htmlFor:"embedMode",className:"label"},(0,e.__)("Embed Mode","pdfp")),wp.element.createElement(t.SelectControl,{options:[{label:"Sized Container",value:"SIZED_CONTAINER"},{label:"Full Window",value:"FULL_WINDOW"},{label:"In-Line",value:"IN_LINE"},{label:"Lightbox",value:"LIGHT_BOX"}],value:me.embedMode,onChange:e=>b({adobeOptions:{...me,embedMode:e}})})),!A&&wp.element.createElement(wp.element.Fragment,null,"LIGHT_BOX"===me?.embedMode&&wp.element.createElement(Z,null,wp.element.createElement(K,{label:(0,e.__)("Button Text","pdfp"),value:ce,onChange:e=>b({popupBtnText:e})})),["SIZED_CONTAINER","IN_LINE","LIGHT_BOX","FULL_WINDOW"].includes(me.embedMode)&&wp.element.createElement(Z,null,wp.element.createElement("label",{htmlFor:"showPrintPDF",className:"label"},(0,e.__)("Show Print Button","pdfp")),wp.element.createElement(q,{id:"showPrintPDF",checked:me?.showPrintPDF,onChange:()=>b({adobeOptions:{...me,showPrintPDF:!me?.showPrintPDF}})})),["SIZED_CONTAINER","IN_LINE","LIGHT_BOX","FULL_WINDOW"].includes(me.embedMode)&&wp.element.createElement(Z,null,wp.element.createElement("label",{htmlFor:"showDownloadPDF",className:"label"},(0,e.__)("Show Download Button","pdfp")),wp.element.createElement(q,{id:"showDownloadPDF",checked:me?.showDownloadPDF,onChange:()=>b({adobeOptions:{...me,showDownloadPDF:!me?.showDownloadPDF}})})),["SIZED_CONTAINER"].includes(me.embedMode)&&wp.element.createElement(Z,null,wp.element.createElement("label",{htmlFor:"showFullScreen",className:"label"},(0,e.__)("Show Fullscreen Button","pdfp")),wp.element.createElement(q,{id:"showFullScreen",checked:me?.showFullScreen,onChange:()=>b({adobeOptions:{...me,showFullScreen:!me?.showFullScreen}})})),["FULL_WINDOW"].includes(me.embedMode)&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(Z,null,wp.element.createElement("label",{htmlFor:"showAnnotationTools",className:"label"},(0,e.__)("Show Annotation Tools","pdfp")),wp.element.createElement(q,{id:"showAnnotationTools",checked:me?.showAnnotationTools,onChange:()=>b({adobeOptions:{...me,showAnnotationTools:!me?.showAnnotationTools}})}))))),!B&&wp.element.createElement(wp.element.Fragment,null,A&&wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Enable Alert","pdfp"),id:"alert",checked:ae,onChange:()=>b({alert:!ae})}),!A&&d&&wp.element.createElement(t.ToggleControl,{label:(0,e.__)("Allow print","pdfp"),id:"print",checked:T,onChange:()=>b({print:!T})}),d&&wp.element.createElement(t.ToggleControl,{label:(0,e.__)("Show title on top","pdfp"),id:"showName",checked:S,onChange:()=>b({showName:!S})}),wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Raw PDF","pdfp"),id:"onlyPDF",checked:x,onChange:()=>b({onlyPDF:!x})}),!A&&wp.element.createElement(W,null,wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Use browser pdf viewer","pdfp"),id:"defaultBrowser",checked:k,onChange:()=>b({defaultBrowser:!k})}),wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Show download button","pdfp"),id:"downloadButton",checked:D,onChange:()=>b({downloadButton:!D})}),D&&wp.element.createElement($,{isPremium:d,Component:K,label:"Download Button Text",value:O,onChange:e=>b({downloadButtonText:e})})),!A&&wp.element.createElement(W,null,wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Show fullscreen button","pdfp"),id:"fullscreenButton",checked:I,onChange:()=>b({fullscreenButton:!I})}),I&&wp.element.createElement(W,null,d&&wp.element.createElement(K,{label:(0,e.__)("Fullscreen Button Text","pdfp"),value:L,onChange:e=>b({fullscreenButtonText:e})}),wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Open fullscreen in new window","pdfp"),id:"newWindow",checked:R,onChange:()=>b({newWindow:!R})}))),!x&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Enable thumbnails toggle menu","pdfp"),id:"thumbMenu",checked:j,onChange:()=>b({thumbMenu:!j})}),j&&wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Show Thumb by Default","pdfp"),id:"sidebarOpen",checked:te,onChange:()=>b({sidebarOpen:!te})})),wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Load the last version of the PDF","pdfp"),id:"lastVersion",checked:oe,onChange:()=>b({lastVersion:!oe})}),wp.element.createElement($,{isPremium:d,Component:t.ToggleControl,label:(0,e.__)("Horizontal Scrollbar","pdfp"),id:"hrScroll",checked:re,onChange:()=>b({hrScroll:!re})}),wp.element.createElement($,{label:(0,e.__)("Initail page","pdfp"),isPremium:d,Component:Q,isShiftStepEnabled:!0,onChange:e=>b({initialPage:e}),shiftStep:1,value:le}),wp.element.createElement($,{label:(0,e.__)("Zoom Level (%)","pdfp"),isPremium:d,Component:Q,help:(0,e.__)("leave empty to set auto","pdfp"),isShiftStepEnabled:!0,onChange:e=>b({zoomLevel:parseInt(e)}),min:25,max:400,shiftStep:1,value:ne}))),wp.element.createElement(X,{title:(0,e.__)("Style","pdfp"),initialOpen:!1},wp.element.createElement(Z,null,wp.element.createElement("label",{htmlFor:"Height",className:"label"},(0,e.__)("Height","pdfp")),wp.element.createElement(Y,{onChange:e=>b({height:e}),value:P,units:[{value:"px",label:"px",default:500},{value:"%",label:"%",default:100},{value:"vh",label:"vh",default:100}],isResetValueOnUnitChange:!0})),wp.element.createElement(Z,null,wp.element.createElement("label",{htmlFor:"width",className:"label"},(0,e.__)("Width","pdfp")),wp.element.createElement(Y,{onChange:e=>b({width:e}),value:F,units:[{value:"px",label:"px",default:500},{value:"%",label:"%",default:100},{value:"vw",label:"vw",default:100}],isResetValueOnUnitChange:!0})),d&&wp.element.createElement(Y,{label:(0,e.__)("Title Font Size","pdfp"),onChange:e=>b({titleFontSize:e}),value:C,units:[{value:"px",label:"px",default:16},{value:"em",label:"em",default:1},{value:"rem",label:"rem",default:1}],isResetValueOnUnitChange:!0})),"LIGHT_BOX"===me.embedMode&&B&&d&&wp.element.createElement(X,{title:(0,e.__)("Adobe Lightbox Button Style","pdfp")},wp.element.createElement(Z,null,wp.element.createElement("label",null,(0,e.__)("Background","bpm")),wp.element.createElement(i,{value:ie?.background,onChange:e=>b({popupBtnStyle:{...ie,background:e}})})),wp.element.createElement(Z,null,wp.element.createElement("label",null,(0,e.__)("Text Color","bpm")),wp.element.createElement(i,{value:ie?.color,onChange:e=>b({popupBtnStyle:{...ie,color:e}})})),wp.element.createElement(g,{title:(0,e.__)("Padding","pdfp"),value:ie?.padding||{},onChange:e=>b({popupBtnStyle:{...ie,padding:e}})})),wp.element.createElement(X,{title:(0,e.__)("Additional","pdfp"),initialOpen:!1},wp.element.createElement($,{isPremium:d,Component:K,label:(0,e.__)("Class","pdfp"),value:pe.Class,onChange:e=>b({additional:{...pe,Class:e}})}),wp.element.createElement($,{isPremium:d,Component:t.TextareaControl,label:(0,e.__)("CSS","pdfp"),value:pe.CSS,onChange:e=>b({additional:{...pe,CSS:e}})}))))),p&&wp.element.createElement(t.Modal,{title:(0,e.__)("Do you want to delete?","pdfp"),onRequestClose:()=>m(!1)},wp.element.createElement("div",{className:"confirmPresetDelete"},c&&wp.element.createElement("span",{className:"pdfp_loader"}),wp.element.createElement(t.Button,{disabled:c,variant:"primary",onClick:()=>{r(!0),de(p)}},(0,e.__)("Yes","pdfp")))))},le=wp.element,{__:ne}=wp.i18n,{MediaUpload:ae,MediaUploadCheck:oe,URLPopover:re}=wp.blockEditor,pe=({setAttributes:e,attributes:l})=>{const{file:n}=l,[a,o]=(0,le.useState)(""),[r,p]=(0,le.useState)(!0),[m,i]=(0,le.useState)(!0),[c,s]=(0,le.useState)(null),[d,u]=(0,le.useState)(!1),w=((0,le.useRef)(null),e=>!!new RegExp("https?","i").test(e));return wp.element.createElement(le.Fragment,null,wp.element.createElement(t.Placeholder,{icon:wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"html5-block-icon"},wp.element.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),wp.element.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),instructions:ne("Upload a PDF or paste/write PDF URL.","pdfp"),label:ne("Upload a PDF ","pdfp")},wp.element.createElement(oe,null,wp.element.createElement(ae,{allowedTypes:["application/pdf"],onSelect:t=>e({file:t.url}),render:({open:e})=>wp.element.createElement(t.Button,{isPrimary:!0,onClick:e},ne("Upload","pdfp"))})),wp.element.createElement("div",{className:"h5vpUrlInput"},wp.element.createElement("h3",{style:{fontSize:"15px"}}," Or "),wp.element.createElement("input",{type:"url","aria-label":ne("URL","pdfp"),placeholder:ne("Paste or type a PDF URL","pdfp"),onChange:e=>{pdfp?.pipe?o(e.target.value):i(!0)},value:a}),wp.element.createElement(t.Button,{label:ne("Apply","pdfp"),type:"submit",onClick:t=>{if(t.preventDefault(),!w(a))return p(!1),!1;p(!0),o(""),e({file:a})},isPrimary:!0},ne("Apply","pdfp"))),!r&&wp.element.createElement("p",{style:{color:"#bd1818",width:"100%",margin:0}},ne("URL is not valid","pdfp"))))};function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)({}).hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},me.apply(null,arguments)}const{Fragment:ie,useState:ce,useEffect:se,useRef:de}=wp.element;const ue=function(e){const{attributes:t,setAttributes:l,clientId:n}=e,{uniqueId:a,file:o=pdfp?.placeholder,additional:r,adobeOptions:p}=t,[m,i]=ce(!1),[c,s]=ce({preset:t});return se((()=>{l({uniqueId:"pdfp"+n.substr(0,8)}),l({adobeOptions:{...p,updated:!0}})}),[]),o?wp.element.createElement(ie,null,wp.element.createElement("style",null,r?.CSS),wp.element.createElement(te,me({setModalOpen:i},e,{setPreset:s})),wp.element.createElement(S,e),pdfp?.pipe&&wp.element.createElement(wp.element.Fragment,null,m&&wp.element.createElement(B,me({preset:c,setPreset:s,setModalOpen:i},e)))):wp.element.createElement(pe,{attributes:t,setAttributes:l})},we=JSON.parse('{"apiVersion":"1","name":"pdfp/pdfposter","title":"PDF Poster","description":"","category":"design","icon":"pdf","keywords":["PDF poster","Document poster","PDF Embedder"],"textdomain":"pdfp","attributes":{"uniqueId":{"type":"string","default":""},"file":{"type":"string","default":""},"title":{"type":"string","default":""},"titleFontSize":{"type":"string","default":"16px"},"height":{"type":"string","default":"1122px"},"width":{"type":"string","default":"100%"},"showName":{"type":"boolean","default":false},"print":{"type":"boolean","default":false},"onlyPDF":{"type":"boolean","default":false},"defaultBrowser":{"type":"boolean","default":false},"downloadButton":{"type":"boolean","default":false},"downloadButtonText":{"type":"string","default":"Download File"},"fullscreenButton":{"type":"boolean","default":true},"fullscreenButtonText":{"type":"string","default":"View Fullscreen"},"newWindow":{"type":"boolean","default":false},"protect":{"type":"boolean","default":false},"thumbMenu":{"type":"boolean","default":false},"sidebarOpen":{"type":"boolean","default":false},"initialPage":{"type":"number","default":0},"zoomLevel":{"type":"number"},"alert":{"type":"boolean","default":false},"lastVersion":{"type":"boolean","default":false},"hrScroll":{"type":"boolean","default":false},"additional":{"type":"object","default":{"ID":"","Class":"","CSS":""}},"adobeEmbedder":{"type":"boolean","default":false},"adobeOptions":{"type":"object","default":{"showDownloadPDF":true,"showPrintPDF":true,"showAnnotationTools":true,"showFullScreen":false,"embedMode":"SIZED_CONTAINER"}},"popupBtnStyle":{"type":"object","default":{"background":"#2271b1","color":"#fff","padding":{"top":10,"right":20,"bottom":10,"left":10}}},"popupBtnText":{"type":"string","default":"Open Document"},"CSS":{"type":"string","default":""}},"supports":{"html":false,"lock":false},"example":{"attributes":{"preview":true}}}'),{registerBlockType:he}=wp.blocks;he(we,{edit:ue,save:()=>null});const fe={data:{type:"object",default:{tringle_text:""}}},{Panel:be,PanelBody:ge,SelectControl:Ee}=wp.components,{InspectorControls:_e}=wp.blockEditor,{withSelect:ve}=wp.data,{compose:ye}=wp.compose,Ce=ye([ve(((e,t)=>({docs:e("core").getEntityRecords("postType","pdfposter",{per_page:100})})))])((e=>{const{props:{attributes:t,setAttributes:l},docs:n}=e,{data:a}=t;let o;return n&&(o=n.map(((e,t)=>({label:e?.title?.rendered,value:e?.id}))),o=[{label:"Select",value:null},...o]),wp.element.createElement(_e,{style:{marginBottom:"40px"}},wp.element.createElement(be,null,wp.element.createElement(ge,null,wp.element.createElement(Ee,{label:"Size",value:a?.tringle_text,options:o,onChange:e=>l({data:{tringle_text:e}})}))))})),{Fragment:Pe,useEffect:Fe,useState:Se}=wp.element;const Ne=function(e){const{attributes:t}=e,{data:{tringle_text:l}}=t,[n,a]=Se({});Fe((()=>{jQuery.get(pdfp?.siteUrl+"/wp-json/pdfposter/v1/single/"+l,(function(e){a(e)}))}),[t]);const{file:o=pdfp?.placeholder,title:r,titleFontSize:p,height:m="1122px",width:i="100%",showName:c,print:s,onlyPDF:d,downloadButton:u,downloadButtonText:w,fullscreenButton:h,fullscreenButtonText:f,protect:b,thumbMenu:g,initialPage:E}=n,_=`${pdfp?.dir}pdfjs/web/${b?"pviewer.php":"viewer.php"}?file=${o}&nobaki=${!b&&u?"vera":"false"}&stdono=${s&&!b?"vera":"false"}&open=false&onlypdf=${d?"vera":"false"}&side=${g}#page=${E}`;return wp.element.createElement(Pe,null,wp.element.createElement(Ce,{props:e}),wp.element.createElement("div",{className:"pdfp_wrapper",style:{width:i}},c&&wp.element.createElement("p",{style:{fontSize:p}},r),wp.element.createElement("div",{className:"cta_wrapper"},u&&!b&&wp.element.createElement("a",{className:"pdfp_download",download:!0,href:o},wp.element.createElement("button",{className:"pdfp_download_btn"},w)),h&&!b&&wp.element.createElement("a",{href:_,target:"_blank"},wp.element.createElement("button",null,f))),wp.element.createElement("div",{className:"iframe_wrapper"},wp.element.createElement("div",{className:"pdfp_frame_overlay"}),wp.element.createElement("iframe",{className:"pdfp_iframe",height:m,style:{height:m},src:_}))))},{registerBlockType:Te}=wp.blocks;Te("meta-box/document-embedder",{title:(0,e.__)("PDF Poster Selector","pdfp"),icon:"pdf",category:"design",keywords:[(0,e.__)("PDF Poster","pdfp"),(0,e.__)("PDF Viewer","pdfp")],supports:{html:!1},attributes:fe,getEditWrapperProps:()=>{},edit:Ne,save:()=>null,example:{attributes:!0}})})()})();
//# sourceMappingURL=editor.js.map